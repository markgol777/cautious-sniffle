"use strict";(self.webpackChunkhomework=self.webpackChunkhomework||[]).push([[179],{652:()=>{function Ue(n){return"function"==typeof n}function bf(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const py=bf(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function gl(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Qn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ue(r))try{r()}catch(s){e=s instanceof py?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{sU(s)}catch(o){e=e??[],o instanceof py?e=[...e,...o.errors]:e.push(o)}}if(e)throw new py(e)}}add(e){var t;if(e&&e!==this)if(this.closed)sU(e);else{if(e instanceof Qn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&gl(t,e)}remove(e){const{_finalizers:t}=this;t&&gl(t,e),e instanceof Qn&&e._removeParent(this)}}Qn.EMPTY=(()=>{const n=new Qn;return n.closed=!0,n})();const rU=Qn.EMPTY;function iU(n){return n instanceof Qn||n&&"closed"in n&&Ue(n.remove)&&Ue(n.add)&&Ue(n.unsubscribe)}function sU(n){Ue(n)?n():n.unsubscribe()}const bc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},gy={setTimeout(n,e,...t){const{delegate:r}=gy;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=gy;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function oU(n){gy.setTimeout(()=>{const{onUnhandledError:e}=bc;if(!e)throw n;e(n)})}function Eb(){}const Ose=Ib("C",void 0,void 0);function Ib(n,e,t){return{kind:n,value:e,error:t}}let Cc=null;function my(n){if(bc.useDeprecatedSynchronousErrorHandling){const e=!Cc;if(e&&(Cc={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Cc;if(Cc=null,t)throw r}}else n()}class Tb extends Qn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,iU(e)&&e.add(this)):this.destination=jse}static create(e,t,r){return new Cf(e,t,r)}next(e){this.isStopped?Cb(function Lse(n){return Ib("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Cb(function Nse(n){return Ib("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cb(Ose,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Vse=Function.prototype.bind;function bb(n,e){return Vse.call(n,e)}class Use{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){_y(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){_y(r)}else _y(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){_y(t)}}}class Cf extends Tb{constructor(e,t,r){let i;if(super(),Ue(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&bc.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bb(e.next,s),error:e.error&&bb(e.error,s),complete:e.complete&&bb(e.complete,s)}):i=e}this.destination=new Use(i)}}function _y(n){bc.useDeprecatedSynchronousErrorHandling?function Fse(n){bc.useDeprecatedSynchronousErrorHandling&&Cc&&(Cc.errorThrown=!0,Cc.error=n)}(n):oU(n)}function Cb(n,e){const{onStoppedNotification:t}=bc;t&&gy.setTimeout(()=>t(n,e))}const jse={closed:!0,next:Eb,error:function Bse(n){throw n},complete:Eb},Ab="function"==typeof Symbol&&Symbol.observable||"@@observable";function aa(n){return n}function aU(n){return 0===n.length?aa:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ht=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function Gse(n){return n&&n instanceof Tb||function zse(n){return n&&Ue(n.next)&&Ue(n.error)&&Ue(n.complete)}(n)&&iU(n)}(t)?t:new Cf(t,r,i);return my(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=cU(r))((i,s)=>{const o=new Cf({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Ab](){return this}pipe(...t){return aU(t)(this)}toPromise(t){return new(t=cU(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function cU(n){var e;return null!==(e=n??bc.Promise)&&void 0!==e?e:Promise}const Hse=bf(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ke=(()=>{class n extends ht{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new uU(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Hse}next(t){my(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){my(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){my(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?rU:(this.currentObservers=null,s.push(t),new Qn(()=>{this.currentObservers=null,gl(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ht;return t.source=this,t}}return n.create=(e,t)=>new uU(e,t),n})();class uU extends ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:rU}}function lU(n){return Ue(n?.lift)}function tn(n){return e=>{if(lU(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ft(n,e,t,r,i){return new qse(n,e,t,r,i)}class qse extends Tb{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function je(n,e){return tn((t,r)=>{let i=0;t.subscribe(Ft(r,s=>{r.next(n.call(e,s,i++))}))})}function Af(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function ca(n){return this instanceof ca?(this.v=n,this):new ca(n)}function pU(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Pb(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}(a,c,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Rb=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function gU(n){return Ue(n?.then)}function mU(n){return Ue(n[Ab])}function _U(n){return Symbol.asyncIterator&&Ue(n?.[Symbol.asyncIterator])}function yU(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vU=function foe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wU(n){return Ue(n?.[vU])}function EU(n){return function fU(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof ca?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ca(t.read());if(i)return yield ca(void 0);yield yield ca(r)}}finally{t.releaseLock()}})}function IU(n){return Ue(n?.getReader)}function kr(n){if(n instanceof ht)return n;if(null!=n){if(mU(n))return function poe(n){return new ht(e=>{const t=n[Ab]();if(Ue(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Rb(n))return function goe(n){return new ht(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(gU(n))return function moe(n){return new ht(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,oU)})}(n);if(_U(n))return TU(n);if(wU(n))return function _oe(n){return new ht(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(IU(n))return function yoe(n){return TU(EU(n))}(n)}throw yU(n)}function TU(n){return new ht(e=>{(function voe(n,e){var t,r,i,s;return function dU(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=pU(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ao(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Mn(n,e,t=1/0){return Ue(e)?Mn((r,i)=>je((s,o)=>e(r,s,i,o))(kr(n(r,i))),t):("number"==typeof e&&(t=e),tn((r,i)=>function woe(n,e,t,r,i,s,o,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{s&&e.next(g),u++;let m=!1;kr(t(g,l++)).subscribe(Ft(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){const w=c.shift();o?ao(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return n.subscribe(Ft(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function ml(n=1/0){return Mn(aa,n)}const fs=new ht(n=>n.complete());function bU(n){return n&&Ue(n.schedule)}function Mb(n){return n[n.length-1]}function CU(n){return Ue(Mb(n))?n.pop():void 0}function Df(n){return bU(Mb(n))?n.pop():void 0}function yy(n,e=0){return tn((t,r)=>{t.subscribe(Ft(r,i=>ao(r,n,()=>r.next(i),e),()=>ao(r,n,()=>r.complete(),e),i=>ao(r,n,()=>r.error(i),e)))})}function vy(n,e=0){return tn((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function AU(n,e){if(!n)throw new Error("Iterable cannot be null");return new ht(t=>{ao(t,e,()=>{const r=n[Symbol.asyncIterator]();ao(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function kn(n,e){return e?function Soe(n,e){if(null!=n){if(mU(n))return function Toe(n,e){return kr(n).pipe(vy(e),yy(e))}(n,e);if(Rb(n))return function Coe(n,e){return new ht(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(gU(n))return function boe(n,e){return kr(n).pipe(vy(e),yy(e))}(n,e);if(_U(n))return AU(n,e);if(wU(n))return function Aoe(n,e){return new ht(t=>{let r;return ao(t,e,()=>{r=n[vU](),ao(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Ue(r?.return)&&r.return()})}(n,e);if(IU(n))return function Doe(n,e){return AU(EU(n),e)}(n,e)}throw yU(n)}(n,e):kr(n)}function kb(...n){const e=Df(n),t=function Ioe(n,e){return"number"==typeof Mb(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?kr(r[0]):ml(t)(kn(r,e)):fs}class hi extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function le(...n){return kn(n,Df(n))}function Ob(n={}){const{connector:e=(()=>new ke),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return tn((g,m)=>{u++,!d&&!l&&h();const w=c=c??e();m.add(()=>{u--,0===u&&!d&&!l&&(a=Nb(p,i))}),w.subscribe(m),!o&&u>0&&(o=new Cf({next:v=>w.next(v),error:v=>{d=!0,h(),a=Nb(f,t,v),w.error(v)},complete:()=>{l=!0,h(),a=Nb(f,r),w.complete()}}),kr(g).subscribe(o))})(s)}}function Nb(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Cf({next:()=>{r.unsubscribe(),n()}});return kr(e(...t)).subscribe(r)}function fi(n,e){return tn((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Ft(r,c=>{i?.unsubscribe();let u=0;const l=s++;kr(n(c,l)).subscribe(i=Ft(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function DU(n,e=aa){return n=n??xoe,tn((t,r)=>{let i,s=!0;t.subscribe(Ft(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function xoe(n,e){return n===e}function tt(n){for(let e in n)if(n[e]===tt)return e;throw Error("Could not find renamed property on target object.")}function wy(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function In(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(In).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Lb(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Poe=tt({__forward_ref__:tt});function Fb(n){return n.__forward_ref__=Fb,n.toString=function(){return In(this())},n}function _e(n){return Vb(n)?n():n}function Vb(n){return"function"==typeof n&&n.hasOwnProperty(Poe)&&n.__forward_ref__===Fb}function Ub(n){return n&&!!n.\u0275providers}const SU="https://g.co/ng/security#xss";class M extends Error{constructor(e,t){super(function Ey(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ie(n){return"string"==typeof n?n:null==n?"":String(n)}function Bb(n,e){throw new M(-201,!1)}function ki(n,e){null==n&&function ge(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function St(n){return{providers:n.providers||[],imports:n.imports||[]}}function Iy(n){return xU(n,by)||xU(n,PU)}function xU(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ty(n){return n&&(n.hasOwnProperty(jb)||n.hasOwnProperty(Voe))?n[jb]:null}const by=tt({\u0275prov:tt}),jb=tt({\u0275inj:tt}),PU=tt({ngInjectableDef:tt}),Voe=tt({ngInjectorDef:tt});var Oe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Oe||{});let $b;function Yr(n){const e=$b;return $b=n,e}function MU(n,e,t){const r=Iy(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Oe.Optional?null:void 0!==e?e:void Bb(In(n))}const gt=globalThis,Sf={},Wb="__NG_DI_FLAG__",Cy="ngTempTokenPath",joe=/\n/gm,OU="__source";let _l;function ua(n){const e=_l;return _l=n,e}function Goe(n,e=Oe.Default){if(void 0===_l)throw new M(-203,!1);return null===_l?MU(n,void 0,e):_l.get(n,e&Oe.Optional?null:void 0,e)}function C(n,e=Oe.Default){return(function RU(){return $b}()||Goe)(_e(n),e)}function Y(n,e=Oe.Default){return C(n,Ay(e))}function Ay(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Kb(n){const e=[];for(let t=0;t<n.length;t++){const r=_e(n[t]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let i,s=Oe.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Hoe(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(C(i,s))}else e.push(C(r))}return e}function xf(n,e){return n[Wb]=e,n.prototype[Wb]=e,n}function Hoe(n){return n[Wb]}function co(n){return{toString:n}.toString()}var Dy=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Dy||{}),Oi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Oi||{});const ps={},Ye=[],Sy=tt({\u0275cmp:tt}),Qb=tt({\u0275dir:tt}),Yb=tt({\u0275pipe:tt}),LU=tt({\u0275mod:tt}),uo=tt({\u0275fac:tt}),Pf=tt({__NG_ELEMENT_ID__:tt}),FU=tt({__NG_ENV_ID__:tt});function VU(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Xb(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];BU(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function UU(n){return 3===n||4===n||6===n}function BU(n){return 64===n.charCodeAt(0)}function Rf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||jU(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function jU(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const $U="ng-template";function Koe(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==VU(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function zU(n){return 4===n.type&&n.value!==$U}function Qoe(n,e,t){return e===(4!==n.type||t?n.value:$U)}function Yoe(n,e,t){let r=4;const i=n.attrs||[],s=function Zoe(n){for(let e=0;e<n.length;e++)if(UU(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Qoe(n,c,t)||""===c&&1===e.length){if(Yi(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!Koe(n.attrs,u,t)){if(Yi(r))return!1;o=!0}continue}const d=Xoe(8&r?"class":c,i,zU(n),t);if(-1===d){if(Yi(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==VU(f,u,0)||2&r&&u!==h){if(Yi(r))return!1;o=!0}}}}else{if(!o&&!Yi(r)&&!Yi(c))return!1;if(o&&Yi(c))continue;o=!1,r=c|1&r}}return Yi(r)||o}function Yi(n){return 0==(1&n)}function Xoe(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function eae(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function GU(n,e,t=!1){for(let r=0;r<e.length;r++)if(Yoe(n,e[r],t))return!0;return!1}function HU(n,e){return n?":not("+e.trim()+")":e}function nae(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Yi(o)&&(e+=HU(s,i),i=""),r=o,s=s||!Yi(r);t++}return""!==i&&(e+=HU(s,i)),e}function Tn(n){return co(()=>{const e=WU(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Dy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Oi.Emulated,styles:n.styles||Ye,_:null,schemas:n.schemas||null,tView:null,id:""};KU(t);const r=n.dependencies;return t.directiveDefs=xy(r,!1),t.pipeDefs=xy(r,!0),t.id=function lae(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function oae(n){return $e(n)||Yn(n)}function aae(n){return null!==n}function Vt(n){return co(()=>({type:n.type,bootstrap:n.bootstrap||Ye,declarations:n.declarations||Ye,imports:n.imports||Ye,exports:n.exports||Ye,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function qU(n,e){if(null==n)return ps;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function pr(n){return co(()=>{const e=WU(n);return KU(e),e})}function Or(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function $e(n){return n[Sy]||null}function Yn(n){return n[Qb]||null}function Nr(n){return n[Yb]||null}function gi(n,e){const t=n[LU]||null;if(!t&&!0===e)throw new Error(`Type ${In(n)} does not have '\u0275mod' property.`);return t}function WU(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ps,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ye,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qU(n.inputs,e),outputs:qU(n.outputs)}}function KU(n){n.features?.forEach(e=>e(n))}function xy(n,e){if(!n)return null;const t=e?Nr:oae;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(aae)}const Wt=0,re=1,De=2,xt=3,Xi=4,Mf=5,gr=6,vl=7,nn=8,la=9,wl=10,Te=11,kf=12,QU=13,El=14,rn=15,Of=16,Il=17,gs=18,Nf=19,YU=20,da=21,lo=22,Lf=23,Ff=24,Ne=25,Jb=1,XU=2,ms=7,Tl=9,Xn=11;function Xr(n){return Array.isArray(n)&&"object"==typeof n[Jb]}function Lr(n){return Array.isArray(n)&&!0===n[Jb]}function Zb(n){return 0!=(4&n.flags)}function Dc(n){return n.componentOffset>-1}function Ry(n){return 1==(1&n.flags)}function Ji(n){return!!n.template}function eC(n){return 0!=(512&n[De])}function Sc(n,e){return n.hasOwnProperty(uo)?n[uo]:null}let Jn=null,My=!1;function Ni(n){const e=Jn;return Jn=n,e}const eB={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function nB(n){if(!Uf(n)||n.dirty){if(!n.producerMustRecompute(n)&&!sB(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function iB(n){n.dirty=!0,function rB(n){if(void 0===n.liveConsumerNode)return;const e=My;My=!0;try{for(const t of n.liveConsumerNode)t.dirty||iB(t)}finally{My=e}}(n),n.consumerMarkedDirty?.(n)}function nC(n){return n&&(n.nextProducerIndex=0),Ni(n)}function rC(n,e){if(Ni(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Uf(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ky(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function sB(n){bl(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(nB(t),r!==t.version))return!0}return!1}function oB(n){if(bl(n),Uf(n))for(let e=0;e<n.producerNode.length;e++)ky(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ky(n,e){if(function cB(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),bl(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)ky(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];bl(i),i.producerIndexOfThis[r]=e}}function Uf(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function bl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let uB=null;const fB=()=>{},Tae=(()=>({...eB,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:fB}))();class bae{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function xc(){return pB}function pB(n){return n.type.prototype.ngOnChanges&&(n.setInput=Aae),Cae}function Cae(){const n=mB(this),e=n?.current;if(e){const t=n.previous;if(t===ps)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Aae(n,e,t,r){const i=this.declaredInputs[t],s=mB(n)||function Dae(n,e){return n[gB]=e}(n,{previous:ps,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new bae(c&&c.currentValue,e,a===ps),n[r]=e}xc.ngInherit=!0;const gB="__ngSimpleChanges__";function mB(n){return n[gB]||null}const _s=function(n,e,t){};function mt(n){for(;Array.isArray(n);)n=n[Wt];return n}function Oy(n,e){return mt(e[n])}function Jr(n,e){return mt(e[n.index])}function vB(n,e){return n.data[e]}function Cl(n,e){return n[e]}function mi(n,e){const t=e[n];return Xr(t)?t:t[Wt]}function fa(n,e){return null==e?null:n[e]}function wB(n){n[Il]=0}function kae(n){1024&n[De]||(n[De]|=1024,IB(n,1))}function EB(n){1024&n[De]&&(n[De]&=-1025,IB(n,-1))}function IB(n,e){let t=n[xt];if(null===t)return;t[Mf]+=e;let r=t;for(t=t[xt];null!==t&&(1===e&&1===r[Mf]||-1===e&&0===r[Mf]);)t[Mf]+=e,r=t,t=t[xt]}const me={lFrame:kB(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function CB(){return me.bindingsEnabled}function k(){return me.lFrame.lView}function ze(){return me.lFrame.tView}function Li(n){return me.lFrame.contextLView=n,n[nn]}function Fi(n){return me.lFrame.contextLView=null,n}function Zn(){let n=AB();for(;null!==n&&64===n.type;)n=n.parent;return n}function AB(){return me.lFrame.currentTNode}function ys(n,e){const t=me.lFrame;t.currentTNode=n,t.isParent=e}function cC(){return me.lFrame.isParent}function uC(){me.lFrame.isParent=!1}function Fr(){const n=me.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ho(){return me.lFrame.bindingIndex}function Dl(){return me.lFrame.bindingIndex++}function fo(n){const e=me.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Hae(n,e){const t=me.lFrame;t.bindingIndex=t.bindingRootIndex=n,lC(e)}function lC(n){me.lFrame.currentDirectiveIndex=n}function dC(n){const e=me.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function PB(){return me.lFrame.currentQueryIndex}function hC(n){me.lFrame.currentQueryIndex=n}function Wae(n){const e=n[re];return 2===e.type?e.declTNode:1===e.type?n[gr]:null}function RB(n,e,t){if(t&Oe.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Oe.Host||(i=Wae(s),null===i||(s=s[El],10&i.type))););if(null===i)return!1;e=i,n=s}const r=me.lFrame=MB();return r.currentTNode=e,r.lView=n,!0}function fC(n){const e=MB(),t=n[re];me.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function MB(){const n=me.lFrame,e=null===n?null:n.child;return null===e?kB(n):e}function kB(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function OB(){const n=me.lFrame;return me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const NB=OB;function pC(){const n=OB();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vr(){return me.lFrame.selectedIndex}function Pc(n){me.lFrame.selectedIndex=n}function Ut(){const n=me.lFrame;return vB(n.tView,n.selectedIndex)}let FB=!0;function Ny(){return FB}function pa(n){FB=n}function Ly(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=l&&(n.destroyHooks??=[]).push(t,l)}}function Fy(n,e,t){VB(n,e,3,t)}function Vy(n,e,t,r){(3&n[De])===t&&VB(n,e,t,r)}function gC(n,e){let t=n[De];(3&t)===e&&(t&=8191,t+=1,n[De]=t)}function VB(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&n[Il]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[Il]+=65536),(a<s||-1==s)&&(tce(n,t,e,c),n[Il]=(4294901760&n[Il])+c+2),c++}function UB(n,e){_s(4,n,e);const t=Ni(null);try{e.call(n)}finally{Ni(t),_s(5,n,e)}}function tce(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[De]>>13<n[Il]>>16&&(3&n[De])===e&&(n[De]+=8192,UB(a,s)):UB(a,s)}const Sl=-1;class jf{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function _C(n){return n!==Sl}function $f(n){return 32767&n}function zf(n,e){let t=function sce(n){return n>>16}(n),r=e;for(;t>0;)r=r[El],t--;return r}let yC=!0;function Uy(n){const e=yC;return yC=n,e}const BB=255,jB=5;let oce=0;const vs={};function By(n,e){const t=$B(n,e);if(-1!==t)return t;const r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,vC(r.data,n),vC(e,null),vC(r.blueprint,null));const i=jy(n,e),s=n.injectorIndex;if(_C(i)){const o=$f(i),a=zf(i,e),c=a[re].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function vC(n,e){n.push(0,0,0,0,0,0,0,0,e)}function $B(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function jy(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=QB(i),null===r)return Sl;if(t++,i=i[El],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Sl}function wC(n,e,t){!function ace(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Pf)&&(r=t[Pf]),null==r&&(r=t[Pf]=oce++);const i=r&BB;e.data[n+(i>>jB)]|=1<<i}(n,e,t)}function zB(n,e,t){if(t&Oe.Optional||void 0!==n)return n;Bb()}function GB(n,e,t,r){if(t&Oe.Optional&&void 0===r&&(r=null),!(t&(Oe.Self|Oe.Host))){const i=n[la],s=Yr(void 0);try{return i?i.get(e,r,t&Oe.Optional):MU(e,r,t&Oe.Optional)}finally{Yr(s)}}return zB(r,0,t)}function HB(n,e,t,r=Oe.Default,i){if(null!==n){if(2048&e[De]&&!(r&Oe.Self)){const o=function fce(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[De]&&!(512&o[De]);){const a=qB(s,o,t,r|Oe.Self,vs);if(a!==vs)return a;let c=s.parent;if(!c){const u=o[YU];if(u){const l=u.get(t,vs,r);if(l!==vs)return l}c=QB(o),o=o[El]}s=c}return i}(n,e,t,r,vs);if(o!==vs)return o}const s=qB(n,e,t,r,vs);if(s!==vs)return s}return GB(e,t,r,i)}function qB(n,e,t,r,i){const s=function lce(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Pf)?n[Pf]:void 0;return"number"==typeof e?e>=0?e&BB:hce:e}(t);if("function"==typeof s){if(!RB(e,n,r))return r&Oe.Host?zB(i,0,r):GB(e,t,r,i);try{let o;if(o=s(r),null!=o||r&Oe.Optional)return o;Bb()}finally{NB()}}else if("number"==typeof s){let o=null,a=$B(n,e),c=Sl,u=r&Oe.Host?e[rn][gr]:null;for((-1===a||r&Oe.SkipSelf)&&(c=-1===a?jy(n,e):e[a+8],c!==Sl&&KB(r,!1)?(o=e[re],a=$f(c),e=zf(c,e)):a=-1);-1!==a;){const l=e[re];if(WB(s,a,l.data)){const d=uce(a,e,t,o,r,u);if(d!==vs)return d}c=e[a+8],c!==Sl&&KB(r,e[re].data[a+8]===u)&&WB(s,a,e)?(o=l,a=$f(c),e=zf(c,e)):a=-1}}return i}function uce(n,e,t,r,i,s){const o=e[re],a=o.data[n+8],l=$y(a,o,t,null==r?Dc(a)&&yC:r!=o&&0!=(3&a.type),i&Oe.Host&&s===a);return null!==l?Rc(e,o,l,a):vs}function $y(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<c&&t===p||f>=c&&p.type===t)return f}if(i){const f=o[c];if(f&&Ji(f)&&f.type===t)return c}return null}function Rc(n,e,t,r){let i=n[t];const s=e.data;if(function nce(n){return n instanceof jf}(i)){const o=i;o.resolving&&function Roe(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new M(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ze(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ie(n)}(s[t]));const a=Uy(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Yr(o.injectImpl):null;RB(n,r,Oe.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function ece(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=pB(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==u&&Yr(u),Uy(a),o.resolving=!1,NB()}}return i}function WB(n,e,t){return!!(t[e+(n>>jB)]&1<<n)}function KB(n,e){return!(n&Oe.Self||n&Oe.Host&&e)}class Ur{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return HB(this._tNode,this._lView,e,Ay(r),t)}}function hce(){return new Ur(Zn(),k())}function Hf(n){return co(()=>{const e=n.prototype.constructor,t=e[uo]||EC(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[uo]||EC(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function EC(n){return Vb(n)?()=>{const e=EC(_e(n));return e&&e()}:Sc(n)}function QB(n){const e=n[re],t=e.type;return 2===t?e.declTNode:1===t?n[gr]:null}const Pl="__parameters__";function Ml(n,e,t){return co(()=>{const r=function IC(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,u,l){const d=c.hasOwnProperty(Pl)?c[Pl]:Object.defineProperty(c,Pl,{value:[]})[Pl];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ol(n,e){n.forEach(t=>Array.isArray(t)?Ol(t,e):e(t))}function XB(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Gy(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function _i(n,e,t){let r=Nl(n,e);return r>=0?n[1|r]=t:(r=~r,function wce(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function TC(n,e){const t=Nl(n,e);if(t>=0)return n[1|t]}function Nl(n,e){return function JB(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const mr=xf(Ml("Optional"),8),qy=xf(Ml("SkipSelf"),4);function Xy(n){return 128==(128&n.flags)}var ga=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ga||{});const jce=/^>|^->|<!--|-->|--!>|<!-$/g,$ce=/(<|>)/g,zce="\u200b$1\u200b";const SC=new Map;let Gce=0;const PC="__ngContext__";function _r(n,e){Xr(e)?(n[PC]=e[Nf],function qce(n){SC.set(n[Nf],n)}(e)):n[PC]=e}let RC;function MC(n,e){return RC(n,e)}function Yf(n){const e=n[xt];return Lr(e)?e[xt]:e}function yj(n){return wj(n[kf])}function vj(n){return wj(n[Xi])}function wj(n){for(;null!==n&&!Lr(n);)n=n[Xi];return n}function Vl(n,e,t,r,i){if(null!=r){let s,o=!1;Lr(r)?s=r:Xr(r)&&(o=!0,r=r[Wt]);const a=mt(r);0===n&&null!==t?null==i?bj(e,t,a):Mc(e,t,a,i||null,!0):1===n&&null!==t?Mc(e,t,a,i||null,!0):2===n?function iv(n,e,t){const r=nv(n,e);r&&function due(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function pue(n,e,t,r,i){const s=t[ms];s!==mt(t)&&Vl(e,n,r,s,i);for(let a=Xn;a<t.length;a++){const c=t[a];Jf(c[re],c,n,e,r,s)}}(e,n,s,t,i)}}function kC(n,e){return n.createComment(function lj(n){return n.replace(jce,e=>e.replace($ce,zce))}(e))}function ev(n,e,t){return n.createElement(e,t)}function Ij(n,e){const t=n[Tl],r=t.indexOf(e);EB(e),t.splice(r,1)}function tv(n,e){if(n.length<=Xn)return;const t=Xn+e,r=n[t];if(r){const i=r[Of];null!==i&&i!==n&&Ij(i,r),e>0&&(n[t-1][Xi]=r[Xi]);const s=Gy(n,Xn+e);!function rue(n,e){Jf(n,e,e[Te],2,null,null),e[Wt]=null,e[gr]=null}(r[re],r);const o=s[gs];null!==o&&o.detachView(s[re]),r[xt]=null,r[Xi]=null,r[De]&=-129}return r}function OC(n,e){if(!(256&e[De])){const t=e[Te];e[Lf]&&oB(e[Lf]),e[Ff]&&oB(e[Ff]),t.destroyNode&&Jf(n,e,t,3,null,null),function oue(n){let e=n[kf];if(!e)return NC(n[re],n);for(;e;){let t=null;if(Xr(e))t=e[kf];else{const r=e[Xn];r&&(t=r)}if(!t){for(;e&&!e[Xi]&&e!==n;)Xr(e)&&NC(e[re],e),e=e[xt];null===e&&(e=n),Xr(e)&&NC(e[re],e),t=e&&e[Xi]}e=t}}(e)}}function NC(n,e){if(!(256&e[De])){e[De]&=-129,e[De]|=256,function lue(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof jf)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];_s(4,a,c);try{c.call(a)}finally{_s(5,a,c)}}else{_s(4,i,s);try{s.call(i)}finally{_s(5,i,s)}}}}}(n,e),function uue(n,e){const t=n.cleanup,r=e[vl];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[vl]=null);const i=e[da];if(null!==i){e[da]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[re].type&&e[Te].destroy();const t=e[Of];if(null!==t&&Lr(e[xt])){t!==e[xt]&&Ij(t,e);const r=e[gs];null!==r&&r.detachView(n)}!function Wce(n){SC.delete(n[Nf])}(e)}}function LC(n,e,t){return function Tj(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Wt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Oi.None||s===Oi.Emulated)return null}return Jr(r,t)}}(n,e.parent,t)}function Mc(n,e,t,r,i){n.insertBefore(e,t,r,i)}function bj(n,e,t){n.appendChild(e,t)}function Cj(n,e,t,r,i){null!==r?Mc(n,e,t,r,i):bj(n,e,t)}function nv(n,e){return n.parentNode(e)}let FC,sv,jC,ov,Sj=function Dj(n,e,t){return 40&n.type?Jr(n,t):null};function rv(n,e,t,r){const i=LC(n,r,e),s=e[Te],a=function Aj(n,e,t){return Sj(n,e,t)}(r.parent||e[gr],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)Cj(s,i,t[c],a,!1);else Cj(s,i,t,a,!1);void 0!==FC&&FC(s,r,e,t,i)}function Xf(n,e){if(null!==e){const t=e.type;if(3&t)return Jr(e,n);if(4&t)return VC(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Xf(n,r);{const i=n[e.index];return Lr(i)?VC(-1,i):mt(i)}}if(32&t)return MC(e,n)()||mt(n[e.index]);{const r=Pj(n,e);return null!==r?Array.isArray(r)?r[0]:Xf(Yf(n[rn]),r):Xf(n,e.next)}}return null}function Pj(n,e){return null!==e?n[rn][gr].projection[e.projection]:null}function VC(n,e){const t=Xn+n+1;if(t<e.length){const r=e[t],i=r[re].firstChild;if(null!==i)return Xf(r,i)}return e[ms]}function UC(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],c=t.type;if(o&&0===e&&(a&&_r(mt(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)UC(n,e,t.child,r,i,s,!1),Vl(e,n,i,a,s);else if(32&c){const u=MC(t,r);let l;for(;l=u();)Vl(e,n,i,l,s);Vl(e,n,i,a,s)}else 16&c?Mj(n,e,r,t,i,s):Vl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Jf(n,e,t,r,i,s){UC(t,r,n.firstChild,e,i,s,!1)}function Mj(n,e,t,r,i,s){const o=t[rn],c=o[gr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Vl(e,n,i,c[u],s);else{let u=c;const l=o[xt];Xy(r)&&(u.flags|=128),UC(n,e,u,l,i,s,!0)}}function kj(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Oj(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Xb(n,e,r),null!==i&&kj(n,e,i),null!==s&&function mue(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Ul(n){return function BC(){if(void 0===sv&&(sv=null,gt.trustedTypes))try{sv=gt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return sv}()?.createHTML(n)||n}function Bl(){if(void 0!==jC)return jC;if(typeof document<"u")return document;throw new M(210,!1)}function $C(){if(void 0===ov&&(ov=null,gt.trustedTypes))try{ov=gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ov}function Nj(n){return $C()?.createHTML(n)||n}function Fj(n){return $C()?.createScriptURL(n)||n}class kc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${SU})`}}class Eue extends kc{getTypeName(){return"HTML"}}class Iue extends kc{getTypeName(){return"Style"}}class Tue extends kc{getTypeName(){return"Script"}}class bue extends kc{getTypeName(){return"URL"}}class Cue extends kc{getTypeName(){return"ResourceURL"}}function yi(n){return n instanceof kc?n.changingThisBreaksApplicationSecurity:n}function ws(n,e){const t=function Aue(n){return n instanceof kc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${SU})`)}return t===e}class Mue{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ul(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class kue{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Ul(e),t}}const Nue=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function av(n){return(n=String(n)).match(Nue)?n:"unsafe:"+n}function po(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Zf(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Uj=po("area,br,col,hr,img,wbr"),Bj=po("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jj=po("rp,rt"),zC=Zf(Uj,Zf(Bj,po("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zf(jj,po("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zf(jj,Bj)),GC=po("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$j=Zf(GC,po("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),po("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lue=po("script,style,template");class Fue{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!zC.hasOwnProperty(t))return this.sanitizedSomething=!0,!Lue.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!$j.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;GC[a]&&(c=av(c)),this.buf.push(" ",o,'="',zj(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();zC.hasOwnProperty(t)&&!Uj.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(zj(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Vue=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uue=/([^\#-~ |!])/g;function zj(n){return n.replace(/&/g,"&amp;").replace(Vue,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Uue,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cv;function Gj(n,e){let t=null;try{cv=cv||function Vj(n){const e=new kue(n);return function Oue(){try{return!!(new window.DOMParser).parseFromString(Ul(""),"text/html")}catch{return!1}}()?new Mue(e):e}(n);let r=e?String(e):"";t=cv.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=cv.getInertBodyElement(r)}while(r!==s);return Ul((new Fue).sanitizeChildren(HC(t)||t))}finally{if(t){const r=HC(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function HC(n){return"content"in n&&function Bue(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var vi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(vi||{});function qC(n){const e=ep();return e?Nj(e.sanitize(vi.HTML,n)||""):ws(n,"HTML")?Nj(yi(n)):Gj(Bl(),Ie(n))}function Es(n){const e=ep();return e?e.sanitize(vi.URL,n)||"":ws(n,"URL")?yi(n):av(Ie(n))}function Hj(n){const e=ep();if(e)return Fj(e.sanitize(vi.RESOURCE_URL,n)||"");if(ws(n,"ResourceURL"))return Fj(yi(n));throw new M(904,!1)}function ep(){const n=k();return n&&n[wl].sanitizer}class j{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const tp=new j("ENVIRONMENT_INITIALIZER"),Wj=new j("INJECTOR",-1),Kj=new j("INJECTOR_DEF_TYPES");class WC{get(e,t=Sf){if(t===Sf){const r=new Error(`NullInjectorError: No provider for ${In(e)}!`);throw r.name="NullInjectorError",r}return t}}function uv(n){return{\u0275providers:n}}function que(...n){return{\u0275providers:Qj(0,n),\u0275fromNgModule:!0}}function Qj(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Ol(e,o=>{const a=o;lv(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Yj(i,s),t}function Yj(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];KC(i,s=>{e(s,r)})}}function lv(n,e,t,r){if(!(n=_e(n)))return!1;let i=null,s=Ty(n);const o=!s&&$e(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const c=n.ngModule;if(s=Ty(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)lv(u,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Ol(s.imports,l=>{lv(l,e,t,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&Yj(u,e)}if(!a){const u=Sc(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ye},i),e({provide:Kj,useValue:i,multi:!0},i),e({provide:tp,useValue:()=>C(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const u=n;KC(c,l=>{e(l,u)})}}}return i!==n&&void 0!==n.providers}function KC(n,e){for(let t of n)Ub(t)&&(t=t.\u0275providers),Array.isArray(t)?KC(t,e):e(t)}const Wue=tt({provide:String,useValue:tt});function QC(n){return null!==n&&"object"==typeof n&&Wue in n}function Oc(n){return"function"==typeof n}const YC=new j("Set Injector scope."),dv={},Que={};let XC;function hv(){return void 0===XC&&(XC=new WC),XC}class wi{}class fv extends wi{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ZC(e,o=>this.processProvider(o)),this.records.set(Wj,jl(void 0,this)),i.has("environment")&&this.records.set(wi,jl(void 0,this));const s=this.records.get(YC);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Kj.multi,Ye,Oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ua(this),r=Yr(void 0);try{return e()}finally{ua(t),Yr(r)}}get(e,t=Sf,r=Oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(FU))return e[FU](this);r=Ay(r);const s=ua(this),o=Yr(void 0);try{if(!(r&Oe.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function ele(n){return"function"==typeof n||"object"==typeof n&&n instanceof j}(e)&&Iy(e);c=u&&this.injectableDefInScope(u)?jl(JC(e),dv):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Oe.Self?hv():this.parent).get(e,t=r&Oe.Optional&&t===Sf?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Cy]=a[Cy]||[]).unshift(In(e)),s)throw a;return function qoe(n,e,t,r){const i=n[Cy];throw e[OU]&&i.unshift(e[OU]),n.message=function Woe(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=In(e);if(Array.isArray(e))i=e.map(In).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):In(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(joe,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Cy]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Yr(o),ua(s)}}resolveInjectorInitializers(){const e=ua(this),t=Yr(void 0);try{const i=this.get(tp.multi,Ye,Oe.Self);for(const s of i)s()}finally{ua(e),Yr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(In(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){let t=Oc(e=_e(e))?e:_e(e&&e.provide);const r=function Xue(n){return QC(n)?jl(void 0,n.useValue):jl(function Zj(n,e,t){let r;if(Oc(n)){const i=_e(n);return Sc(i)||JC(i)}if(QC(n))r=()=>_e(n.useValue);else if(function Jj(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Kb(n.deps||[]));else if(function Xj(n){return!(!n||!n.useExisting)}(n))r=()=>C(_e(n.useExisting));else{const i=_e(n&&(n.useClass||n.provide));if(!function Jue(n){return!!n.deps}(n))return Sc(i)||JC(i);r=()=>new i(...Kb(n.deps))}return r}(n),dv)}(e);if(Oc(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=jl(void 0,dv,!0),i.factory=()=>Kb(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===dv&&(t.value=Que,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Zue(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=_e(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function JC(n){const e=Iy(n),t=null!==e?e.factory:Sc(n);if(null!==t)return t;if(n instanceof j)throw new M(204,!1);if(n instanceof Function)return function Yue(n){const e=n.length;if(e>0)throw function Wf(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new M(204,!1);const t=function Foe(n){return n&&(n[by]||n[PU])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new M(204,!1)}function jl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ZC(n,e){for(const t of n)Array.isArray(t)?ZC(t,e):t&&Ub(t)?ZC(t.\u0275providers,e):e(t)}const pv=new j("AppId",{providedIn:"root",factory:()=>tle}),tle="ng",e5=new j("Platform Initializer"),Is=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),np=new j("AnimationModuleType"),eA=new j("CSP nonce",{providedIn:"root",factory:()=>Bl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let t5=(n,e,t)=>null;function cA(n,e,t=!1){return t5(n,e,t)}class dle{}class s5{}class fle{resolveComponentFactory(e){throw function hle(n){const e=Error(`No component factory found for ${In(n)}.`);return e.ngComponent=n,e}(e)}}let Nc=(()=>{class n{static#e=this.NULL=new fle}return n})();function ple(){return Gl(Zn(),k())}function Gl(n,e){return new ei(Jr(n,e))}let ei=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=ple}return n})();function gle(n){return n instanceof ei?n.nativeElement:n}class sp{}let wv=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function mle(){const n=k(),t=mi(Zn().index,n);return(Xr(t)?t:n)[Te]}()}return n})(),_le=(()=>{class n{static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:()=>null})}return n})();class Lc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const a5=new Lc("16.2.10"),dA={};function d5(n,e=null,t=null,r){const i=h5(n,e,t,r);return i.resolveInjectorInitializers(),i}function h5(n,e=null,t=null,r,i=new Set){const s=[t||Ye,que(n)];return r=r||("object"==typeof n?void 0:In(n)),new fv(s,e||hv(),r||null,i)}let Bt=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Sf;static#t=this.NULL=new WC;static create(t,r){if(Array.isArray(t))return d5({name:""},r,t,"");{const i=t.name??"";return d5({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=z({token:n,providedIn:"any",factory:()=>C(Wj)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function fA(n){return n.ngOriginalError}class go{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&fA(e);for(;t&&fA(t);)t=fA(t);return t||null}}function gA(n){return e=>{setTimeout(n,void 0,e)}}const Pt=class ble extends ke{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=gA(s),i&&(i=gA(i)),o&&(o=gA(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Qn&&e.add(a),a}};function p5(...n){}class ye{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pt(!1),this.onMicrotaskEmpty=new Pt(!1),this.onStable=new Pt(!1),this.onError=new Pt(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Cle(){const n="function"==typeof gt.requestAnimationFrame;let e=gt[n?"requestAnimationFrame":"setTimeout"],t=gt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Sle(n){const e=()=>{!function Dle(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(gt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,_A(n),n.isCheckStableRunning=!0,mA(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),_A(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function Ple(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return g5(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),m5(n)}},onInvoke:(t,r,i,s,o,a,c)=>{try{return g5(n),t.invoke(i,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),m5(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,_A(n),mA(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ye.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(ye.isInAngularZone())throw new M(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Ale,p5,p5);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Ale={};function mA(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function _A(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function g5(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function m5(n){n._nesting--,mA(n)}class xle{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pt,this.onMicrotaskEmpty=new Pt,this.onStable=new Pt,this.onError=new Pt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const _5=new j("",{providedIn:"root",factory:y5});function y5(){const n=Y(ye);let e=!0;return kb(new ht(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ht(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{ye.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Ob()))}function mo(n){return n instanceof Function?n():n}let yA=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();function op(n){for(;n;){n[De]|=64;const e=Yf(n);if(eC(n)&&!e)return n;n=e}return null}const T5=new j("",{providedIn:"root",factory:()=>!1});let Iv=null;function D5(n,e){return n[e]??P5()}function S5(n,e){const t=P5();t.producerNode?.length&&(n[e]=Iv,t.lView=n,Iv=x5())}const Ble={...eB,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{op(n.lView)},lView:null};function x5(){return Object.create(Ble)}function P5(){return Iv??=x5(),Iv}const Ae={};function x(n){R5(ze(),k(),Vr()+n,!1)}function R5(n,e,t,r){if(!r)if(3==(3&e[De])){const s=n.preOrderCheckHooks;null!==s&&Fy(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Vy(e,s,0,t)}Pc(t)}function $(n,e=Oe.Default){const t=k();return null===t?C(n,e):HB(Zn(),t,_e(n),e)}function vA(){throw new Error("invalid")}function Tv(n,e,t,r,i,s,o,a,c,u,l){const d=e.blueprint.slice();return d[Wt]=i,d[De]=140|r,(null!==u||n&&2048&n[De])&&(d[De]|=2048),wB(d),d[xt]=d[El]=n,d[nn]=t,d[wl]=o||n&&n[wl],d[Te]=a||n&&n[Te],d[la]=c||n&&n[la]||null,d[gr]=s,d[Nf]=function Hce(){return Gce++}(),d[lo]=l,d[YU]=u,d[rn]=2==e.type?n[rn]:d,d}function Wl(n,e,t,r,i){let s=n.data[e];if(null===s)s=function wA(n,e,t,r,i){const s=AB(),o=cC(),c=n.data[e]=function Kle(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Al(){return null!==me.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,r,i),function Gae(){return me.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Bf(){const n=me.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ys(s,!0),s}function ap(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function M5(n,e,t,r,i){const s=D5(e,Lf),o=Vr(),a=2&r;try{Pc(-1),a&&e.length>Ne&&R5(n,e,Ne,!1),_s(a?2:0,i);const u=a?s:null,l=nC(u);try{null!==u&&(u.dirty=!1),t(r,i)}finally{rC(u,l)}}finally{a&&null===e[Lf]&&S5(e,Lf),Pc(o),_s(a?3:1,i)}}function EA(n,e,t){if(Zb(e)){const r=Ni(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Ni(r)}}}function IA(n,e,t){CB()&&(function tde(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Dc(t)&&function cde(n,e,t){const r=Jr(e,n),i=k5(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=bv(n,Tv(n,i,null,o,r,e,null,n[wl].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||By(t,e),_r(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const c=n.data[a],u=Rc(e,n,a,t);_r(u,e),null!==o&&ude(0,a-i,u,c,0,o),Ji(c)&&(mi(t.index,e)[nn]=Rc(e,n,a,t))}}(n,e,t,Jr(t,e)),64==(64&t.flags)&&V5(n,e,t))}function TA(n,e,t=Jr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function k5(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=bA(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function bA(n,e,t,r,i,s,o,a,c,u,l){const d=Ne+r,h=d+i,f=function $le(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ae);return t}(d,h),p="function"==typeof u?u():u;return f[re]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}let O5=n=>null;function N5(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?L5(t,e,i,s):r.hasOwnProperty(i)&&L5(t,e,r[i],s)}return t}function L5(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Ei(n,e,t,r,i,s,o,a){const c=Jr(e,t);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(xA(n,t,l,r,i),Dc(e)&&function Xle(n,e){const t=mi(e,n);16&t[De]||(t[De]|=64)}(t,e.index)):3&e.type&&(r=function Yle(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function CA(n,e,t,r){if(CB()){const i=null===r?null:{"":-1},s=function rde(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(GU(e,o.selectors,!1))if(r||(r=[]),Ji(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),AA(n,e,a.length)}else r.unshift(o),AA(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&F5(n,e,t,o,i,a),i&&function ide(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new M(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Rf(t.mergedAttrs,t.attrs)}function F5(n,e,t,r,i,s){for(let u=0;u<r.length;u++)wC(By(t,e),n,r[u].type);!function ode(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=ap(n,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];t.mergedAttrs=Rf(t.mergedAttrs,l.hostAttrs),ade(n,t,e,c,l),sde(c,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function Qle(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=t?t.get(d):null,p=h?h.outputs:null;c=N5(d.inputs,l,c,h?h.inputs:null),u=N5(d.outputs,l,u,p);const g=null===c||null===o||zU(e)?null:lde(c,l,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t,s)}function V5(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function qae(){return me.lFrame.currentDirectiveIndex}();try{Pc(s);for(let a=r;a<i;a++){const c=n.data[a],u=e[a];lC(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&nde(c,u)}}finally{Pc(-1),lC(o)}}function nde(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function AA(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function sde(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ji(e)&&(t[""]=n)}}function ade(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Sc(i.type)),o=new jf(s,Ji(i),$);n.blueprint[r]=o,t[r]=o,function Zle(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function ede(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,ap(n,t,i.hostVars,Ae),i)}function Ts(n,e,t,r,i,s){const o=Jr(n,e);!function DA(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Ie(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[Te],o,s,n.value,t,r,i)}function ude(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)U5(r,t,o[a++],o[a++],o[a++])}function U5(n,e,t,r,i){const s=Ni(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Ni(s)}}function lde(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function B5(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function j5(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];hC(t[r]),o.contentQueries(2,e[s],s)}}}function bv(n,e){return n[kf]?n[QU][Xi]=e:n[kf]=e,n[QU]=e,e}function SA(n,e,t){hC(0);const r=Ni(null);try{e(n,t)}finally{Ni(r)}}function $5(n){return n[vl]||(n[vl]=[])}function z5(n){return n.cleanup||(n.cleanup=[])}function G5(n,e,t){return(null===n||Ji(n))&&(t=function aC(n){for(;Array.isArray(n);){if("object"==typeof n[Jb])return n;n=n[Wt]}return null}(t[e.index])),t[Te]}function H5(n,e){const t=n[la],r=t?t.get(go,null):null;r&&r.handleError(e)}function xA(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];U5(n.data[o],e[o],r,a,i)}}function _o(n,e,t){const r=Oy(e,n);!function Ej(n,e,t){n.setValue(e,t)}(n[Te],r,t)}function dde(n,e){const t=mi(e,n),r=t[re];!function hde(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Wt];null!==i&&null===t[lo]&&(t[lo]=cA(i,t[la])),PA(r,t,t[nn])}function PA(n,e,t){fC(e);try{const r=n.viewQuery;null!==r&&SA(1,r,t);const i=n.template;null!==i&&M5(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&j5(n,e),n.staticViewQueries&&SA(2,n.viewQuery,t);const s=n.components;null!==s&&function fde(n,e){for(let t=0;t<e.length;t++)dde(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[De]&=-5,pC()}}let q5=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function Iae(n,e,t){const r=Object.create(Tae);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>iB(r),run:()=>{if(r.dirty=!1,r.hasRun&&!sB(r))return;r.hasRun=!0;const o=nC(r);try{r.cleanupFn(),r.cleanupFn=fB,r.fn(i)}finally{rC(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();function Cv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Lb(i,a):2==s&&(r=Lb(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function cp(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(mt(s)),Lr(s)&&W5(s,r);const o=t.type;if(8&o)cp(n,e,t.child,r);else if(32&o){const a=MC(t,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=Pj(e,t);if(Array.isArray(a))r.push(...a);else{const c=Yf(e[rn]);cp(c[re],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function W5(n,e){for(let t=Xn;t<n.length;t++){const r=n[t],i=r[re].firstChild;null!==i&&cp(r[re],r,i,e)}n[ms]!==n[Wt]&&e.push(n[ms])}function Av(n,e,t,r=!0){const i=e[wl],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{K5(n,e,n.template,t)}catch(c){throw r&&H5(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function K5(n,e,t,r){const i=e[De];if(256!=(256&i)){e[wl].effectManager?.flush(),fC(e);try{wB(e),function SB(n){return me.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&M5(n,e,t,2,r);const o=3==(3&i);if(o){const u=n.preOrderCheckHooks;null!==u&&Fy(e,u,null)}else{const u=n.preOrderHooks;null!==u&&Vy(e,u,0,null),gC(e,0)}if(function mde(n){for(let e=yj(n);null!==e;e=vj(e)){if(!e[XU])continue;const t=e[Tl];for(let r=0;r<t.length;r++){kae(t[r])}}}(e),Q5(e,2),null!==n.contentQueries&&j5(n,e),o){const u=n.contentCheckHooks;null!==u&&Fy(e,u)}else{const u=n.contentHooks;null!==u&&Vy(e,u,1),gC(e,1)}!function jle(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=D5(e,Ff);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Pc(~s);else{const o=s,a=t[++i],c=t[++i];Hae(a,o),r.dirty=!1;const u=nC(r);try{c(2,e[o])}finally{rC(r,u)}}}}finally{null===e[Ff]&&S5(e,Ff),Pc(-1)}}(n,e);const a=n.components;null!==a&&X5(e,a,0);const c=n.viewQuery;if(null!==c&&SA(2,c,r),o){const u=n.viewCheckHooks;null!==u&&Fy(e,u)}else{const u=n.viewHooks;null!==u&&Vy(e,u,2),gC(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[De]&=-73,EB(e)}finally{pC()}}}function Q5(n,e){for(let t=yj(n);null!==t;t=vj(t))for(let r=Xn;r<t.length;r++)Y5(t[r],e)}function _de(n,e,t){Y5(mi(e,n),t)}function Y5(n,e){if(!function Rae(n){return 128==(128&n[De])}(n))return;const t=n[re],r=n[De];if(80&r&&0===e||1024&r||2===e)K5(t,n,t.template,n[nn]);else if(n[Mf]>0){Q5(n,1);const i=t.components;null!==i&&X5(n,i,1)}}function X5(n,e,t){for(let r=0;r<e.length;r++)_de(n,e[r],t)}class up{get rootNodes(){const e=this._lView,t=e[re];return cp(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nn]}set context(e){this._lView[nn]=e}get destroyed(){return 256==(256&this._lView[De])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[xt];if(Lr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(tv(e,r),Gy(t,r))}this._attachedToViewContainer=!1}OC(this._lView[re],this._lView)}onDestroy(e){!function TB(n,e){if(256==(256&n[De]))throw new M(911,!1);null===n[da]&&(n[da]=[]),n[da].push(e)}(this._lView,e)}markForCheck(){op(this._cdRefInjectingView||this._lView)}detach(){this._lView[De]&=-129}reattach(){this._lView[De]|=128}detectChanges(){Av(this._lView[re],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sue(n,e){Jf(n,e,e[Te],2,null,null)}(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e}}class yde extends up{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Av(e[re],e,e[nn],!1)}checkNoChanges(){}get context(){return null}}class J5 extends Nc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=$e(e);return new lp(t,this.ngModule)}}function Z5(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class wde{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ay(r);const i=this.injector.get(e,dA,r);return i!==dA||t===dA?i:this.parentInjector.get(e,t,r)}}class lp extends s5{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=Z5(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Z5(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function rae(n){return n.map(nae).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof wi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new wde(e,s):e,a=o.get(sp,null);if(null===a)throw new M(407,!1);const d={rendererFactory:a,sanitizer:o.get(_le,null),effectManager:o.get(q5,null),afterRenderEventManager:o.get(yA,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function zle(n,e,t,r){const s=r.get(T5,!1)||t===Oi.ShadowDom,o=n.selectRootElement(e,s);return function Gle(n){O5(n)}(o),o}(h,r,this.componentDef.encapsulation,o):ev(h,f,function vde(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),w=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=cA(p,o,!0));const I=bA(0,null,null,1,0,null,null,null,null,null,null),S=Tv(null,I,null,w,null,null,d,h,o,null,v);let O,V;fC(S);try{const ie=this.componentDef;let Ee,et=null;ie.findHostDirectiveDefs?(Ee=[],et=new Map,ie.findHostDirectiveDefs(ie,Ee,et),Ee.push(ie)):Ee=[ie];const Wn=function Ide(n,e){const t=n[re],r=Ne;return n[r]=e,Wl(t,r,2,"#host",null)}(S,p),vb=function Tde(n,e,t,r,i,s,o){const a=i[re];!function bde(n,e,t,r){for(const i of n)e.mergedAttrs=Rf(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Cv(e,e.mergedAttrs,!0),null!==t&&Oj(r,t,e))}(r,n,e,o);let c=null;null!==e&&(c=cA(e,i[la]));const u=s.rendererFactory.createRenderer(e,t);let l=16;t.signals?l=4096:t.onPush&&(l=64);const d=Tv(i,k5(t),null,l,i[n.index],n,s,u,null,null,c);return a.firstCreatePass&&AA(a,n,r.length-1),bv(i,d),i[n.index]=d}(Wn,p,ie,Ee,S,d,h);V=vB(I,Ne),p&&function Ade(n,e,t,r){if(r)Xb(n,t,["ng-version",a5.full]);else{const{attrs:i,classes:s}=function iae(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Yi(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Xb(n,t,i),s&&s.length>0&&kj(n,t,s.join(" "))}}(h,ie,p,r),void 0!==t&&function Dde(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(V,this.ngContentSelectors,t),O=function Cde(n,e,t,r,i,s){const o=Zn(),a=i[re],c=Jr(o,i);F5(a,i,o,t,null,r);for(let l=0;l<t.length;l++)_r(Rc(i,a,o.directiveStart+l,o),i);V5(a,i,o),c&&_r(c,i);const u=Rc(i,a,o.directiveStart+o.componentOffset,o);if(n[nn]=i[nn]=u,null!==s)for(const l of s)l(u,e);return EA(a,o,n),u}(vb,ie,Ee,et,S,[Sde]),PA(I,S,null)}finally{pC()}return new Ede(this.componentType,O,Gl(V,S),S,V)}}class Ede extends dle{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new yde(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;xA(s[re],s,i,e,t),this.previousInputValues.set(e,t),op(mi(this._tNode.index,s))}}get injector(){return new Ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Sde(){const n=Zn();Ly(k()[re],n)}function Kl(n){let e=function e$(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Ji(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Dv(n.inputs),o.inputTransforms=Dv(n.inputTransforms),o.declaredInputs=Dv(n.declaredInputs),o.outputs=Dv(n.outputs);const a=i.hostBindings;a&&Mde(n,a);const c=i.viewQuery,u=i.contentQueries;if(c&&Pde(n,c),u&&Rde(n,u),wy(n.inputs,i.inputs),wy(n.declaredInputs,i.declaredInputs),wy(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),wy(o.inputTransforms,i.inputTransforms)),Ji(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Kl&&(t=!1)}}e=Object.getPrototypeOf(e)}!function xde(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rf(i.hostAttrs,t=Rf(t,i.hostAttrs))}}(r)}function Dv(n){return n===ps?{}:n===Ye?[]:n}function Pde(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Rde(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Mde(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function i$(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Sv(n){return!!function RA(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function bs(n,e,t){return n[e]=t}function yr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Fc(n,e,t,r){const i=yr(n,e,t);return yr(n,e+1,r)||i}function xv(n,e,t,r,i){const s=Fc(n,e,t,r);return yr(n,e+2,i)||s}function yo(n,e,t,r){const i=k();return yr(i,Dl(),e)&&(ze(),Ts(Ut(),i,n,e,t,r)),yo}function Yl(n,e,t,r){return yr(n,Dl(),t)?e+Ie(t)+r:Ae}function Ke(n,e,t,r,i,s,o,a){const c=k(),u=ze(),l=n+Ne,d=u.firstCreatePass?function rhe(n,e,t,r,i,s,o,a,c){const u=e.consts,l=Wl(e,n,4,o||null,fa(u,a));CA(e,t,l,fa(u,c)),Ly(e,l);const d=l.tView=bA(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,t,r,i,s,o):u.data[l];ys(d,!1);const h=_$(u,c,d,n);Ny()&&rv(u,c,h,d),_r(h,c),bv(c,c[l]=B5(h,c,h,d)),Ry(d)&&IA(u,c,d),null!=o&&TA(c,d,a)}let _$=function y$(n,e,t,r){return pa(!0),e[Te].createComment("")};function FA(n){return Cl(function zae(){return me.lFrame.contextLView}(),Ne+n)}function Le(n,e,t){const r=k();return yr(r,Dl(),e)&&Ei(ze(),Ut(),r,n,e,r[Te],t,!1),Le}function VA(n,e,t,r,i){const o=i?"class":"style";xA(n,t,e.inputs[o],o,r)}function y(n,e,t,r){const i=k(),s=ze(),o=Ne+n,a=i[Te],c=s.firstCreatePass?function ahe(n,e,t,r,i,s){const o=e.consts,c=Wl(e,n,2,r,fa(o,i));return CA(e,t,c,fa(o,s)),null!==c.attrs&&Cv(c,c.attrs,!1),null!==c.mergedAttrs&&Cv(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,t,r):s.data[o],u=v$(s,i,c,a,e,n);i[o]=u;const l=Ry(c);return ys(c,!0),Oj(a,u,c),32!=(32&c.flags)&&Ny()&&rv(s,i,u,c),0===function Nae(){return me.lFrame.elementDepthCount}()&&_r(u,i),function Lae(){me.lFrame.elementDepthCount++}(),l&&(IA(s,i,c),EA(s,c,i)),null!==r&&TA(i,c),y}function E(){let n=Zn();cC()?uC():(n=n.parent,ys(n,!1));const e=n;(function Vae(n){return me.skipHydrationRootTNode===n})(e)&&function $ae(){me.skipHydrationRootTNode=null}(),function Fae(){me.lFrame.elementDepthCount--}();const t=ze();return t.firstCreatePass&&(Ly(t,n),Zb(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function rce(n){return 0!=(8&n.flags)}(e)&&VA(t,e,k(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ice(n){return 0!=(16&n.flags)}(e)&&VA(t,e,k(),e.stylesWithoutHost,!1),E}function Q(n,e,t,r){return y(n,e,t,r),E(),Q}let v$=(n,e,t,r,i,s)=>(pa(!0),ev(r,i,function LB(){return me.lFrame.currentNamespace}()));function gp(n,e,t){const r=k(),i=ze(),s=n+Ne,o=i.firstCreatePass?function lhe(n,e,t,r,i){const s=e.consts,o=fa(s,r),a=Wl(e,n,8,"ng-container",o);return null!==o&&Cv(a,o,!0),CA(e,t,a,fa(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];ys(o,!0);const a=E$(i,r,o,n);return r[s]=a,Ny()&&rv(i,r,a,o),_r(a,r),Ry(o)&&(IA(i,r,o),EA(i,o,r)),null!=t&&TA(r,o),gp}function mp(){let n=Zn();const e=ze();return cC()?uC():(n=n.parent,ys(n,!1)),e.firstCreatePass&&(Ly(e,n),Zb(n)&&e.queries.elementEnd(n)),mp}let E$=(n,e,t,r)=>(pa(!0),kC(e[Te],""));function vo(){return k()}function kv(n){return!!n&&"function"==typeof n.then}function I$(n){return!!n&&"function"==typeof n.subscribe}function ut(n,e,t,r){const i=k(),s=ze(),o=Zn();return function b$(n,e,t,r,i,s,o){const a=Ry(r),u=n.firstCreatePass&&z5(n),l=e[nn],d=$5(e);let h=!0;if(3&r.type||o){const g=Jr(r,e),m=o?o(g):g,w=d.length,v=o?S=>o(mt(S[r.index])):r.index;let I=null;if(!o&&a&&(I=function fhe(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[vl],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=s,I.__ngLastListenerFn__=s,h=!1;else{s=A$(r,e,l,s,!1);const S=t.listen(m,i,s);d.push(s,S),u&&u.push(i,v,w,w+1)}}else s=A$(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const O=e[p[m]][p[m+1]].subscribe(s),V=d.length;d.push(s,O),u&&u.push(i,r.index,V,-(V+1))}}}(s,i,i[Te],o,n,e,r),ut}function C$(n,e,t,r){try{return _s(6,e,t),!1!==t(r)}catch(i){return H5(n,i),!1}finally{_s(7,e,t)}}function A$(n,e,t,r,i){return function s(o){if(o===Function)return r;op(n.componentOffset>-1?mi(n.index,e):e);let c=C$(e,t,r,o),u=s.__ngNextListenerFn__;for(;u;)c=C$(e,t,u,o)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function lt(n=1){return function Kae(n){return(me.lFrame.contextLView=function Qae(n,e){for(;n>0;)e=e[El],n--;return e}(n,me.lFrame.contextLView))[nn]}(n)}function UA(n,e,t){return _p(n,"",e,"",t),UA}function _p(n,e,t,r,i){const s=k(),o=Yl(s,e,t,r);return o!==Ae&&Ei(ze(),Ut(),s,n,o,s[Te],i,!1),_p}function Ov(n,e){return n<<17|e<<2}function ma(n){return n>>17&32767}function BA(n){return 2|n}function Vc(n){return(131068&n)>>2}function jA(n,e){return-131069&n|e<<2}function $A(n){return 1|n}function N$(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?ma(s):Vc(s),c=!1;for(;0!==a&&(!1===c||o);){const l=n[a+1];Ihe(n[a],e)&&(c=!0,n[a+1]=r?$A(l):BA(l)),a=r?ma(l):Vc(l)}c&&(n[t+1]=r?BA(s):$A(s))}function Ihe(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Nl(n,e)>=0}const Cn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function L$(n){return n.substring(Cn.key,Cn.keyEnd)}function F$(n,e){const t=Cn.textEnd;return t===e?-1:(e=Cn.keyEnd=function Ahe(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Cn.key=e,t),id(n,e,t))}function id(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function sd(n,e,t){return Zi(n,e,t,!1),sd}function zA(n,e){return Zi(n,e,null,!0),zA}function wo(n){!function es(n,e,t,r){const i=ze(),s=fo(2);i.firstUpdatePass&&z$(i,null,s,r);const o=k();if(t!==Ae&&yr(o,s,t)){const a=i.data[Vr()];if(W$(a,r)&&!$$(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=Lb(c,t||"")),VA(i,a,o,t,r)}else!function Lhe(n,e,t,r,i,s,o,a){i===Ae&&(i=Ye);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0;let g,p=null;l===d?(c+=2,u+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(c+=2,p=l):(u+=2,p=d,g=f),null!==p&&H$(n,e,t,r,p,g,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}(i,a,o,o[Te],o[s+1],o[s+1]=function Ohe(n,e,t){if(null==t||""===t)return Ye;const r=[],i=yi(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(Nhe,As,n,!0)}function As(n,e){for(let t=function bhe(n){return function U$(n){Cn.key=0,Cn.keyEnd=0,Cn.value=0,Cn.valueEnd=0,Cn.textEnd=n.length}(n),F$(n,id(n,0,Cn.textEnd))}(e);t>=0;t=F$(e,t))_i(n,L$(e),!0)}function Zi(n,e,t,r){const i=k(),s=ze(),o=fo(2);s.firstUpdatePass&&z$(s,n,o,r),e!==Ae&&yr(i,o,e)&&H$(s,s.data[Vr()],i,i[Te],n,i[o+1]=function Fhe(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=In(yi(n)))),n}(e,t),r,o)}function $$(n,e){return e>=n.expandoStartIndex}function z$(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Vr()],o=$$(n,t);W$(s,r)&&null===e&&!o&&(e=!1),e=function Phe(n,e,t,r){const i=dC(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=yp(t=GA(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=GA(i,n,e,t,r),null===s){let c=function Rhe(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Vc(r))return n[ma(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=GA(null,n,e,c[1],r),c=yp(c,e.attrs,r),function Mhe(n,e,t,r){n[ma(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function khe(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=yp(r,n[s].hostAttrs,t);return yp(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function whe(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ma(o),c=Vc(o);n[r]=t;let l,u=!1;if(Array.isArray(t)?(l=t[1],(null===l||Nl(t,l)>0)&&(u=!0)):l=t,i)if(0!==c){const h=ma(n[a+1]);n[r+1]=Ov(h,a),0!==h&&(n[h+1]=jA(n[h+1],r)),n[a+1]=function yhe(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Ov(a,0),0!==a&&(n[a+1]=jA(n[a+1],r)),a=r;else n[r+1]=Ov(c,0),0===a?a=r:n[c+1]=jA(n[c+1],r),c=r;u&&(n[r+1]=BA(n[r+1])),N$(n,l,r,!0),N$(n,l,r,!1),function Ehe(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Nl(s,e)>=0&&(t[r+1]=$A(t[r+1]))}(e,l,n,r,s),o=Ov(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function GA(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=yp(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function yp(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),_i(n,o,!!t||e[++s]))}return void 0===n?null:n}function Nhe(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&_i(n,r,t)}function H$(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const c=n.data,u=c[a+1],l=function vhe(n){return 1==(1&n)}(u)?q$(c,e,t,i,Vc(u),o):void 0;Nv(l)||(Nv(s)||function _he(n){return 2==(2&n)}(u)&&(s=q$(c,null,t,i,a,o)),function gue(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:ga.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ga.Important),n.setStyle(t,r,i,s))}}(r,o,Oy(Vr(),t),i,s))}function q$(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const c=n[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=t[i+1];h===Ae&&(h=d?Ye:void 0);let f=d?TC(h,r):l===r?h:void 0;if(u&&!Nv(f)&&(f=TC(c,r)),Nv(f)&&(a=f,o))return a;const p=n[i+1];i=o?ma(p):Vc(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=TC(c,r))}return a}function Nv(n){return void 0!==n}function W$(n,e){return 0!=(n.flags&(e?8:16))}function T(n,e=""){const t=k(),r=ze(),i=n+Ne,s=r.firstCreatePass?Wl(r,i,1,e,null):r.data[i],o=K$(r,t,s,e,n);t[i]=o,Ny()&&rv(r,t,o,s),ys(s,!1)}let K$=(n,e,t,r,i)=>(pa(!0),function Zy(n,e){return n.createText(e)}(e[Te],r));function U(n){return An("",n,""),U}function An(n,e,t){const r=k(),i=Yl(r,n,e,t);return i!==Ae&&_o(r,Vr(),i),An}function od(n,e,t,r,i){const s=k(),o=function Xl(n,e,t,r,i,s){const a=Fc(n,ho(),t,i);return fo(2),a?e+Ie(t)+r+Ie(i)+s:Ae}(s,n,e,t,r,i);return o!==Ae&&_o(s,Vr(),o),od}function HA(n,e,t,r,i,s,o){const a=k(),c=function Jl(n,e,t,r,i,s,o,a){const u=xv(n,ho(),t,i,o);return fo(3),u?e+Ie(t)+r+Ie(i)+s+Ie(o)+a:Ae}(a,n,e,t,r,i,s,o);return c!==Ae&&_o(a,Vr(),c),HA}function qA(n,e,t){const r=k();return yr(r,Dl(),e)&&Ei(ze(),Ut(),r,n,e,r[Te],t,!0),qA}function WA(n,e,t){const r=k();if(yr(r,Dl(),e)){const s=ze(),o=Ut();Ei(s,o,r,n,e,G5(dC(s.data),o,r),t,!0)}return WA}const cd="en-US";let hz=cd;class Bc{}class Vz{}class eD extends Bc{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new J5(this);const i=gi(e);this._bootstrapComponents=mo(i.bootstrap),this._r3Injector=h5(e,t,[{provide:Bc,useValue:this},{provide:Nc,useValue:this.componentFactoryResolver},...r],In(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class tD extends Vz{constructor(e){super(),this.moduleType=e}create(e){return new eD(this.moduleType,e,[])}}class Uz extends Bc{constructor(e){super(),this.componentFactoryResolver=new J5(this),this.instance=null;const t=new fv([...e.providers,{provide:Bc,useValue:this},{provide:Nc,useValue:this.componentFactoryResolver}],e.parent||hv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function nD(n,e,t=null){return new Uz({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let cpe=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Qj(0,t.type),i=r.length>0?nD([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(C(wi))})}return n})();function Bv(n){n.getStandaloneInjector=e=>e.get(cpe).getOrCreateStandaloneInjector(n)}function bp(n,e){const t=n[e];return t===Ae?void 0:t}function G(n,e){const t=ze();let r;const i=n+Ne;t.firstCreatePass?(r=function Ape(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Sc(r.type)),a=Yr($);try{const c=Uy(!1),u=s();return Uy(c),function ohe(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,k(),i,u),u}finally{Yr(a)}}function H(n,e,t){const r=n+Ne,i=k(),s=Cl(i,r);return Cp(i,r)?function Wz(n,e,t,r,i,s){const o=e+t;return yr(n,o,i)?bs(n,o+1,s?r.call(s,i):r(i)):bp(n,o+1)}(i,Fr(),e,s.transform,t,s):s.transform(t)}function iD(n,e,t,r,i){const s=n+Ne,o=k(),a=Cl(o,s);return Cp(o,s)?function Qz(n,e,t,r,i,s,o,a){const c=e+t;return xv(n,c,i,s,o)?bs(n,c+3,a?r.call(a,i,s,o):r(i,s,o)):bp(n,c+3)}(o,Fr(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function Cp(n,e){return n[re].data[e].pure}function Ppe(){return this._results[Symbol.iterator]()}class sD{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Pt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=sD.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Ppe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Vi(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function yce(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Mpe(n,e,t,r=!0){const i=e[re];if(function aue(n,e,t,r){const i=Xn+r,s=t.length;r>0&&(t[i-1][Xi]=e),r<s-Xn?(e[Xi]=t[i],XB(t,Xn+r,e)):(t.push(e),e[Xi]=null),e[xt]=t;const o=e[Of];null!==o&&t!==o&&function cue(n,e){const t=n[Tl];e[rn]!==e[xt][xt][rn]&&(n[XU]=!0),null===t?n[Tl]=[e]:t.push(e)}(o,e);const a=e[gs];null!==a&&a.insertView(n),e[De]|=128}(i,e,n,t),r){const s=VC(t,n),o=e[Te],a=nv(o,n[ms]);null!==a&&function iue(n,e,t,r,i,s){r[Wt]=i,r[gr]=e,Jf(n,r,t,1,i,s)}(i,n[gr],o,e,a,s)}}let Ds=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Npe}return n})();const kpe=Ds,Ope=class extends kpe{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function Rpe(n,e,t,r){const i=e.tView,a=Tv(n,i,t,4096&n[De]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Of]=n[e.index];const u=n[gs];return null!==u&&(a[gs]=u.createEmbeddedView(i)),PA(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new up(i)}};function Npe(){return jv(Zn(),k())}function jv(n,e){return 4&n.type?new Ope(e,n,Gl(n,e)):null}let Bi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=jpe}return n})();function jpe(){return iG(Zn(),k())}const $pe=Bi,nG=class extends $pe{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Gl(this._hostTNode,this._hostLView)}get injector(){return new Ur(this._hostTNode,this._hostLView)}get parentInjector(){const e=jy(this._hostTNode,this._hostLView);if(_C(e)){const t=zf(e,this._hostLView),r=$f(e);return new Ur(t[re].data[r+8],t)}return new Ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=rG(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Xn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function qf(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new lp($e(e)),u=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(o?u:this.parentInjector).get(wi,null);m&&(s=m)}$e(c.componentType??{});const f=c.create(u,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function Mae(n){return Lr(n[xt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[xt],l=new nG(u,u[gr],u[xt]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return Mpe(a,i,o,!r),e.attachToViewContainerRef(),XB(oD(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=rG(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=tv(this._lContainer,t);r&&(Gy(oD(this._lContainer),t),OC(r[re],r))}detach(e){const t=this._adjustIndex(e,-1),r=tv(this._lContainer,t);return r&&null!=Gy(oD(this._lContainer),t)?new up(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function rG(n){return n[8]}function oD(n){return n[8]||(n[8]=[])}function iG(n,e){let t;const r=e[n.index];return Lr(r)?t=r:(t=B5(r,e,null,n),e[n.index]=t,bv(e,t)),sG(t,e,n,r),new nG(t,n,e)}let sG=function oG(n,e,t,r){if(n[ms])return;let i;i=8&t.type?mt(r):function zpe(n,e){const t=n[Te],r=t.createComment(""),i=Jr(e,n);return Mc(t,nv(t,i),r,function hue(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[ms]=i};class aD{constructor(e){this.queryList=e,this.matches=null}clone(){return new aD(this.queryList)}setDirty(){this.queryList.setDirty()}}class cD{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new cD(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==fG(e,t).matches&&this.queries[t].setDirty()}}class aG{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class uD{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new uD(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class lD{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new lD(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,qpe(t,s)),this.matchTNodeWithReadOption(e,t,$y(t,e,s,!1,!1))}else r===Ds?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,$y(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ei||i===Bi||i===Ds&&4&t.type)this.addMatch(t.index,-2);else{const s=$y(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function qpe(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Kpe(n,e,t,r){return-1===t?function Wpe(n,e){return 11&n.type?Gl(n,e):4&n.type?jv(n,e):null}(e,n):-2===t?function Qpe(n,e,t){return t===ei?Gl(e,n):t===Ds?jv(e,n):t===Bi?iG(e,n):void 0}(n,e,r):Rc(n,n[re],t,e)}function cG(n,e,t,r){const i=e[gs].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const u=o[c];a.push(u<0?null:Kpe(e,s[u],o[c+1],t.metadata.read))}i.matches=a}return i.matches}function dD(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=cG(n,e,i,t);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const u=s[a+1],l=e[-c];for(let d=Xn;d<l.length;d++){const h=l[d];h[Of]===h[xt]&&dD(h[re],h,u,r)}if(null!==l[Tl]){const d=l[Tl];for(let h=0;h<d.length;h++){const f=d[h];dD(f[re],f,u,r)}}}}}return r}function hD(n){const e=k(),t=ze(),r=PB();hC(r+1);const i=fG(t,r);if(n.dirty&&function Pae(n){return 4==(4&n[De])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?dD(t,e,r,[]):cG(t,e,i,r);n.reset(s,gle),n.notifyOnChanges()}return!0}return!1}function uG(n,e,t){const r=ze();r.firstCreatePass&&(function hG(n,e,t){null===n.queries&&(n.queries=new uD),n.queries.track(new lD(e,t))}(r,new aG(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function dG(n,e,t){const r=new sD(4==(4&t));(function Wle(n,e,t,r){const i=$5(e);i.push(t),n.firstCreatePass&&z5(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[gs]&&(e[gs]=new cD),e[gs].queries.push(new aD(r))}(r,k(),e)}function fG(n,e){return n.queries.getByIndex(e)}function Ap(n,e){return jv(n,e)}const vD=new j("Application Initializer");let wD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Y(vD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(kv(s))t.push(s);else if(I$(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PG=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Ss=new j("LocaleId",{providedIn:"root",factory:()=>Y(Ss,Oe.Optional|Oe.SkipSelf)||function yge(){return typeof $localize<"u"&&$localize.locale||cd}()});let Gv=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new hi(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ege{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let RG=(()=>{class n{compileModuleSync(t){return new tD(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=mo(gi(t).declarations).reduce((o,a)=>{const c=$e(a);return c&&o.push(new lp(c)),o},[]);return new Ege(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const NG=new j(""),qv=new j("");let CD,TD=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,CD||(function jge(n){CD=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(C(ye),C(bD),C(qv))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),bD=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return CD?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),_a=null;const LG=new j("AllowMultipleToken"),AD=new j("PlatformDestroyListeners"),DD=new j("appBootstrapListener");class VG{constructor(e,t){this.name=e,this.token=t}}function BG(n,e,t=[]){const r=`Platform: ${e}`,i=new j(r);return(s=[])=>{let o=SD();if(!o||o.injector.get(LG,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function Gge(n){if(_a&&!_a.get(LG,!1))throw new M(400,!1);(function FG(){!function _ae(n){uB=n}(()=>{throw new M(600,!1)})})(),_a=n;const e=n.get($G);(function UG(n){n.get(e5,null)?.forEach(t=>t())})(n)}(function jG(n=[],e){return Bt.create({name:e,providers:[{provide:YC,useValue:"platform"},{provide:AD,useValue:new Set([()=>_a=null])},...n]})}(a,r))}return function qge(n){const e=SD();if(!e)throw new M(401,!1);return e}()}}function SD(){return _a?.get($G)??null}let $G=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Wge(n="zone.js",e){return"noop"===n?new xle:"zone.js"===n?new ye(e):n}(r?.ngZone,function zG(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function ape(n,e,t){return new eD(n,e,t)}(t.moduleType,this.injector,function KG(n){return[{provide:ye,useFactory:n},{provide:tp,multi:!0,useFactory:()=>{const e=Y(Qge,{optional:!0});return()=>e.initialize()}},{provide:WG,useFactory:Kge},{provide:_5,useFactory:y5}]}(()=>i)),o=s.injector.get(go,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{Wv(this._modules,s),a.unsubscribe()})}),function GG(n,e,t){try{const r=t();return kv(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(wD);return a.runInitializers(),a.donePromise.then(()=>(function fz(n){ki(n,"Expected localeId to be defined"),"string"==typeof n&&(hz=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ss,cd)||cd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=HG({},r);return function $ge(n,e,t){const r=new tD(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(xs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new M(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(AD,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(C(Bt))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function HG(n,e){return Array.isArray(e)?e.reduce(HG,n):{...n,...e}}let xs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Y(WG),this.zoneIsStable=Y(_5),this.componentTypes=[],this.components=[],this.isStable=Y(Gv).hasPendingTasks.pipe(fi(t=>t?le(!1):this.zoneIsStable),DU(),Ob()),this._injector=Y(wi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof s5;if(!this._injector.get(wD).done)throw!i&&function yl(n){const e=$e(n)||Yn(n)||Nr(n);return null!==e&&e.standalone}(t),new M(405,!1);let o;o=i?t:this._injector.get(Nc).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function zge(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Bc),u=o.create(Bt.NULL,[],r||o.selector,a),l=u.location.nativeElement,d=u.injector.get(NG,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Wv(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Wv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(DD,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Wv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new M(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const WG=new j("",{providedIn:"root",factory:()=>Y(go).handleError.bind(void 0)});function Kge(){const n=Y(ye),e=Y(go);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Qge=(()=>{class n{constructor(){this.zone=Y(ye),this.applicationRef=Y(xs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Kv=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Xge}return n})();function Xge(n){return function Jge(n,e,t){if(Dc(n)&&!t){const r=mi(n.index,e);return new up(r,r)}return 47&n.type?new up(e[rn],e):null}(Zn(),k(),16==(16&n))}class JG{constructor(){}supports(e){return Sv(e)}create(e){return new ime(e)}}const rme=(n,e)=>e;class ime{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rme}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<eH(r,i,s)?t:r,a=eH(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<u&&(s[h]=f+1)}s[o.previousIndex]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Sv(e))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function Ude(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new sme(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ZG),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZG),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class sme{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ome{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class ZG{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new ome,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function eH(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function nH(){return new Xv([new JG])}let Xv=(()=>{class n{static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:nH});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||nH()),deps:[[n,new qy,new mr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new M(901,!1)}}return n})();const dme=BG(null,"core",[]);let hme=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(C(xs))};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({})}return n})();function OD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let ND=null;function dd(){return ND}class Ame{}const Me=new j("DocumentToken");let LD=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return Y(Sme)},providedIn:"platform"})}return n})();const Dme=new j("Location Initialized");let Sme=(()=>{class n extends LD{constructor(){super(),this._doc=Y(Me),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dd().getBaseHref(this._doc)}onPopState(t){const r=dd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=dd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function FD(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function hH(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Eo(n){return n&&"?"!==n[0]?"?"+n:n}let $c=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return Y(pH)},providedIn:"root"})}return n})();const fH=new j("appBaseHref");let pH=(()=>{class n extends $c{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Y(Me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return FD(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Eo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Eo(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Eo(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(C(LD),C(fH,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xme=(()=>{class n extends $c{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=FD(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Eo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Eo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(C(LD),C(fH,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Pp=(()=>{class n{constructor(t){this._subject=new Pt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Mme(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(hH(gH(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Eo(r))}normalize(t){return n.stripTrailingSlash(function Rme(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,gH(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Eo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Eo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Eo;static#t=this.joinWithSlash=FD;static#n=this.stripTrailingSlash=hH;static#r=this.\u0275fac=function(r){return new(r||n)(C($c))};static#i=this.\u0275prov=z({token:n,factory:function(){return function Pme(){return new Pp(C($c))}()},providedIn:"root"})}return n})();function gH(n){return n.replace(/\/index.html$/,"")}function bH(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class y_e{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kp=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new y_e(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),DH(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{DH(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)($(Bi),$(Ds),$(Xv))};static#t=this.\u0275dir=pr({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function DH(n,e){n.context.$implicit=e.item}let zc=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new v_e,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){SH("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){SH("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)($(Bi),$(Ds))};static#t=this.\u0275dir=pr({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class v_e{constructor(){this.$implicit=null,this.ngIf=null}}function SH(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${In(e)}'.`)}let JD=(()=>{class n{transform(t,r,i){if(null==t)return null;if(!this.supports(t))throw function ns(n,e){return new M(2100,!1)}();return t.slice(r,i)}supports(t){return"string"==typeof t||Array.isArray(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=Or({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),G_e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({})}return n})();const RH="browser";function MH(n){return"server"===n}let Q_e=(()=>{class n{static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new Y_e(C(Me),window)})}return n})();class Y_e{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function X_e(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class kH{}class wye extends Ame{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tS extends wye{static makeCurrent(){!function Cme(n){ND||(ND=n)}(new tS)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Eye(){return Np=Np||document.querySelector("base"),Np?Np.getAttribute("href"):null}();return null==t?null:function Iye(n){dw=dw||document.createElement("a"),dw.setAttribute("href",n);const e=dw.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Np=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bH(document.cookie,e)}}let dw,Np=null,bye=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const nS=new j("EventManagerPlugins");let VH=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(C(nS),C(ye))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class UH{constructor(e){this._doc=e}}const rS="ng-app-id";let BH=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=MH(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${rS}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(rS),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(rS,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(C(Me),C(pv),C(eA,8),C(Is))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const iS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sS=/%COMP%/g,Sye=new j("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function $H(n,e){return e.map(t=>t.replace(sS,n))}let oS=(()=>{class n{constructor(t,r,i,s,o,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=MH(a),this.defaultRenderer=new aS(t,o,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Oi.ShadowDom&&(r={...r,encapsulation:Oi.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof GH?i.applyToHost(t):i instanceof cS&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Oi.Emulated:s=new GH(c,u,r,this.appId,l,o,a,d);break;case Oi.ShadowDom:return new Mye(c,u,t,r,o,a,this.nonce,d);default:s=new cS(c,u,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(C(VH),C(BH),C(pv),C(Sye),C(Me),C(Is),C(ye),C(eA))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class aS{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(iS[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(zH(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(zH(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=iS[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=iS[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ga.DashCase|ga.Important)?e.style.setProperty(t,r,i&ga.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ga.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=dd().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function zH(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Mye extends aS{constructor(e,t,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=$H(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class cS extends aS{constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?$H(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class GH extends cS{constructor(e,t,r,i,s,o,a,c){const u=i+"-"+r.id;super(e,t,r,s,o,a,c,u),this.contentAttr=function xye(n){return"_ngcontent-%COMP%".replace(sS,n)}(u),this.hostAttr=function Pye(n){return"_nghost-%COMP%".replace(sS,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let kye=(()=>{class n extends UH{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(C(Me))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const HH=["alt","control","meta","shift"],Oye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nye={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Lye=(()=>{class n extends UH{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dd().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),HH.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=Oye[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),HH.forEach(o=>{o!==i&&(0,Nye[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(C(Me))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const WH=[{provide:Is,useValue:RH},{provide:e5,useValue:function Fye(){tS.makeCurrent()},multi:!0},{provide:Me,useFactory:function Uye(){return function wue(n){jC=n}(document),document},deps:[]}],Bye=BG(dme,"browser",WH),jye=new j(""),KH=[{provide:qv,useClass:class Tye{addToWindow(e){gt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new M(5103,!1);return s},gt.getAllAngularTestabilities=()=>e.getAllTestabilities(),gt.getAllAngularRootElements=()=>e.getAllRootElements(),gt.frameworkStabilizers||(gt.frameworkStabilizers=[]),gt.frameworkStabilizers.push(r=>{const i=gt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?dd().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:NG,useClass:TD,deps:[ye,bD,qv]},{provide:TD,useClass:TD,deps:[ye,bD,qv]}],QH=[{provide:YC,useValue:"root"},{provide:go,useFactory:function Vye(){return new go},deps:[]},{provide:nS,useClass:kye,multi:!0,deps:[Me,ye,Is]},{provide:nS,useClass:Lye,multi:!0,deps:[Me]},oS,BH,VH,{provide:sp,useExisting:oS},{provide:kH,useClass:bye,deps:[]},[]];let YH=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:pv,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(C(jye,12))};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({providers:[...QH,...KH],imports:[G_e,hme]})}return n})(),XH=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(C(Me))};static#t=this.\u0275prov=z({token:n,factory:function(r){let i=null;return i=r?new r:function zye(){return new XH(C(Me))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;let eq=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:function(r){let i=null;return i=r?new(r||n):C(tq),i},providedIn:"root"})}return n})(),tq=(()=>{class n extends eq{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case vi.NONE:return r;case vi.HTML:return ws(r,"HTML")?yi(r):Gj(this._doc,String(r)).toString();case vi.STYLE:return ws(r,"Style")?yi(r):r;case vi.SCRIPT:if(ws(r,"Script"))return yi(r);throw new M(5200,!1);case vi.URL:return ws(r,"URL")?yi(r):av(String(r));case vi.RESOURCE_URL:if(ws(r,"ResourceURL"))return yi(r);throw new M(5201,!1);default:throw new M(5202,!1)}}bypassSecurityTrustHtml(t){return function Due(n){return new Eue(n)}(t)}bypassSecurityTrustStyle(t){return function Sue(n){return new Iue(n)}(t)}bypassSecurityTrustScript(t){return function xue(n){return new Tue(n)}(t)}bypassSecurityTrustUrl(t){return function Pue(n){return new bue(n)}(t)}bypassSecurityTrustResourceUrl(t){return function Rue(n){return new Cue(n)}(t)}static#e=this.\u0275fac=function(r){return new(r||n)(C(Me))};static#t=this.\u0275prov=z({token:n,factory:function(r){let i=null;return i=r?new r:function Wye(n){return new tq(n.get(Me))}(C(Bt)),i},providedIn:"root"})}return n})();function va(n){return!!n&&(n instanceof ht||Ue(n.lift)&&Ue(n.subscribe))}const{isArray:Kye}=Array,{getPrototypeOf:Qye,prototype:Yye,keys:Xye}=Object;function rq(n){if(1===n.length){const e=n[0];if(Kye(e))return{args:e,keys:null};if(function Jye(n){return n&&"object"==typeof n&&Qye(n)===Yye}(e)){const t=Xye(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Zye}=Array;function lS(n){return je(e=>function eve(n,e){return Zye(e)?n(...e):n(e)}(n,e))}function iq(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function hw(...n){const e=Df(n),t=CU(n),{args:r,keys:i}=rq(n);if(0===r.length)return kn([],e);const s=new ht(function tve(n,e,t=aa){return r=>{sq(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)sq(e,()=>{const u=kn(n[c],e);let l=!1;u.subscribe(Ft(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>iq(i,o):aa));return t?s.pipe(lS(t)):s}function sq(n,e,t){n?ao(t,n,e):e()}const fw=bf(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function fd(...n){return function nve(){return ml(1)}()(kn(n,Df(n)))}function pd(n){return new ht(e=>{kr(n()).subscribe(e)})}function Lp(n,e){const t=Ue(n)?n:()=>n,r=i=>i.error(t());return new ht(e?i=>e.schedule(r,0,i):r)}function dS(){return tn((n,e)=>{let t=null;n._refCount++;const r=Ft(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class oq extends ht{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,lU(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qn;const t=this.getSubject();e.add(this.source.subscribe(Ft(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qn.EMPTY)}return e}refCount(){return dS()(this)}}function vr(n){return n<=0?()=>fs:tn((e,t)=>{let r=0;e.subscribe(Ft(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function pw(...n){const e=Df(n);return tn((t,r)=>{(e?fd(n,t,e):fd(n,t)).subscribe(r)})}function wr(n,e){return tn((t,r)=>{let i=0;t.subscribe(Ft(r,s=>n.call(e,s,i++)&&r.next(s)))})}function gw(n){return tn((e,t)=>{let r=!1;e.subscribe(Ft(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function aq(n=rve){return tn((e,t)=>{let r=!1;e.subscribe(Ft(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function rve(){return new fw}function Gc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wr((i,s)=>n(i,s,r)):aa,vr(1),t?gw(e):aq(()=>new fw))}function Hc(n,e){return Ue(e)?Mn(n,e,1):Mn(n,1)}function er(n,e,t){const r=Ue(n)||e||t?{next:n,error:e,complete:t}:n;return r?tn((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ft(s,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),s.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):aa}function qc(n){return tn((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Ft(t,void 0,void 0,o=>{s=kr(n(o,qc(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function hS(n){return n<=0?()=>fs:tn((e,t)=>{let r=[];e.subscribe(Ft(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Fp(n){return tn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function mw(n){return tn((e,t)=>{kr(n).subscribe(Ft(t,()=>t.complete(),Eb)),!t.closed&&e.subscribe(t)})}const Se="primary",Vp=Symbol("RouteTitle");class cve{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function gd(n){return new cve(n)}function uve(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ps(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!cq(n[i],e[i]))return!1;return!0}function cq(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function uq(n){return n.length>0?n[n.length-1]:null}function wa(n){return va(n)?n:kv(n)?kn(Promise.resolve(n)):le(n)}const dve={exact:function hq(n,e,t){if(!Wc(n.segments,e.segments)||!_w(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!hq(n.children[r],e.children[r],t))return!1;return!0},subset:fq},lq={exact:function hve(n,e){return Ps(n,e)},subset:function fve(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>cq(n[t],e[t]))},ignored:()=>!0};function dq(n,e,t){return dve[t.paths](n.root,e.root,t.matrixParams)&&lq[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function fq(n,e,t){return pq(n,e,e.segments,t)}function pq(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Wc(i,t)||e.hasChildren()||!_w(i,t,r))}if(n.segments.length===t.length){if(!Wc(n.segments,t)||!_w(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!fq(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Wc(n.segments,i)&&_w(n.segments,i,r)&&n.children[Se])&&pq(n.children[Se],e,s,r)}}function _w(n,e,t){return e.every((r,i)=>lq[t](n[i].parameters,r.parameters))}class md{constructor(e=new nt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gd(this.queryParams)),this._queryParamMap}toString(){return mve.serialize(this)}}class nt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yw(this)}}class Up{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=gd(this.parameters)),this._parameterMap}toString(){return _q(this)}}function Wc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Bp=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return new fS},providedIn:"root"})}return n})();class fS{parse(e){const t=new Dve(e);return new md(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${jp(e.root,!0)}`,r=function vve(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${vw(t)}=${vw(i)}`).join("&"):`${vw(t)}=${vw(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function _ve(n){return encodeURI(n)}(e.fragment)}`:""}`}}const mve=new fS;function yw(n){return n.segments.map(e=>_q(e)).join("/")}function jp(n,e){if(!n.hasChildren())return yw(n);if(e){const t=n.children[Se]?jp(n.children[Se],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Se&&r.push(`${i}:${jp(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function gve(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Se&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Se&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Se?[jp(n.children[Se],!1)]:[`${i}:${jp(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Se]?`${yw(n)}/${t[0]}`:`${yw(n)}/(${t.join("//")})`}}function gq(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vw(n){return gq(n).replace(/%3B/gi,";")}function pS(n){return gq(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ww(n){return decodeURIComponent(n)}function mq(n){return ww(n.replace(/\+/g,"%20"))}function _q(n){return`${pS(n.path)}${function yve(n){return Object.keys(n).map(e=>`;${pS(e)}=${pS(n[e])}`).join("")}(n.parameters)}`}const wve=/^[^\/()?;#]+/;function gS(n){const e=n.match(wve);return e?e[0]:""}const Eve=/^[^\/()?;=#]+/,Tve=/^[^=?&#]+/,Cve=/^[^&#]+/;class Dve{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nt([],{}):new nt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Se]=new nt(e,t)),r}parseSegment(){const e=gS(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new Up(ww(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Ive(n){const e=n.match(Eve);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=gS(this.remaining);i&&(r=i,this.capture(r))}e[ww(t)]=ww(r)}parseQueryParam(e){const t=function bve(n){const e=n.match(Tve);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Ave(n){const e=n.match(Cve);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=mq(t),s=mq(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gS(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new M(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Se);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Se]:new nt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}}function yq(n){return n.segments.length>0?new nt([],{[Se]:n}):n}function vq(n){const e={};for(const r of Object.keys(n.children)){const s=vq(n.children[r]);if(r===Se&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Sve(n){if(1===n.numberOfChildren&&n.children[Se]){const e=n.children[Se];return new nt(n.segments.concat(e.segments),e.children)}return n}(new nt(n.segments,e))}function Kc(n){return n instanceof md}function wq(n){let e;const i=yq(function t(s){const o={};for(const c of s.children){const u=t(c);o[c.outlet]=u}const a=new nt(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function Eq(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return mS(i,i,i,t,r);const s=function Pve(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Tq(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Tq(t,e,r)}(e);if(s.toRoot())return mS(i,i,new nt([],{}),t,r);const o=function Rve(n,e,t){if(n.isAbsolute)return new Iw(e,!0,0);if(!t)return new Iw(e,!1,NaN);if(null===t.parent)return new Iw(t,!0,0);const r=Ew(n.commands[0])?0:1;return function Mve(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new Iw(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?zp(o.segmentGroup,o.index,s.commands):bq(o.segmentGroup,o.index,s.commands);return mS(i,o.segmentGroup,a,t,r)}function Ew(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $p(n){return"object"==typeof n&&null!=n&&n.outlets}function mS(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=n===e?t:Iq(n,e,t);const a=yq(vq(o));return new md(a,s,i)}function Iq(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:Iq(s,e,t)}),new nt(n.segments,r)}class Tq{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ew(r[0]))throw new M(4003,!1);const i=r.find($p);if(i&&i!==uq(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Iw{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function bq(n,e,t){if(n||(n=new nt([],{})),0===n.segments.length&&n.hasChildren())return zp(n,e,t);const r=function Ove(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if($p(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!Aq(c,u,o))return s;r+=2}else{if(!Aq(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new nt(n.segments.slice(0,r.pathIndex),{});return s.children[Se]=new nt(n.segments.slice(r.pathIndex),n.children),zp(s,0,i)}return r.match&&0===i.length?new nt(n.segments,{}):r.match&&!n.hasChildren()?_S(n,e,t):r.match?zp(n,0,i):_S(n,e,t)}function zp(n,e,t){if(0===t.length)return new nt(n.segments,{});{const r=function kve(n){return $p(n[0])?n[0].outlets:{[Se]:n}}(t),i={};if(Object.keys(r).some(s=>s!==Se)&&n.children[Se]&&1===n.numberOfChildren&&0===n.children[Se].segments.length){const s=zp(n.children[Se],e,t);return new nt(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=bq(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new nt(n.segments,i)}}function _S(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if($p(s)){const c=Nve(s.outlets);return new nt(r,c)}if(0===i&&Ew(t[0])){r.push(new Up(n.segments[e].path,Cq(t[0]))),i++;continue}const o=$p(s)?s.outlets[Se]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Ew(a)?(r.push(new Up(o,Cq(a))),i+=2):(r.push(new Up(o,{})),i++)}return new nt(r,{})}function Nve(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=_S(new nt([],{}),0,r))}),e}function Cq(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Aq(n,e,t){return n==t.path&&Ps(e,t.parameters)}const Gp="imperative";class Rs{constructor(e,t){this.id=e,this.url=t}}class Tw extends Rs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ea extends Rs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hp extends Rs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _d extends Rs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class bw extends Rs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Dq extends Rs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lve extends Rs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fve extends Rs{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vve extends Rs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uve extends Rs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bve{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jve{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $ve{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zve{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gve{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hve{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sq{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yS{}class vS{constructor(e){this.url=e}}class qve{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qp,this.attachRef=null}}let qp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new qve,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class xq{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=wS(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=wS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ES(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ES(e,this._root).map(t=>t.value)}}function wS(n,e){if(n===e.value)return e;for(const t of e.children){const r=wS(n,t);if(r)return r}return null}function ES(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ES(n,t);if(r.length)return r.unshift(e),r}return[]}class bo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Pq extends xq{constructor(e,t){super(e),this.snapshot=t,IS(this,e)}toString(){return this.snapshot.toString()}}function Rq(n,e){const t=function Wve(n,e){const o=new Cw([],{},{},"",{},Se,e,null,{});return new kq("",new bo(o,[]))}(0,e),r=new hi([new Up("",{})]),i=new hi({}),s=new hi({}),o=new hi({}),a=new hi(""),c=new Ia(r,i,o,a,s,Se,e,t.root);return c.snapshot=t.root,new Pq(new bo(c,[]),t)}class Ia{constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(je(u=>u[Vp]))??le(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(je(e=>gd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(je(e=>gd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mq(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Kve(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Cw{get title(){return this.data?.[Vp]}constructor(e,t,r,i,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kq extends xq{constructor(e,t){super(t),this.url=e,IS(this,t)}toString(){return Oq(this._root)}}function IS(n,e){e.value._routerState=n,e.children.forEach(t=>IS(n,t))}function Oq(n){const e=n.children.length>0?` { ${n.children.map(Oq).join(", ")} } `:"";return`${n.value}${e}`}function TS(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ps(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ps(e.params,t.params)||n.paramsSubject.next(t.params),function lve(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ps(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Ps(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function bS(n,e){const t=Ps(n.params,e.params)&&function pve(n,e){return Wc(n,e)&&n.every((t,r)=>Ps(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||bS(n.parent,e.parent))}let CS=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Se,this.activateEvents=new Pt,this.deactivateEvents=new Pt,this.attachEvents=new Pt,this.detachEvents=new Pt,this.parentContexts=Y(qp),this.location=Y(Bi),this.changeDetector=Y(Kv),this.environmentInjector=Y(wi),this.inputBinder=Y(Aw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Qve(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=pr({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xc]})}return n})();class Qve{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ia?this.route:e===qp?this.childContexts:this.parent.get(e,t)}}const Aw=new j("");let Nq=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=hw([r.queryParams,r.params,r.data]).pipe(fi(([s,o,a],c)=>(a={...s,...o,...a},0===c?le(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function bme(n){const e=$e(n);if(!e)return null;const t=new lp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function Wp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Xve(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wp(n,r,i);return Wp(n,r)})}(n,e,t);return new bo(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Wp(n,a)),o}}const r=function Jve(n){return new Ia(new hi(n.url),new hi(n.params),new hi(n.queryParams),new hi(n.fragment),new hi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Wp(n,s));return new bo(r,i)}}const AS="ngNavigationCancelingError";function Lq(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Kc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Fq(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Fq(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[AS]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Vq(n){return n&&n[AS]}let Uq=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Bv],decls:1,vars:0,template:function(r,i){1&r&&Q(0,"router-outlet")},dependencies:[CS],encapsulation:2})}return n})();function DS(n){const e=n.children&&n.children.map(DS),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Se&&(t.component=Uq),t}function rs(n){return n.outlet||Se}function Kp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class owe{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),TS(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=yd(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=yd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=yd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=yd(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Hve(s.value.snapshot))}),e.children.length&&this.forwardEvent(new zve(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(TS(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),TS(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Kp(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Bq{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Dw{constructor(e,t){this.component=e,this.route=t}}function awe(n,e,t){const r=n._root;return Qp(r,e?e._root:null,t,[r.value])}function vd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Loe(n){return null!==Iy(n)}(n)?e.get(n):n:r}function Qp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=yd(e);return n.children.forEach(o=>{(function uwe(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function lwe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Wc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wc(n.url,e.url)||!Ps(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bS(n,e)||!Ps(n.queryParams,e.queryParams);default:return!bS(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Bq(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Qp(n,e,s.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Dw(a.outlet.component,o))}else o&&Yp(e,a,i),i.canActivateChecks.push(new Bq(r)),Qp(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Yp(a,t.getContext(o),i)),i}function Yp(n,e,t){const r=yd(n),i=n.value;Object.entries(r).forEach(([s,o])=>{Yp(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Dw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Xp(n){return"function"==typeof n}function jq(n){return n instanceof fw||"EmptyError"===n?.name}const Sw=Symbol("INITIAL_VALUE");function wd(){return fi(n=>hw(n.map(e=>e.pipe(vr(1),pw(Sw)))).pipe(je(e=>{for(const t of e)if(!0!==t){if(t===Sw)return Sw;if(!1===t||t instanceof md)return t}return!0}),wr(e=>e!==Sw),vr(1)))}function $q(n){return function $se(...n){return aU(n)}(er(e=>{if(Kc(e))throw Lq(0,e)}),je(e=>!0===e))}class xw{constructor(e){this.segmentGroup=e||null}}class zq{constructor(e){this.urlTree=e}}function Ed(n){return Lp(new xw(n))}function Gq(n){return Lp(new zq(n))}class Pwe{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new M(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return le(r);if(i.numberOfChildren>1||!i.children[Se])return Lp(new M(4e3,!1));i=i.children[Se]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new md(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new nt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const SS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rwe(n,e,t,r,i){const s=xS(n,e,t);return s.matched?(r=function ewe(n,e){return n.providers&&!n._injector&&(n._injector=nD(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Dwe(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?le(i.map(o=>{const a=vd(o,n);return wa(function mwe(n){return n&&Xp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(wd(),$q()):le(!0)}(r,e,t).pipe(je(o=>!0===o?s:{...SS}))):le(s)}function xS(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...SS}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||uve)(t,n,e);if(!i)return{...SS};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Hq(n,e,t,r){return t.length>0&&function Owe(n,e,t){return t.some(r=>Pw(n,e,r)&&rs(r)!==Se)}(n,t,r)?{segmentGroup:new nt(e,kwe(r,new nt(t,n.children))),slicedSegments:[]}:0===t.length&&function Nwe(n,e,t){return t.some(r=>Pw(n,e,r))}(n,t,r)?{segmentGroup:new nt(n.segments,Mwe(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new nt(n.segments,n.children),slicedSegments:t}}function Mwe(n,e,t,r,i){const s={};for(const o of r)if(Pw(n,t,o)&&!i[rs(o)]){const a=new nt([],{});s[rs(o)]=a}return{...i,...s}}function kwe(n,e){const t={};t[Se]=e;for(const r of n)if(""===r.path&&rs(r)!==Se){const i=new nt([],{});t[rs(r)]=i}return t}function Pw(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Uwe{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Pwe(this.urlSerializer,this.urlTree)}noMatchError(e){return new M(4002,!1)}recognize(){const e=Hq(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Se).pipe(qc(t=>{if(t instanceof zq)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof xw?this.noMatchError(t):t}),je(t=>{const r=new Cw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Se,this.rootComponentType,null,{}),i=new bo(r,t),s=new kq("",i),o=function xve(n,e,t=null,r=null){return Eq(wq(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Se).pipe(qc(r=>{throw r instanceof xw?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=Mq(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return kn(i).pipe(Hc(s=>{const o=r.children[s],a=function iwe(n,e){const t=n.filter(r=>rs(r)===e);return t.push(...n.filter(r=>rs(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function sve(n,e){return tn(function ive(n,e,t,r,i){return(s,o)=>{let a=t,c=e,u=0;s.subscribe(Ft(o,l=>{const d=u++;c=a?n(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),gw(null),function ove(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wr((i,s)=>n(i,s,r)):aa,hS(1),t?gw(e):aq(()=>new fw))}(),Mn(s=>{if(null===s)return Ed(r);const o=qq(s);return function Bwe(n){n.sort((e,t)=>e.value.outlet===Se?-1:t.value.outlet===Se?1:e.value.outlet.localeCompare(t.value.outlet))}(o),le(o)}))}processSegment(e,t,r,i,s,o){return kn(t).pipe(Hc(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(qc(c=>{if(c instanceof xw)return le(null);throw c}))),Gc(a=>!!a),qc(a=>{if(jq(a))return function Fwe(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?le([]):Ed(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function Lwe(n,e,t,r){return!!(rs(n)===r||r!==Se&&Pw(e,t,n))&&("**"===n.path||xS(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):Ed(i):Ed(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Gq(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Mn(o=>{const a=new nt(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=xS(t,i,s);if(!a)return Ed(t);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?Gq(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Mn(h=>this.processSegment(e,r,t,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?uq(i).parameters:{};a=le({snapshot:new Cw(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wq(r),rs(r),r.component??r._loadedComponent??null,r,Kq(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Rwe(t,r,i,e).pipe(je(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new Cw(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wq(r),rs(r),r.component??r._loadedComponent??null,r,Kq(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(fi(c=>null===c?Ed(t):this.getChildConfig(e=r._injector??e,r,i).pipe(fi(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:p,slicedSegments:g}=Hq(t,h,f,u);if(0===g.length&&p.hasChildren())return this.processChildren(l,u,p).pipe(je(w=>null===w?null:[new bo(d,w)]));if(0===u.length&&0===g.length)return le([new bo(d,[])]);const m=rs(r)===s;return this.processSegment(l,u,p,g,m?Se:s,!0).pipe(je(w=>[new bo(d,w)]))}))))}getChildConfig(e,t,r){return t.children?le({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?le({routes:t._loadedRoutes,injector:t._loadedInjector}):function Awe(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?le(!0):le(i.map(o=>{const a=vd(o,n);return wa(function hwe(n){return n&&Xp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(wd(),$q())}(e,t,r).pipe(Mn(i=>i?this.configLoader.loadChildren(e,t).pipe(er(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function xwe(n){return Lp(Fq(!1,3))}())):le({routes:[],injector:e})}}function jwe(n){const e=n.value.routeConfig;return e&&""===e.path}function qq(n){const e=[],t=new Set;for(const r of n){if(!jwe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=qq(r.children);e.push(new bo(r.value,i))}return e.filter(r=>!t.has(r))}function Wq(n){return n.data||{}}function Kq(n){return n.resolve||{}}function Qq(n){return"string"==typeof n.title||null===n.title}function PS(n){return fi(e=>{const t=n(e);return t?kn(t).pipe(je(()=>e)):le(e)})}const Id=new j("ROUTES");let RS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Y(RG)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return le(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=wa(t.loadComponent()).pipe(je(Yq),er(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Fp(()=>{this.componentLoaders.delete(t)})),i=new oq(r,()=>new ke).pipe(dS());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return le({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Kwe(n,e,t,r){return wa(n.loadChildren()).pipe(je(Yq),Mn(i=>i instanceof Vz||Array.isArray(i)?le(i):kn(e.compileModuleAsync(i))),je(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(Id,[],{optional:!0,self:!0}).flat()),{routes:o.map(DS),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Fp(()=>{this.childrenLoaders.delete(r)})),o=new oq(s,()=>new ke).pipe(dS());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yq(n){return function Qwe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Rw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ke,this.transitionAbortSubject=new ke,this.configLoader=Y(RS),this.environmentInjector=Y(wi),this.urlSerializer=Y(Bp),this.rootContexts=Y(qp),this.inputBindingEnabled=null!==Y(Aw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>le(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new jve(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Bve(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new hi({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wr(s=>0!==s.id),je(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),fi(s=>{this.currentTransition=s;let o=!1,a=!1;return le(s).pipe(er(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fi(c=>{const u=c.currentBrowserUrl.toString(),l=!t.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new _d(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),fs}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return le(c).pipe(fi(h=>{const f=this.transitions?.getValue();return this.events.next(new Tw(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?fs:Promise.resolve(h)}),function $we(n,e,t,r,i,s){return Mn(o=>function Vwe(n,e,t,r,i,s,o="emptyOnly"){return new Uwe(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(je(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),er(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new Dq(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=c,w=new Tw(h,this.urlSerializer.serialize(f),p,g);this.events.next(w);const v=Rq(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:v,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},le(s)}{const h="";return this.events.next(new _d(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),fs}}),er(c=>{const u=new Lve(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),je(c=>(this.currentTransition=s={...c,guards:awe(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function ywe(n,e){return Mn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?le({...t,guardsResult:!0}):function vwe(n,e,t,r){return kn(n).pipe(Mn(i=>function Cwe(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?le(s.map(a=>{const c=Kp(e)??i,u=vd(a,c);return wa(function gwe(n){return n&&Xp(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):c.runInContext(()=>u(n,e,t,r))).pipe(Gc())})).pipe(wd()):le(!0)}(i.component,i.route,t,e,r)),Gc(i=>!0!==i,!0))}(o,r,i,n).pipe(Mn(a=>a&&function dwe(n){return"boolean"==typeof n}(a)?function wwe(n,e,t,r){return kn(e).pipe(Hc(i=>fd(function Iwe(n,e){return null!==n&&e&&e(new $ve(n)),le(!0)}(i.route.parent,r),function Ewe(n,e){return null!==n&&e&&e(new Gve(n)),le(!0)}(i.route,r),function bwe(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function cwe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>pd(()=>le(o.guards.map(c=>{const u=Kp(o.node)??t,l=vd(c,u);return wa(function pwe(n){return n&&Xp(n.canActivateChild)}(l)?l.canActivateChild(r,n):u.runInContext(()=>l(r,n))).pipe(Gc())})).pipe(wd())));return le(s).pipe(wd())}(n,i.path,t),function Twe(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return le(!0);const i=r.map(s=>pd(()=>{const o=Kp(e)??t,a=vd(s,o);return wa(function fwe(n){return n&&Xp(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Gc())}));return le(i).pipe(wd())}(n,i.route,t))),Gc(i=>!0!==i,!0))}(r,s,n,e):le(a)),je(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),er(c=>{if(s.guardsResult=c.guardsResult,Kc(c.guardsResult))throw Lq(0,c.guardsResult);const u=new Fve(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),wr(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),PS(c=>{if(c.guards.canActivateChecks.length)return le(c).pipe(er(u=>{const l=new Vve(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),fi(u=>{let l=!1;return le(u).pipe(function zwe(n,e){return Mn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return le(t);let s=0;return kn(i).pipe(Hc(o=>function Gwe(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!Qq(i)&&(s[Vp]=i.title),function Hwe(n,e,t,r){const i=function qwe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return le({});const s={};return kn(i).pipe(Mn(o=>function Wwe(n,e,t,r){const i=Kp(e)??r,s=vd(n,i);return wa(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Gc(),er(a=>{s[o]=a}))),hS(1),function ave(n){return je(()=>n)}(s),qc(o=>jq(o)?fs:Lp(o)))}(s,n,e,r).pipe(je(o=>(n._resolvedData=o,n.data=Mq(n,t).resolve,i&&Qq(i)&&(n.data[Vp]=i.title),null)))}(o.route,r,n,e)),er(()=>s++),hS(1),Mn(o=>s===i.length?le(t):fs))})}(t.paramsInheritanceStrategy,this.environmentInjector),er({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),er(u=>{const l=new Uve(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),PS(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(er(h=>{l.component=h}),je(()=>{})));for(const h of l.children)d.push(...u(h));return d};return hw(u(c.targetSnapshot.root)).pipe(gw(),vr(1))}),PS(()=>this.afterPreactivation()),je(c=>{const u=function Yve(n,e,t){const r=Wp(n,e._root,t?t._root:void 0);return new Pq(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:u},s}),er(()=>{this.events.next(new yS)}),((n,e,t,r)=>je(i=>(new owe(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),vr(1),er({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ea(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),mw(this.transitionAbortSubject.pipe(er(c=>{throw c}))),Fp(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),qc(c=>{if(a=!0,Vq(c))this.events.next(new Hp(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function Zve(n){return Vq(n)&&Kc(n.url)}(c)?this.events.next(new vS(c.url)):s.resolve(!1);else{this.events.next(new bw(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(c))}catch(u){s.reject(u)}}return fs}))}))}cancelNavigationTransition(t,r,i){const s=new Hp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xq(n){return n!==Gp}let Jq=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Se);return r}getResolvedTitleForRoute(t){return t.data[Vp]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return Y(Ywe)},providedIn:"root"})}return n})(),Ywe=(()=>{class n extends Jq{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(C(XH))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xwe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return Y(Zwe)},providedIn:"root"})}return n})();class Jwe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Zwe=(()=>{class n extends Jwe{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Hf(n)))(i||n)}}();static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Mw=new j("",{providedIn:"root",factory:()=>({})});let eEe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return Y(tEe)},providedIn:"root"})}return n})(),tEe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Jp||{});function Zq(n,e){n.events.pipe(wr(t=>t instanceof Ea||t instanceof Hp||t instanceof bw||t instanceof _d),je(t=>t instanceof Ea||t instanceof _d?Jp.COMPLETE:t instanceof Hp&&(0===t.code||1===t.code)?Jp.REDIRECTING:Jp.FAILED),wr(t=>t!==Jp.REDIRECTING),vr(1)).subscribe(()=>{e()})}function nEe(n){throw n}function rEe(n,e,t){return e.parse("/")}const iEe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sEe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Y(PG),this.isNgZoneEnabled=!1,this._events=new ke,this.options=Y(Mw,{optional:!0})||{},this.pendingTasks=Y(Gv),this.errorHandler=this.options.errorHandler||nEe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||rEe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Y(eEe),this.routeReuseStrategy=Y(Xwe),this.titleStrategy=Y(Jq),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Y(Id,{optional:!0})?.flat()??[],this.navigationTransitions=Y(Rw),this.urlSerializer=Y(Bp),this.location=Y(Pp),this.componentInputBindingEnabled=!!Y(Aw,{optional:!0}),this.eventsSubscription=new Qn,this.isNgZoneEnabled=Y(ye)instanceof ye&&ye.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new md,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Rq(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(e7(r)&&this._events.next(r));if(r instanceof Tw)Xq(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof _d)this.rawUrlTree=i.rawUrl;else if(r instanceof Dq){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof yS)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Hp)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof vS){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xq(i.source)};this.scheduleNavigation(s,Gp,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof bw&&this.restoreHistory(i,!0),r instanceof Ea&&(this.navigated=!0),e7(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(DS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=wq(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return Eq(d,t,l,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Kc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Gp,null,r)}navigate(t,r={skipLocationChange:!1}){return function oEe(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new M(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...iEe}:!1===r?{...sEe}:r,Kc(t))return dq(this.currentUrlTree,t,i);const s=this.parseUrl(t);return dq(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return Zq(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e7(n){return!(n instanceof yS||n instanceof vS)}let kw=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new ke,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Ea&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function qj(n,e,t){return function Hue(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?Hj:Es}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)($(tr),$(Ia),function zy(n){return function cce(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(UU(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Zn(),n)}("tabindex"),$(wv),$(ei),$($c))};static#t=this.\u0275dir=pr({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ut("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&yo("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",OD],skipLocationChange:["skipLocationChange","skipLocationChange",OD],replaceUrl:["replaceUrl","replaceUrl",OD],routerLink:"routerLink"},standalone:!0,features:[i$,xc]})}return n})();class t7{}let uEe=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(wr(t=>t instanceof Ea),Hc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=nD(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return kn(i).pipe(ml())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):le(null);const s=i.pipe(Mn(o=>null===o?le(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?kn([s,this.loader.loadComponent(r)]).pipe(ml()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(C(tr),C(RG),C(wi),C(t7),C(RS))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const MS=new j("");let n7=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Tw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ea?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof _d&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Sq&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sq(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){vA()};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function Co(n,e){return{\u0275kind:n,\u0275providers:e}}function i7(){const n=Y(Bt);return e=>{const t=n.get(xs);if(e!==t.components[0])return;const r=n.get(tr),i=n.get(s7);1===n.get(kS)&&r.initialNavigation(),n.get(o7,null,Oe.Optional)?.setUpPreloading(),n.get(MS,null,Oe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const s7=new j("",{factory:()=>new ke}),kS=new j("",{providedIn:"root",factory:()=>1}),o7=new j("");function fEe(n){return Co(0,[{provide:o7,useExisting:uEe},{provide:t7,useExisting:n}])}const a7=new j("ROUTER_FORROOT_GUARD"),gEe=[Pp,{provide:Bp,useClass:fS},tr,qp,{provide:Ia,useFactory:function r7(n){return n.routerState.root},deps:[tr]},RS,[]];function mEe(){return new VG("Router",tr)}let c7=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[gEe,[],{provide:Id,multi:!0,useValue:t},{provide:a7,useFactory:wEe,deps:[[tr,new mr,new qy]]},{provide:Mw,useValue:r||{}},r?.useHash?{provide:$c,useClass:xme}:{provide:$c,useClass:pH},{provide:MS,useFactory:()=>{const n=Y(Q_e),e=Y(ye),t=Y(Mw),r=Y(Rw),i=Y(Bp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new n7(i,r,n,e,t)}},r?.preloadingStrategy?fEe(r.preloadingStrategy).\u0275providers:[],{provide:VG,multi:!0,useFactory:mEe},r?.initialNavigation?EEe(r):[],r?.bindToComponentInputs?Co(8,[Nq,{provide:Aw,useExisting:Nq}]).\u0275providers:[],[{provide:u7,useFactory:i7},{provide:DD,multi:!0,useExisting:u7}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Id,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(C(a7,8))};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({})}return n})();function wEe(n){return"guarded"}function EEe(n){return["disabled"===n.initialNavigation?Co(3,[{provide:vD,multi:!0,useFactory:()=>{const e=Y(tr);return()=>{e.setUpLocationChangeListener()}}},{provide:kS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Co(2,[{provide:kS,useValue:0},{provide:vD,multi:!0,deps:[Bt],useFactory:e=>{const t=e.get(Dme,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(tr),s=e.get(s7);Zq(i,()=>{r(!0)}),e.get(Rw).afterPreactivation=()=>(r(!0),s.closed?le(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const u7=new j("");function l7(n,e,t,r,i,s,o){try{var a=n[s](o),c=a.value}catch(u){return void t(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(c){l7(s,r,i,o,a,"next",c)}function a(c){l7(s,r,i,o,a,"throw",c)}o(void 0)})}}const d7=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},NS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(d7(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new AEe;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class AEe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Td=function(n){return function(n){const e=d7(n);return NS.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Zp=function(n){try{return NS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Ow=()=>{try{return function xEe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Zp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},f7=n=>{var e,t;return null===(t=null===(e=Ow())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},p7=n=>{const e=f7(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Nw=()=>{var n;return null===(n=Ow())||void 0===n?void 0:n.config},LS=n=>{var e;return null===(e=Ow())||void 0===e?void 0:e[`_${n}`]};class Lw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function g7(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Td(JSON.stringify({alg:"none",type:"JWT"})),Td(JSON.stringify(o)),""].join(".")}function pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function Fw(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function y7(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ta(){try{return"object"==typeof indexedDB}catch{return!1}}function bd(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function FS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class On extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ri.prototype.create)}}class ri{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function NEe(n,e){return n.replace(LEe,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new On(i,`${this.serviceName}: ${o} (${i}).`,r)}}const LEe=/\{\$([^}]+)}/g;function Cd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(w7(s)&&w7(o)){if(!Cd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function w7(n){return null!==n&&"object"==typeof n}function Ad(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eg(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function tg(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function E7(n,e){const t=new VEe(n,e);return t.subscribe.bind(t)}class VEe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function UEe(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=VS),void 0===i.error&&(i.error=VS),void 0===i.complete&&(i.complete=VS);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VS(){}const BEe=1e3,jEe=2,$Ee=144e5,zEe=.5;function BS(n,e=BEe,t=jEe){const r=e*Math.pow(t,n),i=Math.round(zEe*r*(Math.random()-.5)*2);return Math.min($Ee,r+i)}function rt(n){return n&&n._delegate?n._delegate:n}class Rt{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qc="[DEFAULT]";class HEe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Lw;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function WEe(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Qc){return this.instances.has(e)}getOptions(e=Qc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Qc?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Qc){return this.component?this.component.multipleInstances?e:Qc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class I7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new HEe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const jS=[];var Re=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Re||{});const T7={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},KEe=Re.INFO,QEe={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},YEe=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=QEe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Ao{constructor(e){this.name=e,this._logLevel=KEe,this._logHandler=YEe,this._userLogHandler=null,jS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?T7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const XEe=(n,e)=>e.some(t=>n instanceof t);let b7,C7;const A7=new WeakMap,$S=new WeakMap,D7=new WeakMap,zS=new WeakMap,GS=new WeakMap;let HS={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return $S.get(n);if("objectStoreNames"===e)return n.objectStoreNames||D7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ba(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function iIe(n){return"function"==typeof n?function rIe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ZEe(){return C7||(C7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(qS(this),e),ba(A7.get(this))}:function(...e){return ba(n.apply(qS(this),e))}:function(e,...t){const r=n.call(qS(this),e,...t);return D7.set(r,e.sort?e.sort():[e]),ba(r)}}(n):(n instanceof IDBTransaction&&function tIe(n){if($S.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});$S.set(n,e)}(n),XEe(n,function JEe(){return b7||(b7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,HS):n)}function ba(n){if(n instanceof IDBRequest)return function eIe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ba(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&A7.set(t,n)}).catch(()=>{}),GS.set(e,n),e}(n);if(zS.has(n))return zS.get(n);const e=iIe(n);return e!==n&&(zS.set(n,e),GS.set(e,n)),e}const qS=n=>GS.get(n);function S7(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ba(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ba(o.result),c.oldVersion,c.newVersion,ba(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const sIe=["get","getKey","getAll","getAllKeys","count"],oIe=["put","add","delete","clear"],WS=new Map;function x7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(WS.get(e))return WS.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=oIe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!sIe.includes(t))return;const s=function(){var o=_(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return WS.set(e,s),s}!function nIe(n){HS=n(HS)}(n=>({...n,get:(e,t,r)=>x7(e,t)||n.get(e,t,r),has:(e,t)=>!!x7(e,t)||n.has(e,t)}));class aIe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function cIe(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const KS="@firebase/app",Yc=new Ao("@firebase/app"),Uw="[DEFAULT]",OIe={[KS]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xc=new Map,Bw=new Map;function NIe(n,e){try{n.container.addComponent(e)}catch(t){Yc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Er(n){const e=n.name;if(Bw.has(e))return Yc.debug(`There were multiple attempts to register component ${e}.`),!1;Bw.set(e,n);for(const t of Xc.values())NIe(t,n);return!0}function Jc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Do=new ri("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class FIe{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Do.create("app-deleted",{appName:this._name})}}const Ca="10.5.0";function R7(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Uw,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Do.create("bad-app-name",{appName:String(i)});if(t||(t=Nw()),!t)throw Do.create("no-options");const s=Xc.get(i);if(s){if(Cd(t,s.options)&&Cd(r,s.config))return s;throw Do.create("duplicate-app",{appName:i})}const o=new I7(i);for(const c of Bw.values())o.addComponent(c);const a=new FIe(t,r,o);return Xc.set(i,a),a}function Aa(n=Uw){const e=Xc.get(n);if(!e&&n===Uw&&Nw())return R7();if(!e)throw Do.create("no-app",{appName:n});return e}function Dn(n,e,t){var r;let i=null!==(r=OIe[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Yc.warn(a.join(" "))}Er(new Rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const VIe="firebase-heartbeat-database",UIe=1,ng="firebase-heartbeat-store";let YS=null;function M7(){return YS||(YS=S7(VIe,UIe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ng)}}).catch(n=>{throw Do.create("idb-open",{originalErrorMessage:n.message})})),YS}function XS(){return(XS=_(function*(n){try{return yield(yield M7()).transaction(ng).objectStore(ng).get(O7(n))}catch(e){if(e instanceof On)Yc.warn(e.message);else{const t=Do.create("idb-get",{originalErrorMessage:e?.message});Yc.warn(t.message)}}})).apply(this,arguments)}function k7(n,e){return JS.apply(this,arguments)}function JS(){return(JS=_(function*(n,e){try{const r=(yield M7()).transaction(ng,"readwrite");yield r.objectStore(ng).put(e,O7(n)),yield r.done}catch(t){if(t instanceof On)Yc.warn(t.message);else{const r=Do.create("idb-set",{originalErrorMessage:t?.message});Yc.warn(r.message)}}})).apply(this,arguments)}function O7(n){return`${n.name}!${n.options.appId}`}class zIe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HIe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=N7();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=N7(),{heartbeatsToSend:r,unsentEntries:i}=function GIe(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),L7(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),L7(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Td(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function N7(){return(new Date).toISOString().substring(0,10)}class HIe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!Ta()&&bd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function BIe(n){return XS.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return k7(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return k7(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function L7(n){return Td(JSON.stringify({version:2,heartbeats:n})).length}function V7(n){return void 0!==n&&void 0!==n.enterprise}!function qIe(n){Er(new Rt("platform-logger",e=>new aIe(e),"PRIVATE")),Er(new Rt("heartbeat",e=>new zIe(e),"PRIVATE")),Dn(KS,"0.9.20",n),Dn(KS,"0.9.20","esm2017"),Dn("fire-js","")}("");class U7{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}const WIe=function B7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},j7=new ri("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),jw=new Ao("@firebase/auth");function $w(n,...e){jw.logLevel<=Re.ERROR&&jw.error(`Auth (${Ca}): ${n}`,...e)}function ii(n,...e){throw ZS(n,...e)}function Ms(n,...e){return ZS(n,...e)}function ZS(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return j7.create(n,...e)}function q(n,e,...t){if(!n)throw ZS(e,...t)}function ks(n){const e="INTERNAL ASSERTION FAILED: "+n;throw $w(e),new Error(e)}function Da(n,e){n||ks(e)}function rg(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function z7(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class ig{constructor(e,t){this.shortDelay=e,this.longDelay=t,Da(t>e,"Short delay should be less than long delay!"),this.isMobile=m7()||y7()}get(){return function QIe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ex(){return"http:"===z7()||"https:"===z7()}()||Fw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tx(n,e){Da(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class G7{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XIe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},JIe=new ig(3e4,6e4);function Mt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function jt(n,e,t,r){return nx.apply(this,arguments)}function nx(){return(nx=_(function*(n,e,t,r,i={}){return H7(n,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ad(Object.assign({key:n.config.apiKey},o)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),G7.fetch()(q7(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function H7(n,e,t){return rx.apply(this,arguments)}function rx(){return(rx=_(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},XIe),e);try{const i=new ZIe(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw sg(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw sg(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw sg(n,"email-already-in-use",o);if("USER_DISABLED"===c)throw sg(n,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function $7(n,e,t){const r=Object.assign(Object.assign({},WIe()),{[e]:t});return new ri("auth","Firebase",r).create(e,{appName:n.name})}(n,l,u);ii(n,l)}}catch(i){if(i instanceof On)throw i;ii(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function So(n,e,t,r){return ix.apply(this,arguments)}function ix(){return(ix=_(function*(n,e,t,r,i={}){const s=yield jt(n,e,t,r,i);return"mfaPendingCredential"in s&&ii(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function q7(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?tx(n.config,i):`${n.config.apiScheme}://${i}`}class ZIe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ms(this.auth,"network-request-failed")),JIe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ms(n,e,r);return i.customData._tokenResponse=t,i}function W7(n,e){return ox.apply(this,arguments)}function ox(){return(ox=_(function*(n,e){return jt(n,"GET","/v2/recaptchaConfig",Mt(n,e))})).apply(this,arguments)}function ax(){return(ax=_(function*(n,e){return jt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function ux(){return(ux=_(function*(n,e){return jt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function og(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function lx(){return(lx=_(function*(n,e=!1){const t=rt(n),r=yield t.getIdToken(e),i=zw(r);q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:og(dx(i.auth_time)),issuedAtTime:og(dx(i.iat)),expirationTime:og(dx(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function dx(n){return 1e3*Number(n)}function zw(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return $w("JWT malformed, contained fewer than 3 sections"),null;try{const i=Zp(t);return i?JSON.parse(i):($w("Failed to decode base64 JWT payload"),null)}catch(i){return $w("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xo(n,e){return hx.apply(this,arguments)}function hx(){return(hx=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof On&&function oTe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class aTe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class K7{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=og(this.lastLoginAt),this.creationTime=og(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ag(n){return fx.apply(this,arguments)}function fx(){return fx=_(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield xo(n,function rTe(n,e){return ux.apply(this,arguments)}(t,{idToken:r}));q(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function lTe(n){return n.map(e=>{var{providerId:t}=e,r=Af(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function uTe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new K7(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),fx.apply(this,arguments)}function px(){return(px=_(function*(n){const e=rt(n);yield ag(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function gx(){return(gx=_(function*(n,e){const t=yield H7(n,{},_(function*(){const r=Ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=q7(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",G7.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class cg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function sTe(n){const e=zw(n);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return _(function*(){return q(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function dTe(n,e){return gx.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new cg;return r&&(q("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(q("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(q("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cg,this.toJSON())}_performRefresh(){return ks("not implemented")}}function Sa(n,e){q("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Zc{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Af(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aTe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new K7(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const r=yield xo(t,t.stsTokenManager.getToken(t.auth,e));return q(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function iTe(n){return lx.apply(this,arguments)}(this,e)}reload(){return function cTe(n){return px.apply(this,arguments)}(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ag(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield xo(e,function tTe(n,e){return ax.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,w=null!==(u=t.createdAt)&&void 0!==u?u:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:I,emailVerified:S,isAnonymous:O,providerData:V,stsTokenManager:ie}=t;q(I&&ie,e,"internal-error");const Ee=cg.fromJSON(this.name,ie);q("string"==typeof I,e,"internal-error"),Sa(d,e.name),Sa(h,e.name),q("boolean"==typeof S,e,"internal-error"),q("boolean"==typeof O,e,"internal-error"),Sa(f,e.name),Sa(p,e.name),Sa(g,e.name),Sa(m,e.name),Sa(w,e.name),Sa(v,e.name);const et=new Zc({uid:I,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Ee,createdAt:w,lastLoginAt:v});return V&&Array.isArray(V)&&(et.providerData=V.map(Wn=>Object.assign({},Wn))),m&&(et._redirectEventId=m),et}static _fromIdTokenResponse(e,t,r=!1){return _(function*(){const i=new cg;i.updateFromServerResponse(t);const s=new Zc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ag(s),s})()}}const Q7=new Map;function Po(n){Da(n instanceof Function,"Expected a class definition");let e=Q7.get(n);return e?(Da(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Q7.set(n,e),e)}const Y7=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,r){var i=this;return _(function*(){i.storage[t]=r})()}_get(t){var r=this;return _(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return _(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Gw(n,e,t){return`firebase:${n}:${e}:${t}`}class Sd{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gw(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gw("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Zc._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(function*(){if(!t.length)return new Sd(Po(Y7),e,r);const i=(yield Promise.all(t.map(function(){var u=_(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Po(Y7);const o=Gw(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const l=yield u._get(o);if(l){const d=Zc._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var u=_(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return u.apply(this,arguments)}}())),new Sd(s,e,r)):new Sd(s,e,r)})()}}function X7(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n6(e))return"Blackberry";if(r6(e))return"Webos";if(mx(e))return"Safari";if((e.includes("chrome/")||Z7(e))&&!e.includes("edge/"))return"Chrome";if(t6(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function J7(n=pt()){return/firefox\//i.test(n)}function mx(n=pt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z7(n=pt()){return/crios\//i.test(n)}function e6(n=pt()){return/iemobile/i.test(n)}function t6(n=pt()){return/android/i.test(n)}function n6(n=pt()){return/blackberry/i.test(n)}function r6(n=pt()){return/webos/i.test(n)}function Hw(n=pt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function i6(n=pt()){return Hw(n)||t6(n)||r6(n)||n6(n)||/windows phone/i.test(n)||e6(n)}function s6(n,e=[]){let t;switch(n){case"Browser":t=X7(pt());break;case"Worker":t=`${X7(pt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ca}/${r}`}class gTe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function _x(){return(_x=_(function*(n,e={}){return jt(n,"GET","/v2/passwordPolicy",Mt(n,e))})).apply(this,arguments)}class yTe{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(t=c.meetsMinPasswordLength)||void 0===t||t),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class vTe{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o6(this),this.idTokenSubscription=new o6(this),this.beforeStateQueue=new gTe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Po(t)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Sd.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(s=u.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return q(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield ag(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function YIe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const r=e?rt(e):null;return r&&q(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return _(function*(){if(!r._deleted)return e&&q(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(Po(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return _(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return _(function*(){const t=yield function mTe(n){return _x.apply(this,arguments)}(e),r=new yTe(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ri("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const r=e&&Po(e)||t._popupRedirectResolver;q(r,t,"argument-error"),t.redirectPersistenceManager=yield Sd.create(t,[Po(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var r,i;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof t){const c=e.addObserver(t,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return _(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function KIe(n,...e){jw.logLevel<=Re.WARN&&jw.warn(`Auth (${Ca}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function gn(n){return rt(n)}class o6{constructor(e){this.auth=e,this.observer=null,this.addObserver=E7(t=>this.observer=t)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yx(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ms("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function wTe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function a6(n){return`__${n}${Math.floor(1e6*Math.random())}`}class c6{constructor(e){this.type="recaptcha-enterprise",this.auth=gn(e)}verify(e="verify",t=!1){var r=this;return _(function*(){function s(){return s=_(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=_(function*(u,l){W7(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new U7(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,u){const l=window.grecaptcha;V7(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!t&&V7(window.grecaptcha))o(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));yx("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{o(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}function xa(n,e,t){return vx.apply(this,arguments)}function vx(){return(vx=_(function*(n,e,t,r=!1){const i=new c6(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function u6(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function l6(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class d6{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,t){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}function f6(n,e){return Ix.apply(this,arguments)}function Ix(){return(Ix=_(function*(n,e){return jt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function bx(n,e){return Cx.apply(this,arguments)}function Cx(){return(Cx=_(function*(n,e){return So(n,"POST","/v1/accounts:signInWithPassword",Mt(n,e))})).apply(this,arguments)}function kx(){return(kx=_(function*(n,e){return So(n,"POST","/v1/accounts:signInWithEmailLink",Mt(n,e))})).apply(this,arguments)}function Ox(){return(Ox=_(function*(n,e){return So(n,"POST","/v1/accounts:signInWithEmailLink",Mt(n,e))})).apply(this,arguments)}class ug extends d6{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ug(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ug(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield xa(e,i,"signInWithPassword");return bx(e,s)}return bx(e,i).catch(function(){var s=_(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield xa(e,i,"signInWithPassword");return bx(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function kTe(n,e){return kx.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:ii(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return _(function*(){switch(r.signInMethod){case"password":return f6(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function OTe(n,e){return Ox.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:ii(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ro(n,e){return Nx.apply(this,arguments)}function Nx(){return(Nx=_(function*(n,e){return So(n,"POST","/v1/accounts:signInWithIdp",Mt(n,e))})).apply(this,arguments)}class hg{constructor(e){var t,r,i,s,o,a;const c=eg(tg(e)),u=null!==(t=c.apiKey)&&void 0!==t?t:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function jTe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);q(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function $Te(n){const e=eg(tg(n)).link,t=e?eg(tg(e)).deep_link_id:null,r=eg(tg(n)).deep_link_id;return(r?eg(tg(r)).link:null)||r||t||e||n}(e);try{return new hg(t)}catch{return null}}}let p6=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ug._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=hg.parseLink(r);return q(i,"argument-error"),ug._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Pa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zTe extends Pa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Kw(n,e){return jx.apply(this,arguments)}function jx(){return(jx=_(function*(n,e){return So(n,"POST","/v1/accounts:signUp",Mt(n,e))})).apply(this,arguments)}class zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(function*(){const s=yield Zc._fromIdTokenResponse(e,r,i),o=g6(r);return new zi({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=g6(r);return new zi({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function g6(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Qw extends On{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qw.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Qw(e,t,r,i)}}function m6(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Qw._fromErrorAndOperation(n,s,e,r):s})}function Hx(){return(Hx=_(function*(n,e,t=!1){const r=yield xo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return zi._forOperation(n,"link",r)})).apply(this,arguments)}function Wx(){return(Wx=_(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield xo(n,m6(r,i,e,n),t);q(s.idToken,r,"internal-error");const o=zw(s.idToken);q(o,r,"internal-error");const{sub:a}=o;return q(n.uid===a,r,"user-mismatch"),zi._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&ii(r,"user-mismatch"),s}})).apply(this,arguments)}function v6(n,e){return Kx.apply(this,arguments)}function Kx(){return(Kx=_(function*(n,e,t=!1){const r="signIn",i=yield m6(n,r,e),s=yield zi._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Qx(n,e){return Yx.apply(this,arguments)}function Yx(){return(Yx=_(function*(n,e){return v6(gn(n),e)})).apply(this,arguments)}function iP(n){return sP.apply(this,arguments)}function sP(){return(sP=_(function*(n){const e=gn(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function dP(){return dP=_(function*(n,e,t){var r;const i=gn(n),s={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let o;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const u=yield xa(i,s,"signUpPassword");o=Kw(i,u)}else o=Kw(i,s).catch(function(){var u=_(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield xa(i,s,"signUpPassword");return Kw(i,d)}throw l});return function(l){return u.apply(this,arguments)}}());const a=yield o.catch(u=>{throw"auth/password-does-not-meet-requirements"===u.code&&iP(n),u}),c=yield zi._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(c.user),c}),dP.apply(this,arguments)}function TP(n){return rt(n).signOut()}const Xw="__sak";class E6{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xw,"1"),this.storage.removeItem(Xw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const p0e=(()=>{class n extends E6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function d0e(){const n=pt();return mx(n)||Hw(n)}()&&function pTe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=i6(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function fTe(){return function kEe(){const n=pt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),I6=(()=>{class n extends E6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let m0e=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return _(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(c).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function g0e(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function SP(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class _0e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return _(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{const l=SP("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(f.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function mn(){return window}function xP(){return typeof mn().WorkerGlobalScope<"u"&&"function"==typeof mn().importScripts}function PP(){return(PP=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const T6="firebaseLocalStorageDb",Jw="firebaseLocalStorage",b6="fbase_key";class pg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zw(n,e){return n.transaction([Jw],e?"readwrite":"readonly").objectStore(Jw)}function RP(){const n=indexedDB.open(T6,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Jw,{keyPath:b6})}catch(i){t(i)}}),n.addEventListener("success",_(function*(){const r=n.result;r.objectStoreNames.contains(Jw)?e(r):(r.close(),yield function T0e(){const n=indexedDB.deleteDatabase(T6);return new pg(n).toPromise()}(),e(yield RP()))}))})}function C6(n,e,t){return MP.apply(this,arguments)}function MP(){return(MP=_(function*(n,e,t){const r=Zw(n,!0).put({[b6]:e,value:t});return new pg(r).toPromise()})).apply(this,arguments)}function kP(){return(kP=_(function*(n,e){const t=Zw(n,!1).get(e),r=yield new pg(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function A6(n,e){const t=Zw(n,!0).delete(e);return new pg(t).toPromise()}const D0e=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield RP()),t.db})()}_withRetries(t){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return xP()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=m0e._getInstance(function E0e(){return xP()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var r,i;if(t.activeServiceWorker=yield function v0e(){return PP.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new _0e(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function w0e(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield RP();return yield C6(t,Xw,"1"),yield A6(t,Xw),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return _(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>C6(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return _(function*(){const i=yield r._withRetries(s=>function b0e(n,e){return kP.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>A6(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const r=yield t._withRetries(o=>{const a=Zw(o,!1).getAll();return new pg(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();a6("rcb"),new ig(3e4,6e4);class $P extends d6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ro(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function z0e(n){return v6(n.auth,new $P(n),n.bypassAuthState)}function G0e(n){const{auth:e,user:t}=n;return q(t,e,"internal-error"),function y6(n,e){return Wx.apply(this,arguments)}(t,new $P(n),n.bypassAuthState)}function H0e(n){return zP.apply(this,arguments)}function zP(){return(zP=_(function*(n){const{auth:e,user:t}=n;return q(t,e,"internal-error"),function Gx(n,e){return Hx.apply(this,arguments)}(t,new $P(n),n.bypassAuthState)})).apply(this,arguments)}class q0e{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void t.reject(a);const u={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(u))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z0e;case"linkViaPopup":case"linkViaRedirect":return H0e;case"reauthViaPopup":case"reauthViaRedirect":return G0e;default:ii(this.auth,"internal-error")}}resolve(e){Da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ig(2e3,1e4);const W0e="pendingRedirect",gg=new Map;class K0e extends q0e{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let r=gg.get(t.auth._key());if(!r){try{const s=(yield function Q0e(n,e){return KP.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}gg.set(t.auth._key(),r)}return t.bypassAuthState||gg.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function KP(){return(KP=_(function*(n,e){const t=function x6(n){return Gw(W0e,n.config.apiKey,n.name)}(e),r=function S6(n){return Po(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Y0e(n,e){gg.set(n._key(),e)}function P6(n,e){return tR.apply(this,arguments)}function tR(){return(tR=_(function*(n,e,t=!1){const r=gn(n),i=function tu(n,e){return e?Po(e):(q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),o=yield new K0e(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class tbe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function nbe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k6(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!k6(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ms(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(M6(e))}saveEventToCache(e){this.cachedEventUids.add(M6(e)),this.lastProcessedEventTime=Date.now()}}function M6(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function k6({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function rR(){return(rR=_(function*(n,e={}){return jt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const ibe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sbe=/^https?/;function iR(){return iR=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function rbe(n){return rR.apply(this,arguments)}(n);for(const t of e)try{if(abe(t))return}catch{}ii(n,"unauthorized-domain")}),iR.apply(this,arguments)}function abe(n){const e=rg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!sbe.test(t))return!1;if(ibe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const cbe=new ig(3e4,6e4);function O6(){const n=mn().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let tE=null;const dbe=new ig(5e3,15e3),hbe="__/auth/iframe",fbe="emulator/auth/iframe",pbe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gbe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mbe(n){const e=n.config;q(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tx(e,fbe):`https://${n.config.authDomain}/${hbe}`,r={apiKey:e.apiKey,appName:n.name,v:Ca},i=gbe.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ad(r).slice(1)}`}function sR(){return sR=_(function*(n){const e=yield function lbe(n){return tE=tE||function ube(n){return new Promise((e,t)=>{var r,i,s;function o(){O6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O6(),t(Ms(n,"network-request-failed"))},timeout:cbe.get()})}if(null!==(i=null===(r=mn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=mn().gapi)||void 0===s||!s.load){const a=a6("iframefcb");return mn()[a]=()=>{gapi.load?o():t(Ms(n,"network-request-failed"))},yx(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}o()}}).catch(e=>{throw tE=null,e})}(n),tE}(n),t=mn().gapi;return q(t,n,"internal-error"),e.open({where:document.body,url:mbe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pbe,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ms(n,"network-request-failed"),c=mn().setTimeout(()=>{o(a)},dbe.get());function u(){mn().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),sR.apply(this,arguments)}const ybe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class N6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Cbe="__/auth/handler",Abe="emulator/auth/handler",Dbe=encodeURIComponent("fac");function L6(n,e,t,r,i,s){return oR.apply(this,arguments)}function oR(){return(oR=_(function*(n,e,t,r,i,s){q(n.config.authDomain,n,"auth-domain-config-required"),q(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ca,eventId:i};if(e instanceof Pa){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function FEe(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof zTe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield n._getAppCheckToken(),u=c?`#${Dbe}=${encodeURIComponent(c)}`:"";return`${function Sbe({config:n}){return n.emulator?tx(n,Abe):`https://${n.authDomain}/${Cbe}`}(n)}?${Ad(a).slice(1)}${u}`})).apply(this,arguments)}const aR="webStorageSupport",Pbe=class xbe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I6,this._completeRedirectFn=P6,this._overrideRedirectResult=Y0e}_openPopup(e,t,r,i){var s=this;return _(function*(){var o;Da(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield L6(e,t,r,rg(),i);return function Tbe(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},ybe),{width:r.toString(),height:i.toString(),top:s,left:o}),u=pt().toLowerCase();t&&(a=Z7(u)?"_blank":t),J7(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function hTe(n=pt()){var e;return Hw(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function bbe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new N6(null);const d=window.open(e||"",a,l);q(d,n,"popup-blocked");try{d.focus()}catch{}return new N6(d)}(e,a,SP())})()}_openRedirect(e,t,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function y0e(n){mn().location.href=n}(yield L6(e,t,r,rg(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Da(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return _(function*(){const r=yield function _be(n){return sR.apply(this,arguments)}(e),i=new tbe(e);return r.register("authEvent",s=>(q(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(aR,{type:aR},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[aR];void 0!==o&&t(!!o),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function obe(n){return iR.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return i6()||mx()||Hw()}};var U6="@firebase/auth";class Rbe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Nbe=LS("authIdTokenMaxAge")||300;let j6=null;const Lbe=n=>function(){var e=_(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Nbe)return;const s=r?.token;j6!==s&&(j6=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function mg(n=Aa()){const e=Jc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function CTe(n,e){const t=Jc(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Cd(t.getOptions(),e??{}))return i;ii(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Pbe,persistence:[D0e,p0e,I6]}),r=LS("authTokenSyncURL");if(r){const s=Lbe(r);(function o0e(n,e,t){rt(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function s0e(n,e,t,r){rt(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=f7("auth");return i&&function DTe(n,e,t){const r=gn(n);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=u6(e),{host:o,port:a}=function STe(n){const e=u6(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:l6(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:l6(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function xTe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function kbe(n){Er(new Rt("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s6(n)},u=new vTe(r,i,s,c);return function ATe(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Po);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Er(new Rt("auth-internal",e=>{const t=gn(e.getProvider("auth").getImmediate());return new Rbe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(U6,"1.3.0",function Mbe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Dn(U6,"1.3.0","esm2017")}("Browser");var te,Fbe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},is={},uR=uR||{},be=Fbe||self;function rE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function _g(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var lR="closure_uid_"+(1e9*Math.random()>>>0),Ube=0;function Bbe(n,e,t){return n.call.apply(n.bind,arguments)}function jbe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ir(n,e,t){return(Ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bbe:jbe).apply(null,arguments)}function iE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Nn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ra(){this.s=this.s,this.o=this.o}Ra.prototype.s=!1,Ra.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Vbe(n){Object.prototype.hasOwnProperty.call(n,lR)&&n[lR]||(n[lR]=++Ube)}(this)},Ra.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $6=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function dR(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function z6(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(rE(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Tr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Tr.prototype.h=function(){this.defaultPrevented=!0};var zbe=function(){if(!be.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{be.addEventListener("test",()=>{},e),be.removeEventListener("test",()=>{},e)}catch{}return n}();function yg(n){return/^[\s\xa0]*$/.test(n)}function sE(){var n=be.navigator;return n&&(n=n.userAgent)?n:""}function Os(n){return-1!=sE().indexOf(n)}function hR(n){return hR[" "](n),n}hR[" "]=function(){};var pR,n,Hbe=Os("Opera"),Pd=Os("Trident")||Os("MSIE"),G6=Os("Edge"),fR=G6||Pd,H6=Os("Gecko")&&!(-1!=sE().toLowerCase().indexOf("webkit")&&!Os("Edge"))&&!(Os("Trident")||Os("MSIE"))&&!Os("Edge"),qbe=-1!=sE().toLowerCase().indexOf("webkit")&&!Os("Edge");function q6(){var n=be.document;return n?n.documentMode:void 0}e:{var gR="",mR=(n=sE(),H6?/rv:([^\);]+)(\)|;)/.exec(n):G6?/Edge\/([\d\.]+)/.exec(n):Pd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):qbe?/WebKit\/(\S+)/.exec(n):Hbe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(mR&&(gR=mR?mR[1]:""),Pd){var _R=q6();if(null!=_R&&_R>parseFloat(gR)){pR=String(_R);break e}}pR=gR}var Wbe=be.document&&Pd&&(q6()||parseInt(pR,10))||void 0;function vg(n,e){if(Tr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(H6){e:{try{hR(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Kbe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vg.$.h.call(this)}}Nn(vg,Tr);var Kbe={2:"touch",3:"pen",4:"mouse"};vg.prototype.h=function(){vg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wg="closure_listenable_"+(1e6*Math.random()|0),Qbe=0;function Ybe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Qbe,this.fa=this.ia=!1}function oE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function vR(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function K6(n){const e={};for(const t in n)e[t]=n[t];return e}const Q6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y6(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<Q6.length;s++)t=Q6[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function aE(n){this.src=n,this.g={},this.h=0}function wR(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=$6(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(oE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ER(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}aE.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=ER(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new Ybe(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var IR="closure_lm_"+(1e6*Math.random()|0),TR={};function X6(n,e,t,r,i){if(r&&r.once)return Z6(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)X6(n,e[s],t,r,i);return null}return t=DR(t),n&&n[wg]?n.O(e,t,_g(r)?!!r.capture:!!r,i):J6(n,e,t,!1,r,i)}function J6(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=_g(i)?!!i.capture:!!i,a=CR(n);if(a||(n[IR]=a=new aE(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Jbe(){const e=Zbe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)zbe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(t9(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Z6(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Z6(n,e[s],t,r,i);return null}return t=DR(t),n&&n[wg]?n.P(e,t,_g(r)?!!r.capture:!!r,i):J6(n,e,t,!0,r,i)}function e9(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)e9(n,e[s],t,r,i);else r=_g(r)?!!r.capture:!!r,t=DR(t),n&&n[wg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ER(s=n.g[e],t,r,i))&&(oE(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=CR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ER(e,t,r,i)),(t=-1<n?e[n]:null)&&bR(t))}function bR(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[wg])wR(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(t9(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=CR(e))?(wR(t,n),0==t.h&&(t.src=null,e[IR]=null)):oE(n)}}}function t9(n){return n in TR?TR[n]:TR[n]="on"+n}function Zbe(n,e){if(n.fa)n=!0;else{e=new vg(e,this);var t=n.listener,r=n.la||n.src;n.ia&&bR(n),n=t.call(r,e)}return n}function CR(n){return(n=n[IR])instanceof aE?n:null}var AR="__closure_events_fn_"+(1e9*Math.random()>>>0);function DR(n){return"function"==typeof n?n:(n[AR]||(n[AR]=function(e){return n.handleEvent(e)}),n[AR])}function Ln(){Ra.call(this),this.i=new aE(this),this.S=this,this.J=null}function nr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Tr(e,n);else if(e instanceof Tr)e.target=e.target||n;else{var i=e;Y6(e=new Tr(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=cE(o,r,!0,e)&&i}if(i=cE(o=e.g=n,r,!0,e)&&i,i=cE(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=cE(o=e.g=t[s],r,!1,e)&&i}function cE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,c=o.la||o.src;o.ia&&wR(n.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Nn(Ln,Ra),Ln.prototype[wg]=!0,Ln.prototype.removeEventListener=function(n,e,t,r){e9(this,n,e,t,r)},Ln.prototype.N=function(){if(Ln.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)oE(t[r]);delete n.g[e],n.h--}}this.J=null},Ln.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ln.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var SR=be.JSON.stringify;function tCe(){var n=xR;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var n9=new class eCe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rCe,n=>n.reset());class rCe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function iCe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function sCe(n){be.setTimeout(()=>{throw n},0)}let Eg,Ig=!1,xR=new class nCe{constructor(){this.h=this.g=null}add(e,t){const r=n9.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},r9=()=>{const n=be.Promise.resolve(void 0);Eg=()=>{n.then(oCe)}};var oCe=()=>{for(var n;n=tCe();){try{n.h.call(n.g)}catch(t){sCe(t)}var e=n9;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ig=!1};function uE(n,e){Ln.call(this),this.h=n||1,this.g=e||be,this.j=Ir(this.qb,this),this.l=Date.now()}function PR(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function RR(n,e,t){if("function"==typeof n)t&&(n=Ir(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ir(n.handleEvent,n)}return 2147483647<Number(e)?-1:be.setTimeout(n,e||0)}function i9(n){n.g=RR(()=>{n.g=null,n.i&&(n.i=!1,i9(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Nn(uE,Ln),(te=uE.prototype).ga=!1,te.T=null,te.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),nr(this,"tick"),this.ga&&(PR(this),this.start()))}},te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},te.N=function(){uE.$.N.call(this),PR(this),delete this.g};class aCe extends Ra{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:i9(this)}N(){super.N(),this.g&&(be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tg(n){Ra.call(this),this.h=n,this.g={}}Nn(Tg,Ra);var s9=[];function o9(n,e,t,r){Array.isArray(t)||(t&&(s9[0]=t.toString()),t=s9);for(var i=0;i<t.length;i++){var s=X6(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function a9(n){vR(n.g,function(e,t){this.g.hasOwnProperty(t)&&bR(e)},n),n.g={}}function lE(){this.g=!0}function Rd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function dCe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return SR(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Tg.prototype.N=function(){Tg.$.N.call(this),a9(this)},Tg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lE.prototype.Ea=function(){this.g=!1},lE.prototype.info=function(){};var nu={},c9=null;function dE(){return c9=c9||new Ln}function u9(n){Tr.call(this,nu.Ta,n)}function bg(n){const e=dE();nr(e,new u9(e))}function l9(n,e){Tr.call(this,nu.STAT_EVENT,n),this.stat=e}function zr(n){const e=dE();nr(e,new l9(e,n))}function d9(n,e){Tr.call(this,nu.Ua,n),this.size=e}function Cg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return be.setTimeout(function(){n()},e)}nu.Ta="serverreachability",Nn(u9,Tr),nu.STAT_EVENT="statevent",Nn(l9,Tr),nu.Ua="timingevent",Nn(d9,Tr);var hE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},h9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function MR(){}function p9(){}MR.prototype.h=null;var NR,Ag={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kR(){Tr.call(this,"d")}function OR(){Tr.call(this,"c")}function fE(){}function Dg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Tg(this),this.P=hCe,this.V=new uE(n=fR?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new g9}function g9(){this.i=null,this.g="",this.h=!1}Nn(kR,Tr),Nn(OR,Tr),Nn(fE,MR),fE.prototype.g=function(){return new XMLHttpRequest},fE.prototype.i=function(){return{}},NR=new fE;var hCe=45e3,LR={},pE={};function FR(n,e,t){n.L=1,n.v=yE(Mo(e)),n.s=t,n.S=!0,m9(n,null)}function m9(n,e){n.G=Date.now(),Sg(n),n.A=Mo(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),A9(t.i,"t",r),n.C=0,t=n.l.J,n.h=new g9,n.g=Y9(n.l,t?e:null,!n.s),0<n.O&&(n.M=new aCe(Ir(n.Pa,n,n.g),n.O)),o9(n.U,n.g,"readystatechange",n.nb),e=n.I?K6(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),bg(),function cCe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function _9(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function y9(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=fCe(n,t),i==pE){4==e&&(n.o=4,zr(14),r=!1),Rd(n.j,n.m,null,"[Incomplete Response]");break}if(i==LR){n.o=4,zr(15),Rd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Rd(n.j,n.m,i,null),VR(n,i)}_9(n)&&i!=pE&&i!=LR&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,zr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),HR(e),e.M=!0,zr(11))):(Rd(n.j,n.m,t,"[Invalid Chunked Response]"),ru(n),xg(n))}function fCe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?pE:(t=Number(e.substring(t,r)),isNaN(t)?LR:(r+=1)+t>e.length?pE:(e=e.slice(r,r+t),n.C=r+t,e))}function Sg(n){n.Y=Date.now()+n.P,v9(n,n.P)}function v9(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Cg(Ir(n.lb,n),e)}function gE(n){n.B&&(be.clearTimeout(n.B),n.B=null)}function xg(n){0==n.l.H||n.J||q9(n.l,n)}function ru(n){gE(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,PR(n.V),a9(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function VR(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||UR(t.i,n)))if(!n.K&&UR(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;bE(t),IE(t)}GR(t),zr(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Cg(Ir(t.ib,t),6e3));if(1>=x9(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else su(t,11)}else if((n.K||t.g==n)&&bE(t),!yg(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(t.V=u[0],u=u[1],2==t.H)if("c"==u[0]){t.K=u[1],t.pa=u[2];const l=u[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=u[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(BR(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,It(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=Q9(r,r.J?r.pa:null,r.Y),o.K){P9(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(gE(a),Sg(a)),r.g=o}else G9(r);0<t.j.length&&TE(t)}else"stop"!=u[0]&&"close"!=u[0]||su(t,7);else 3==t.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?su(t,7):zR(t):"noop"!=u[0]&&t.h&&t.h.Aa(u),t.A=0)}bg()}catch{}}function w9(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rE(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function gCe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(rE(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function pCe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(rE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(te=Dg.prototype).setTimeout=function(n){this.P=n},te.nb=function(n){n=n.target;const e=this.M;e&&3==Ns(n)?e.l():this.Pa(n)},te.Pa=function(n){try{if(n==this.g)e:{const l=Ns(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||fR||this.g&&(this.h.h||this.g.ja()||V9(this.g)))){this.J||4!=l||7==e||bg(),gE(this);var t=this.g.da();this.ca=t;t:if(_9(this)){var r=V9(this.g);n="";var i=r.length,s=4==Ns(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ru(this),xg(this);var o="";break t}this.h.i=new be.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function uCe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yg(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.o=3,zr(12),ru(this),xg(this);break e}Rd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,VR(this,t)}this.S?(y9(this,l,o),fR&&this.i&&3==l&&(o9(this.U,this.V,"tick",this.mb),this.V.start())):(Rd(this.j,this.m,o,null),VR(this,o)),4==l&&ru(this),this.i&&!this.J&&(4==l?q9(this.l,this):(this.i=!1,Sg(this)))}else(function kCe(n){const e={};n=(n.g&&2<=Ns(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(yg(n[r]))continue;var t=iCe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function Xbe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,zr(12)):(this.o=0,zr(13)),ru(this),xg(this)}}}catch{}},te.mb=function(){if(this.g){var n=Ns(this.g),e=this.g.ja();this.C<e.length&&(gE(this),y9(this,n,e),this.i&&4!=n&&Sg(this))}},te.cancel=function(){this.J=!0,ru(this)},te.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function lCe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(bg(),zr(17)),ru(this),this.o=2,xg(this)):v9(this,this.Y-n)};var E9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof iu){this.h=n.h,mE(this,n.j),this.s=n.s,this.g=n.g,_E(this,n.m),this.l=n.l;var e=n.i,t=new Mg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),I9(this,t),this.o=n.o}else n&&(e=String(n).match(E9))?(this.h=!1,mE(this,e[1]||"",!0),this.s=Pg(e[2]||""),this.g=Pg(e[3]||"",!0),_E(this,e[4]),this.l=Pg(e[5]||"",!0),I9(this,e[6]||"",!0),this.o=Pg(e[7]||"")):(this.h=!1,this.i=new Mg(null,this.h))}function Mo(n){return new iu(n)}function mE(n,e,t){n.j=t?Pg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _E(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function I9(n,e,t){e instanceof Mg?(n.i=e,function ICe(n,e){e&&!n.j&&(Ma(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(b9(this,r),A9(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Rg(e,wCe)),n.i=new Mg(e,n.h))}function It(n,e,t){n.i.set(e,t)}function yE(n){return It(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Rg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,_Ce),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _Ce(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}iu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Rg(e,T9,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Rg(e,T9,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Rg(t,"/"==t.charAt(0)?vCe:yCe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Rg(t,ECe)),n.join("")};var T9=/[#\/\?@]/g,yCe=/[#\?:]/g,vCe=/[#\?]/g,wCe=/[#\?@]/g,ECe=/#/g;function Mg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ma(n){n.g||(n.g=new Map,n.h=0,n.i&&function mCe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function b9(n,e){Ma(n),e=Md(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function C9(n,e){return Ma(n),e=Md(n,e),n.g.has(e)}function A9(n,e,t){b9(n,e),0<t.length&&(n.i=null,n.g.set(Md(n,e),dR(t)),n.h+=t.length)}function Md(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function D9(n){this.l=n||bCe,n=be.PerformanceNavigationTiming?0<(n=be.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(be.g&&be.g.Ka&&be.g.Ka()&&be.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(te=Mg.prototype).add=function(n,e){Ma(this),this.i=null,n=Md(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},te.forEach=function(n,e){Ma(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},te.ta=function(){Ma(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},te.Z=function(n){Ma(this);let e=[];if("string"==typeof n)C9(this,n)&&(e=e.concat(this.g.get(Md(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},te.set=function(n,e){return Ma(this),this.i=null,C9(this,n=Md(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},te.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var bCe=10;function S9(n){return!!n.h||!!n.g&&n.g.size>=n.j}function x9(n){return n.h?1:n.g?n.g.size:0}function UR(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function BR(n,e){n.g?n.g.add(e):n.h=e}function P9(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function R9(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return dR(n.i)}D9.prototype.cancel=function(){if(this.i=R9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var CCe=class{stringify(n){return be.JSON.stringify(n,void 0)}parse(n){return be.JSON.parse(n,void 0)}};function ACe(){this.g=new CCe}function DCe(n,e,t){const r=t||"";try{w9(n,function(i,s){let o=i;_g(i)&&(o=SR(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function kg(n){this.l=n.ec||null,this.j=n.ob||!1}function wE(n,e){Ln.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=jR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nn(kg,MR),kg.prototype.g=function(){return new wE(this.l,this.j)},kg.prototype.i=function(n){return function(){return n}}({}),Nn(wE,Ln);var jR=0;function M9(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Og(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ng(n)}function Ng(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(te=wE.prototype).open=function(n,e){if(this.readyState!=jR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ng(this)},te.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||be).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Og(this)),this.readyState=jR},te.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ng(this)),this.g&&(this.readyState=3,Ng(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof be.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;M9(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},te.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Og(this):Ng(this),3==this.readyState&&M9(this)}},te.Za=function(n){this.g&&(this.response=this.responseText=n,Og(this))},te.Ya=function(n){this.g&&(this.response=n,Og(this))},te.ka=function(){this.g&&Og(this)},te.setRequestHeader=function(n,e){this.v.append(n,e)},te.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},te.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(wE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var xCe=be.JSON.parse;function Qt(n){Ln.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=k9,this.L=this.M=!1}Nn(Qt,Ln);var k9="",PCe=/^https?$/i,RCe=["POST","PUT"];function O9(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,N9(n),EE(n)}function N9(n){n.F||(n.F=!0,nr(n,"complete"),nr(n,"error"))}function L9(n){if(n.h&&typeof uR<"u"&&(!n.C[1]||4!=Ns(n)||2!=n.da()))if(n.v&&4==Ns(n))RR(n.La,0,n);else if(nr(n,"readystatechange"),4==Ns(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(E9)[1]||null;!i&&be.self&&be.self.location&&(i=be.self.location.protocol.slice(0,-1)),r=!PCe.test(i?i.toLowerCase():"")}t=r}if(t)nr(n,"complete"),nr(n,"success");else{n.m=6;try{var s=2<Ns(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",N9(n)}}finally{EE(n)}}}function EE(n,e){if(n.g){F9(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||nr(n,"ready");try{t.onreadystatechange=r}catch{}}}function F9(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(be.clearTimeout(n.A),n.A=null)}function Ns(n){return n.g?n.g.readyState:0}function V9(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case k9:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function U9(n){let e="";return vR(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function $R(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=U9(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):It(n,e,t))}function Lg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function B9(n){this.Ga=0,this.j=[],this.l=new lE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lg("baseRetryDelayMs",5e3,n),this.hb=Lg("retryDelaySeedMs",1e4,n),this.eb=Lg("forwardChannelMaxRetries",2,n),this.xa=Lg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new D9(n&&n.concurrentRequestLimit),this.Ja=new ACe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function zR(n){if(j9(n),3==n.H){var e=n.W++,t=Mo(n.I);if(It(t,"SID",n.K),It(t,"RID",e),It(t,"TYPE","terminate"),Fg(n,t),(e=new Dg(n,n.l,e)).L=2,e.v=yE(Mo(t)),t=!1,be.navigator&&be.navigator.sendBeacon)try{t=be.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&be.Image&&((new Image).src=e.v,t=!0),t||(e.g=Y9(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Sg(e)}K9(n)}function IE(n){n.g&&(HR(n),n.g.cancel(),n.g=null)}function j9(n){IE(n),n.u&&(be.clearTimeout(n.u),n.u=null),bE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&be.clearTimeout(n.m),n.m=null)}function TE(n){if(!S9(n.i)&&!n.m){n.m=!0;var e=n.Na;Eg||r9(),Ig||(Eg(),Ig=!0),xR.add(e,n),n.C=0}}function $9(n,e){var t;t=e?e.m:n.W++;const r=Mo(n.I);It(r,"SID",n.K),It(r,"RID",t),It(r,"AID",n.V),Fg(n,r),n.o&&n.s&&$R(r,n.o,n.s),t=new Dg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=z9(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),BR(n.i,t),FR(t,r,e)}function Fg(n,e){n.na&&vR(n.na,function(t,r){It(e,r,t)}),n.h&&w9({},function(t,r){It(e,r,t)})}function z9(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Ir(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<t;c++){let u=i[c].g;const l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{DCe(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function G9(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Eg||r9(),Ig||(Eg(),Ig=!0),xR.add(e,n),n.A=0}}function GR(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Cg(Ir(n.Ma,n),W9(n,n.A)),n.A++,0))}function HR(n){null!=n.B&&(be.clearTimeout(n.B),n.B=null)}function H9(n){n.g=new Dg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Mo(n.wa);It(e,"RID","rpc"),It(e,"SID",n.K),It(e,"AID",n.V),It(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&It(e,"TO",n.qa),It(e,"TYPE","xmlhttp"),Fg(n,e),n.o&&n.s&&$R(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=yE(Mo(e)),t.s=null,t.S=!0,m9(t,n)}function bE(n){null!=n.v&&(be.clearTimeout(n.v),n.v=null)}function q9(n,e){var t=null;if(n.g==e){bE(n),HR(n),n.g=null;var r=2}else{if(!UR(n.i,e))return;t=e.F,P9(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;nr(r=dE(),new d9(r,t)),TE(n)}else G9(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function OCe(n,e){return!(x9(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Cg(Ir(n.Na,n,e),W9(n,n.C)),n.C++,0)))}(n,e)||2==r&&GR(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:su(n,5);break;case 4:su(n,10);break;case 3:su(n,6);break;default:su(n,2)}}function W9(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function su(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Ir(n.pb,n);t||(t=new iu("//www.google.com/images/cleardot.gif"),be.location&&"http"==be.location.protocol||mE(t,"https"),yE(t)),function SCe(n,e){const t=new lE;if(be.Image){const r=new Image;r.onload=iE(vE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=iE(vE,t,r,"TestLoadImage: error",!1,e),r.onabort=iE(vE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=iE(vE,t,r,"TestLoadImage: timeout",!1,e),be.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else zr(2);n.H=0,n.h&&n.h.za(e),K9(n),j9(n)}function K9(n){if(n.H=0,n.ma=[],n.h){const e=R9(n.i);(0!=e.length||0!=n.j.length)&&(z6(n.ma,e),z6(n.ma,n.j),n.i.i.length=0,dR(n.j),n.j.length=0),n.h.ya()}}function Q9(n,e,t){var r=t instanceof iu?Mo(t):new iu(t);if(""!=r.g)e&&(r.g=e+"."+r.g),_E(r,r.m);else{var i=be.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new iu(null);r&&mE(s,r),e&&(s.g=e),i&&_E(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&It(r,t,e),It(r,"VER",n.ra),Fg(n,r),r}function Y9(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qt(t&&n.Ha&&!n.va?new kg({ob:!0}):n.va)).Oa(n.J),e}function X9(){}function CE(){if(Pd&&!(10<=Number(Wbe)))throw Error("Environmental error: no available transport.")}function Ti(n,e){Ln.call(this),this.g=new B9(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!yg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kd(this)}function J9(n){kR.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Z9(){OR.call(this),this.status=1}function kd(n){this.g=n}function ss(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qR(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function it(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(te=Qt.prototype).Oa=function(n){this.M=n},te.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():NR.g(),this.C=function f9(n){return n.h||(n.h=n.i())}(this.u?this.u:NR),this.g.onreadystatechange=Ir(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void O9(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=be.FormData&&n instanceof be.FormData,!(0<=$6(RCe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{F9(this),0<this.B&&((this.L=function MCe(n){return Pd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ir(this.ua,this)):this.A=RR(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){O9(this,s)}},te.ua=function(){typeof uR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nr(this,"timeout"),this.abort(8))},te.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,nr(this,"complete"),nr(this,"abort"),EE(this))},te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),EE(this,!0)),Qt.$.N.call(this)},te.La=function(){this.s||(this.G||this.v||this.l?L9(this):this.kb())},te.kb=function(){L9(this)},te.isActive=function(){return!!this.g},te.da=function(){try{return 2<Ns(this)?this.g.status:-1}catch{return-1}},te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},te.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),xCe(e)}},te.Ia=function(){return this.m},te.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(te=B9.prototype).ra=8,te.H=1,te.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Dg(this,this.l,n);let s=this.s;if(this.U&&(s?(s=K6(s),Y6(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=z9(this,i,e),It(t=Mo(this.I),"RID",n),It(t,"CVER",22),this.F&&It(t,"X-HTTP-Session-Id",this.F),Fg(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(U9(s)))+"&"+e:this.o&&$R(t,this.o,s)),BR(this.i,i),this.bb&&It(t,"TYPE","init"),this.P?(It(t,"$req",e),It(t,"SID","null"),i.aa=!0,FR(i,t,null)):FR(i,t,e),this.H=2}}else 3==this.H&&(n?$9(this,n):0==this.j.length||S9(this.i)||$9(this))},te.Ma=function(){if(this.u=null,H9(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Cg(Ir(this.jb,this),n)}},te.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,zr(10),IE(this),H9(this))},te.ib=function(){null!=this.v&&(this.v=null,IE(this),GR(this),zr(19))},te.pb=function(n){n?(this.l.info("Successfully pinged google.com"),zr(2)):(this.l.info("Failed to ping google.com"),zr(1))},te.isActive=function(){return!!this.h&&this.h.isActive(this)},(te=X9.prototype).Ba=function(){},te.Aa=function(){},te.za=function(){},te.ya=function(){},te.isActive=function(){return!0},te.Va=function(){},CE.prototype.g=function(n,e){return new Ti(n,e)},Nn(Ti,Ln),Ti.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;zr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Q9(n,null,n.Y),TE(n)},Ti.prototype.close=function(){zR(this.g)},Ti.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=SR(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&TE(e)},Ti.prototype.N=function(){this.g.h=null,delete this.j,zR(this.g),delete this.g,Ti.$.N.call(this)},Nn(J9,kR),Nn(Z9,OR),Nn(kd,X9),kd.prototype.Ba=function(){nr(this.g,"a")},kd.prototype.Aa=function(n){nr(this.g,new J9(n))},kd.prototype.za=function(n){nr(this.g,new Z9)},kd.prototype.ya=function(){nr(this.g,"b")},Nn(ss,function NCe(){this.blockSize=-1}),ss.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ss.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)qR(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){qR(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){qR(this,r),i=0;break}}this.h=i,this.i+=e},ss.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var LCe={};function WR(n){return-128<=n&&128>n?function Gbe(n,e){var t=LCe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new it([0|e],0>e?-1:0)}):new it([0|n],0>n?-1:0)}function Ls(n){if(isNaN(n)||!isFinite(n))return Od;if(0>n)return rr(Ls(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=KR;return new it(e,0)}var KR=4294967296,Od=WR(0),QR=WR(1),tW=WR(16777216);function ko(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Gi(n){return-1==n.h}function rr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new it(t,~n.h).add(QR)}function AE(n,e){return n.add(rr(e))}function DE(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Vg(n,e){this.g=n,this.h=e}function SE(n,e){if(ko(e))throw Error("division by zero");if(ko(n))return new Vg(Od,Od);if(Gi(n))return e=SE(rr(n),e),new Vg(rr(e.g),rr(e.h));if(Gi(e))return e=SE(n,rr(e)),new Vg(rr(e.g),e.h);if(30<n.g.length){if(Gi(n)||Gi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=QR,r=e;0>=r.X(n);)t=nW(t),r=nW(r);var i=Nd(t,1),s=Nd(r,1);for(r=Nd(r,2),t=Nd(t,2);!ko(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Nd(r,1),t=Nd(t,1)}return e=AE(n,i.R(e)),new Vg(i,e)}for(i=Od;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ls(t)).R(e);Gi(o)||0<o.X(n);)o=(s=Ls(t-=r)).R(e);ko(s)&&(s=QR),i=i.add(s),n=AE(n,o)}return new Vg(i,n)}function nW(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new it(t,n.h)}function Nd(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new it(i,n.h)}(te=it.prototype).ea=function(){if(Gi(this))return-rr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:KR+r)*e,e*=KR}return n},te.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ko(this))return"0";if(Gi(this))return"-"+rr(this).toString(n);for(var e=Ls(Math.pow(n,6)),t=this,r="";;){var i=SE(t,e).g,s=((0<(t=AE(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ko(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},te.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},te.X=function(n){return Gi(n=AE(this,n))?-1:ko(n)?0:1},te.abs=function(){return Gi(this)?rr(this):this},te.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new it(t,-2147483648&t[t.length-1]?-1:0)},te.R=function(n){if(ko(this)||ko(n))return Od;if(Gi(this))return Gi(n)?rr(this).R(rr(n)):rr(rr(this).R(n));if(Gi(n))return rr(this.R(rr(n)));if(0>this.X(tW)&&0>n.X(tW))return Ls(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=o*c,DE(t,2*r+2*i),t[2*r+2*i+1]+=s*c,DE(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,DE(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,DE(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new it(t,0)},te.gb=function(n){return SE(this,n).h},te.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new it(t,this.h&n.h)},te.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new it(t,this.h|n.h)},te.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new it(t,this.h^n.h)},CE.prototype.createWebChannel=CE.prototype.g,Ti.prototype.send=Ti.prototype.u,Ti.prototype.open=Ti.prototype.m,Ti.prototype.close=Ti.prototype.close,hE.NO_ERROR=0,hE.TIMEOUT=8,hE.HTTP_ERROR=6,h9.COMPLETE="complete",p9.EventType=Ag,Ag.OPEN="a",Ag.CLOSE="b",Ag.ERROR="c",Ag.MESSAGE="d",Ln.prototype.listen=Ln.prototype.O,Qt.prototype.listenOnce=Qt.prototype.P,Qt.prototype.getLastError=Qt.prototype.Sa,Qt.prototype.getLastErrorCode=Qt.prototype.Ia,Qt.prototype.getStatus=Qt.prototype.da,Qt.prototype.getResponseJson=Qt.prototype.Wa,Qt.prototype.getResponseText=Qt.prototype.ja,Qt.prototype.send=Qt.prototype.ha,Qt.prototype.setWithCredentials=Qt.prototype.Oa,ss.prototype.digest=ss.prototype.l,ss.prototype.reset=ss.prototype.reset,ss.prototype.update=ss.prototype.j,it.prototype.add=it.prototype.add,it.prototype.multiply=it.prototype.R,it.prototype.modulo=it.prototype.gb,it.prototype.compare=it.prototype.X,it.prototype.toNumber=it.prototype.ea,it.prototype.toString=it.prototype.toString,it.prototype.getBits=it.prototype.D,it.fromNumber=Ls,it.fromString=function eW(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return rr(eW(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ls(Math.pow(e,8)),r=Od,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Ls(Math.pow(e,s)),r=r.R(s).add(Ls(o))):r=(r=r.R(t)).add(Ls(o))}return r};var FCe=is.createWebChannelTransport=function(){return new CE},VCe=is.getStatEventTarget=function(){return dE()},YR=is.ErrorCode=hE,UCe=is.EventType=h9,BCe=is.Event=nu,rW=is.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xE=(is.FetchXmlHttpFactory=kg,is.WebChannel=p9),jCe=is.XhrIo=Qt,$Ce=is.Md5=ss,Ld=is.Integer=it;const iW="@firebase/firestore";class Fn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");let Fd="10.5.0";const ka=new Ao("@firebase/firestore");function Vd(){return ka.logLevel}function L(n,...e){if(ka.logLevel<=Re.DEBUG){const t=e.map(XR);ka.debug(`Firestore (${Fd}): ${n}`,...t)}}function on(n,...e){if(ka.logLevel<=Re.ERROR){const t=e.map(XR);ka.error(`Firestore (${Fd}): ${n}`,...t)}}function bi(n,...e){if(ka.logLevel<=Re.WARN){const t=e.map(XR);ka.warn(`Firestore (${Fd}): ${n}`,...t)}}function XR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function se(n="Unexpected state"){const e=`FIRESTORE (${Fd}) INTERNAL ASSERTION FAILED: `+n;throw on(e),new Error(e)}function ce(n,e){n||se()}function K(n,e){return n}const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends On{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class sW{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zCe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fn.UNAUTHENTICATED))}shutdown(){}}class GCe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HCe{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let o=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(_(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce("string"==typeof r.accessToken),new sW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ce(null===e||"string"==typeof e),new Fn(e)}}class qCe{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class WCe{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new qCe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KCe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ce("string"==typeof t.token),this.R=t.token,new oW(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function QCe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class aW{static V(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=QCe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ve(n,e){return n<e?-1:n>e?1:0}function Ud(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class $t{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new F(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new F(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new F(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $t(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new $t(0,0))}static max(){return new de(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ug{constructor(e,t,r){void 0===t?t=0:t>e.length&&se(),void 0===r?r=e.length-t:r>e.length-t&&se(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ug.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ug?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ge extends Ug{construct(e,t,r){return new Ge(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new F(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ge(t)}static emptyPath(){return new Ge([])}}const YCe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Ug{construct(e,t,r){return new kt(e,t,r)}static isValidIdentifier(e){return YCe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new F(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new F(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new F(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new F(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(t)}static emptyPath(){return new kt([])}}class X{constructor(e){this.path=e}static fromPath(e){return new X(Ge.fromString(e))}static fromName(e){return new X(Ge.fromString(e).popFirst(5))}static empty(){return new X(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Ge(e.slice()))}}function lW(n){return new Ci(n.readTime,n.key,-1)}class Ci{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ci(de.min(),X.empty(),-1)}static max(){return new Ci(de.max(),X.empty(),-1)}}function ZR(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=X.comparator(n.documentKey,e.documentKey),0!==t?t:ve(n.largestBatchId,e.largestBatchId))}const dW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZCe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Oa(n){return e1.apply(this,arguments)}function e1(){return e1=_(function*(n){if(n.code!==R.FAILED_PRECONDITION||n.message!==dW)throw n;L("LocalStore","Unexpectedly lost primary lease")}),e1.apply(this,arguments)}class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof b?t:b.resolve(t)}catch(t){return b.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):b.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):b.reject(t)}static resolve(e){return new b((t,r)=>{t(e)})}static reject(e){return new b((t,r)=>{r(e)})}static waitFor(e){return new b((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=b.resolve(!1);for(const r of e)t=t.next(i=>i?b.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new b((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;t(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new b((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Na(n){return"IndexedDbTransactionError"===n.name}let Ai=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}return n.ae=-1,n})();function jg(n){return null==n}function $g(n){return 0===n&&1/n==-1/0}function wW(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function La(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EW(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vt{constructor(e,t){this.comparator=e,this.root=t||ir.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ME(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ME(this.root,e,this.comparator,!1)}getReverseIterator(){return new ME(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ME(this.root,e,this.comparator,!0)}}class ME{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ir{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ir.RED,this.left=i??ir.EMPTY,this.right=s??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ir(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ir.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1,ir.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,t,r,i,s){return this}insert(e,t,r){return new ir(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new IW(this.data.getIterator())}getIteratorFrom(e){return new IW(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dt(this.comparator);return t.data=e,t}}class IW{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new si([])}unionWith(e){let t=new dt(kt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new si(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ud(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class TW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new TW("Invalid base64 string: "+s):s}}(e);return new xn(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const IAe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(n){if(ce(!!n),"string"==typeof n){let e=0;const t=IAe.exec(n);if(ce(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(n.seconds),nanos:Yt(n.nanos)}}function Yt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Oo(n){return"string"==typeof n?xn.fromBase64String(n):xn.fromUint8Array(n)}function kE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function OE(n){const e=n.mapValue.fields.__previous_value__;return kE(e)?OE(e):e}function zg(n){const e=Fa(n.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}class TAe{constructor(e,t,r,i,s,o,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class uu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new uu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}const Va={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ua(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kE(n)?4:DW(n)?9007199254740991:10:se()}function Vs(n,e){if(n===e)return!0;const t=Ua(n);if(t!==Ua(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zg(n).isEqual(zg(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Fa(i.timestampValue),a=Fa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Oo(n.bytesValue).isEqual(Oo(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yt(i.doubleValue),a=Yt(s.doubleValue);return o===a?$g(o)===$g(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Ud(n.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(wW(o)!==wW(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!Vs(o[c],a[c])))return!1;return!0}(n,e);default:return se()}var s}function Gg(n,e){return void 0!==(n.values||[]).find(t=>Vs(t,e))}function Ba(n,e){if(n===e)return 0;const t=Ua(n),r=Ua(e);if(t!==r)return ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ve(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Yt(s.integerValue||s.doubleValue),c=Yt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return bW(n.timestampValue,e.timestampValue);case 4:return bW(zg(n),zg(e));case 5:return ve(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Oo(s),c=Oo(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const l=ve(a[u],c[u]);if(0!==l)return l}return ve(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ve(Yt(s.latitude),Yt(o.latitude));return 0!==a?a:ve(Yt(s.longitude),Yt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){const l=Ba(a[u],c[u]);if(l)return l}return ve(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Va.mapValue&&o===Va.mapValue)return 0;if(s===Va.mapValue)return 1;if(o===Va.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){const h=ve(c[d],l[d]);if(0!==h)return h;const f=Ba(a[c[d]],u[l[d]]);if(0!==f)return f}return ve(c.length,l.length)}(n.mapValue,e.mapValue);default:throw se()}}function bW(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ve(n,e);const t=Fa(n),r=Fa(e),i=ve(t.seconds,r.seconds);return 0!==i?i:ve(t.nanos,r.nanos)}function zd(n){return r1(n)}function r1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Fa(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Oo(n.bytesValue).toBase64():"referenceValue"in n?X.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=r1(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${r1(t.fields[o])}`;return i+"}"}(n.mapValue):se()}function lu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function s1(n){return!!n&&"integerValue"in n}function Hg(n){return!!n&&"arrayValue"in n}function CW(n){return!!n&&"nullValue"in n}function AW(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function FE(n){return!!n&&"mapValue"in n}function qg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return La(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DW(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!FE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qg(t)}setAll(e){let t=kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=qg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());FE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];FE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){La(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new sr(qg(this.value))}}function PW(n){const e=[];return La(n.fields,(t,r)=>{const i=new kt([t]);if(FE(r)){const s=PW(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new si(e)}class Tt{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tt(e,0,de.min(),de.min(),de.min(),sr.empty(),0)}static newFoundDocument(e,t,r,i){return new Tt(e,1,t,de.min(),r,i,0)}static newNoDocument(e,t){return new Tt(e,2,t,de.min(),de.min(),sr.empty(),0)}static newUnknownDocument(e,t){return new Tt(e,3,t,de.min(),de.min(),sr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(de.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ja{constructor(e,t){this.position=e,this.inclusive=t}}function RW(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?X.comparator(X.fromName(o.referenceValue),t.key):Ba(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function MW(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vs(n.position[t],e.position[t]))return!1;return!0}class Wg{constructor(e,t="asc"){this.field=e,this.dir=t}}function AAe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class kW{}class Fe extends kW{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new DAe(e,t,r):"array-contains"===t?new PAe(e,r):"in"===t?new UW(e,r):"not-in"===t?new RAe(e,r):"array-contains-any"===t?new MAe(e,r):new Fe(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new SAe(e,r):new xAe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ba(t,this.value)):null!==t&&Ua(this.value)===Ua(t)&&this.matchesComparison(Ba(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class st extends kW{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new st(e,t)}matches(e){return Gd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Gd(n){return"and"===n.op}function a1(n){return function OW(n){for(const e of n.filters)if(e instanceof st)return!1;return!0}(n)&&Gd(n)}function c1(n){if(n instanceof Fe)return n.field.canonicalString()+n.op.toString()+zd(n.value);if(a1(n))return n.filters.map(e=>c1(e)).join(",");{const e=n.filters.map(t=>c1(t)).join(",");return`${n.op}(${e})`}}function NW(n,e){return n instanceof Fe?(r=n,(i=e)instanceof Fe&&r.op===i.op&&r.field.isEqual(i.field)&&Vs(r.value,i.value)):n instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&NW(o,i.filters[a]),!0)}(n,e):void se();var r,i}function FW(n){return n instanceof Fe?`${(t=n).field.canonicalString()} ${t.op} ${zd(t.value)}`:n instanceof st?function(t){return t.op.toString()+" {"+t.getFilters().map(FW).join(" ,")+"}"}(n):"Filter";var t}class DAe extends Fe{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){const t=X.comparator(e.key,this.key);return this.matchesComparison(t)}}class SAe extends Fe{constructor(e,t){super(e,"in",t),this.keys=VW(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xAe extends Fe{constructor(e,t){super(e,"not-in",t),this.keys=VW(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function VW(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}class PAe extends Fe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hg(t)&&Gg(t.arrayValue,this.value)}}class UW extends Fe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gg(this.value.arrayValue,t)}}class RAe extends Fe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gg(this.value.arrayValue,t)}}class MAe extends Fe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gg(this.value.arrayValue,r))}}class kAe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function u1(n,e=null,t=[],r=[],i=null,s=null,o=null){return new kAe(n,e,t,r,i,s,o)}function du(n){const e=K(n);if(null===e.le){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>c1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),jg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zd(r)).join(",")),e.le=t}return e.le}function Kg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!AAe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!NW(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MW(n.startAt,e.startAt)&&MW(n.endAt,e.endAt)}function VE(n){return X.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class No{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.he=null,this.Pe=null,this.Ie=null}}function Hd(n){return new No(n)}function zW(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function l1(n){return null!==n.collectionGroup}function qd(n){const e=K(n);if(null===e.he){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new dt(kt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new Wg(s,r))}),t.has(kt.keyField().canonicalString())||e.he.push(new Wg(kt.keyField(),r))}return e.he}function Gr(n){const e=K(n);return e.Pe||(e.Pe=function GW(n,e){if("F"===n.limitType)return u1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Wg(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new ja(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ja(n.startAt.position,n.startAt.inclusive):null;return u1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,qd(n))),e.Pe}function d1(n,e){const t=n.filters.concat([e]);return new No(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function BE(n,e,t){return new No(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qg(n,e){return Kg(Gr(n),Gr(e))&&n.limitType===e.limitType}function HW(n){return`${du(Gr(n))}|lt:${n.limitType}`}function Wd(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>FW(i)).join(", ")}]`),jg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>zd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>zd(i)).join(",")),`Target(${r})`}(Gr(n))}; limitType=${n.limitType})`}function Yg(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of qd(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,c){const u=RW(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,qd(r),i)||r.endAt&&!function(o,a,c){const u=RW(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,qd(r),i)));var r,i}function WW(n){return(e,t)=>{let r=!1;for(const i of qd(n)){const s=OAe(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function OAe(n,e,t){const r=n.field.isKeyField()?X.comparator(e.key,t.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return null!==c&&null!==u?Ba(c,u):se()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}class Lo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){La(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return EW(this.inner)}size(){return this.innerSize}}const NAe=new vt(X.comparator);function oi(){return NAe}const KW=new vt(X.comparator);function Xg(...n){let e=KW;for(const t of n)e=e.insert(t.key,t);return e}function QW(n){let e=KW;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Us(){return Jg()}function YW(){return Jg()}function Jg(){return new Lo(n=>n.toString(),(n,e)=>n.isEqual(e))}const LAe=new vt(X.comparator),FAe=new dt(X.comparator);function xe(...n){let e=FAe;for(const t of n)e=e.add(t);return e}const VAe=new dt(ve);function XW(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$g(e)?"-0":e}}function JW(n){return{integerValue:""+n}}function ZW(n,e){return function fW(n){return"number"==typeof n&&Number.isInteger(n)&&!$g(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?JW(e):XW(n,e)}class jE{constructor(){this._=void 0}}function UAe(n,e,t){return n instanceof Kd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&kE(s)&&(s=OE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof hu?t8(n,e):n instanceof fu?n8(n,e):function(i,s){const o=e8(i,s),a=r8(o)+r8(i.Te);return s1(o)&&s1(i.Te)?JW(a):XW(i.serializer,a)}(n,e)}function BAe(n,e,t){return n instanceof hu?t8(n,e):n instanceof fu?n8(n,e):t}function e8(n,e){return n instanceof Qd?s1(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Kd extends jE{}class hu extends jE{constructor(e){super(),this.elements=e}}function t8(n,e){const t=i8(e);for(const r of n.elements)t.some(i=>Vs(i,r))||t.push(r);return{arrayValue:{values:t}}}class fu extends jE{constructor(e){super(),this.elements=e}}function n8(n,e){let t=i8(e);for(const r of n.elements)t=t.filter(i=>!Vs(i,r));return{arrayValue:{values:t}}}class Qd extends jE{constructor(e,t){super(),this.serializer=e,this.Te=t}}function r8(n){return Yt(n.integerValue||n.doubleValue)}function i8(n){return Hg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $Ae{constructor(e,t){this.version=e,this.transformResults=t}}class Ot{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ot}static exists(e){return new Ot(void 0,e)}static updateTime(e){return new Ot(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $E(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class zE{}function s8(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Xd(n.key,Ot.none()):new Yd(n.key,n.data,Ot.none());{const t=n.data,r=sr.empty();let i=new dt(kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Fo(n.key,r,new si(i.toArray()),Ot.none())}}function zAe(n,e,t){n instanceof Yd?function(i,s,o){const a=i.value.clone(),c=c8(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Fo?function(i,s,o){if(!$E(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=c8(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(a8(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function em(n,e,t,r){return n instanceof Yd?function(s,o,a,c){if(!$E(s.precondition,o))return a;const u=s.value.clone(),l=u8(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fo?function(s,o,a,c){if(!$E(s.precondition,o))return a;const u=u8(s.fieldTransforms,c,o),l=o.data;return l.setAll(a8(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,$E(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function GAe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=e8(r.transform,i||null);null!=s&&(null===t&&(t=sr.empty()),t.set(r.field,s))}return t||null}function o8(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Ud(r,i,(s,o)=>function jAe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof hu&&i instanceof hu||r instanceof fu&&i instanceof fu?Ud(r.elements,i.elements,Vs):r instanceof Qd&&i instanceof Qd?Vs(r.Te,i.Te):r instanceof Kd&&i instanceof Kd);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Yd extends zE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends zE{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function a8(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function c8(n,e,t){const r=new Map;ce(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,BAe(o,a,t[i]))}return r}function u8(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,UAe(s,o,e))}return r}class Xd extends zE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f1 extends zE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class p1{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zAe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=em(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=em(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=YW();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=s8(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ud(this.mutations,e.mutations,(t,r)=>o8(t,r))&&Ud(this.baseMutations,e.baseMutations,(t,r)=>o8(t,r))}}class g1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ce(e.mutations.length===r.length);let i=LAe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new g1(e,t,r,i)}}class m1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qAe{constructor(e,t){this.count=e,this.unchangedNames=t}}var _n,He;function d8(n){if(void 0===n)return on("GRPC error has no .code"),R.UNKNOWN;switch(n){case _n.OK:return R.OK;case _n.CANCELLED:return R.CANCELLED;case _n.UNKNOWN:return R.UNKNOWN;case _n.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case _n.INTERNAL:return R.INTERNAL;case _n.UNAVAILABLE:return R.UNAVAILABLE;case _n.UNAUTHENTICATED:return R.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case _n.NOT_FOUND:return R.NOT_FOUND;case _n.ALREADY_EXISTS:return R.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return R.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case _n.ABORTED:return R.ABORTED;case _n.OUT_OF_RANGE:return R.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return R.UNIMPLEMENTED;case _n.DATA_LOSS:return R.DATA_LOSS;default:return se()}}(He=_n||(_n={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";const WAe=new Ld([4294967295,4294967295],0);function f8(n){const e=function h8(){return new TextEncoder}().encode(n),t=new $Ce;return t.update(e),new Uint8Array(t.digest())}function p8(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ld([t,r],0),new Ld([i,s],0)]}class _1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new tm(`Invalid padding: ${t}`);if(r<0)throw new tm(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new tm(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new tm(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ld.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Ld.fromNumber(r)));return 1===i.compare(WAe)&&(i=new Ld([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=f8(e),[r,i]=p8(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _1(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ee)return;const t=f8(e),[r,i]=p8(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class tm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nm{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,rm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new nm(de.min(),i,new vt(ve),oi(),xe())}}class rm{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new rm(r,t,xe(),xe(),xe())}}class HE{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class g8{constructor(e,t){this.targetId=e,this.ge=t}}class m8{constructor(e,t,r=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class _8{constructor(){this.pe=0,this.ye=v8(),this.we=xn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=xe(),t=xe(),r=xe();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:se()}}),new rm(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=v8()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class KAe{constructor(e){this.ke=e,this.qe=new Map,this.Qe=oi(),this.Ke=y8(),this.$e=new vt(ve)}Ue(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.We(t,e.fe):this.Ge(t,e.key,e.fe);for(const t of e.removedTargetIds)this.Ge(t,e.key,e.fe)}ze(e){this.forEachTarget(e,t=>{const r=this.je(t);switch(e.state){case 0:this.He(t)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.He(t)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(t)&&(this.Je(t),r.ve(e.resumeToken));break;default:se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.He(i)&&t(i)})}Ye(e){const t=e.targetId,r=e.ge.count,i=this.Ze(t);if(i){const s=i.target;if(VE(s))if(0===r){const o=new X(s.path);this.Ge(t,o,Tt.newNoDocument(o,de.min()))}else ce(1===r);else{const o=this.Xe(t);if(o!==r){const a=this.et(e),c=a?this.tt(a,e,o):1;0!==c&&(this.Je(t),this.$e=this.$e.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}et(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Oo(r).toUint8Array()}catch(c){if(c instanceof TW)return bi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new _1(o,i,s)}catch(c){return bi(c instanceof tm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Ee?null:a}tt(e,t,r){return t.ge.count===r-this.it(e,t.targetId)?0:2}it(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ge(t,s,null),i++)}),i}st(e){const t=new Map;this.qe.forEach((s,o)=>{const a=this.Ze(o);if(a){if(s.current&&VE(a.target)){const c=new X(a.target.path);null!==this.Qe.get(c)||this.ot(o,c)||this.Ge(o,c,Tt.newNoDocument(c,e))}s.Ce&&(t.set(o,s.Fe()),s.Me())}});let r=xe();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Ze(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new nm(e,t,this.$e,this.Qe,r);return this.Qe=oi(),this.Ke=y8(),this.$e=new vt(ve),i}We(e,t){if(!this.He(e))return;const r=this.ot(e,t.key)?2:0;this.je(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.Ke=this.Ke.insert(t.key,this._t(t.key).add(e))}Ge(e,t,r){if(!this.He(e))return;const i=this.je(e);this.ot(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this._t(t).delete(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const t=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let t=this.qe.get(e);return t||(t=new _8,this.qe.set(e,t)),t}_t(e){let t=this.Ke.get(e);return t||(t=new dt(ve),this.Ke=this.Ke.insert(e,t)),t}He(e){const t=null!==this.Ze(e);return t||L("WatchChangeAggregator","Detected inactive target",e),t}Ze(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new _8),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.Ge(e,t,null)})}ot(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function y8(){return new vt(X.comparator)}function v8(){return new vt(X.comparator)}const QAe={asc:"ASCENDING",desc:"DESCENDING"},YAe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XAe={and:"AND",or:"OR"};class JAe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function y1(n,e){return n.useProto3Json||jg(e)?e:{value:e}}function Jd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w8(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ZAe(n,e){return Jd(n,e.toTimestamp())}function an(n){return ce(!!n),de.fromTimestamp(function(t){const r=Fa(t);return new $t(r.seconds,r.nanos)}(n))}function v1(n,e){return(r=n,new Ge(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function E8(n){const e=Ge.fromString(n);return ce(P8(e)),e}function im(n,e){return v1(n.databaseId,e.path)}function Bs(n,e){const t=E8(e);if(t.get(1)!==n.databaseId.projectId)throw new F(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new F(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(T8(t))}function w1(n,e){return v1(n.databaseId,e)}function sm(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function T8(n){return ce(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function b8(n,e,t){return{name:im(n,e),fields:t.value.mapValue.fields}}function A8(n,e){return{documents:[w1(n,e.path)]}}function I1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=w1(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=w1(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return x8(st.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(u=>{return{field:$a((d=u).field),direction:iDe(d.dir)};var d})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=y1(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t;var c}function D8(n){let e=function I8(n){const e=E8(n);return 4===e.length?Ge.emptyPath():T8(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ce(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(d){const h=S8(d);return h instanceof st&&a1(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(h=>{return new Wg(Zd((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,jg(h)?null:h}(t.limit));let c=null;var d;t.startAt&&(c=new ja((d=t.startAt).values||[],!!d.before));let u=null;return t.endAt&&(u=function(d){return new ja(d.values||[],!d.before)}(t.endAt)),function $W(n,e,t,r,i,s,o,a){return new No(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",c,u)}function S8(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zd(t.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zd(t.unaryFilter.field);return Fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zd(t.unaryFilter.field);return Fe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zd(t.unaryFilter.field);return Fe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(n):void 0!==n.fieldFilter?Fe.create(Zd((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return st.create(t.compositeFilter.filters.map(r=>S8(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(t.compositeFilter.op))}(n):se();var t}function iDe(n){return QAe[n]}function sDe(n){return YAe[n]}function oDe(n){return XAe[n]}function $a(n){return{fieldPath:n.canonicalString()}}function Zd(n){return kt.fromServerFormat(n.fieldPath)}function x8(n){return n instanceof Fe?function(t){if("=="===t.op){if(AW(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NAN"}};if(CW(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(AW(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NAN"}};if(CW(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(t.field),op:sDe(t.op),value:t.value}}}(n):n instanceof st?function(t){const r=t.getFilters().map(i=>x8(i));return 1===r.length?r[0]:{compositeFilter:{op:oDe(t.op),filters:r}}}(n):se()}function aDe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function P8(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Vo{constructor(e,t,r,i,s=de.min(),o=de.min(),a=xn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class R8{constructor(e){this.ct=e}}function T1(n){const e=D8({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?BE(e,e.limit,"L"):e}class _u{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Yt(e.integerValue));else if("doubleValue"in e){const r=Yt(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),$g(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At(`${r.seconds||""}`),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Oo(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?DW(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):se()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const i of r)this.It(i,t)}gt(e,t){this.Et(t,37),X.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}_u.bt=new _u;class gDe{constructor(){this._n=new x1}addToCollectionParentIndex(e,t){return this._n.add(t),b.resolve()}getCollectionParents(e,t){return b.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return b.resolve()}deleteFieldIndex(e,t){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,t){return b.resolve()}getDocumentsMatchingTarget(e,t){return b.resolve(null)}getIndexType(e,t){return b.resolve(0)}getFieldIndexes(e,t){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,t){return b.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,t){return b.resolve(Ci.min())}updateCollectionGroup(e,t,r){return b.resolve()}updateIndexEntries(e,t){return b.resolve()}}class x1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new dt(Ge.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Ge.comparator)).toArray()}}new Uint8Array(0);class Cr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Cr(e,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr(41943040,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);class vu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new vu(0)}static Bn(){return new vu(-1)}}class EDe{constructor(){this.changes=new Lo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?b.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bDe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class iK{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&em(r.mutation,i,si.empty(),$t.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=xe()){const i=Us();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Xg();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Us();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,xe()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=oi();const o=Jg(),a=Jg();return t.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof Fo)?s=s.insert(u.key,u):void 0!==l?(o.set(u.key,l.mutation.getFieldMask()),em(l.mutation,u,l.mutation.getFieldMask(),$t.now())):o.set(u.key,si.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),t.forEach((u,l)=>{var d;return a.set(u,new bDe(l,null!==(d=o.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Jg();let i=new vt((o,a)=>o-a),s=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=t.get(c);if(null===u)return;let l=r.get(c)||si.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||xe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=YW();l.forEach(h=>{if(!s.has(h)){const f=s8(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return X.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):l1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):b.resolve(Us());let a=-1,c=s;return o.next(u=>b.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?b.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,xe())).next(l=>({batchId:a,changes:QW(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=Xg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Xg();return this.indexManager.getCollectionParents(e,s).next(a=>b.forEach(a,c=>{const u=(d=t,h=c.child(s),new No(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,u)=>{const l=u.getKey();null===o.get(l)&&(o=o.insert(l,Tt.newInvalidDocument(l)))});let a=Xg();return o.forEach((c,u)=>{const l=s.get(c);void 0!==l&&em(l.mutation,u,si.empty(),$t.now()),Yg(t,u)&&(a=a.insert(c,u))}),a})}}class CDe{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return b.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,{id:(i=t).id,version:i.version,createTime:an(i.createTime)}),b.resolve();var i}getNamedQuery(e,t){return b.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,{name:(i=t).name,query:T1(i.bundledQuery),readTime:an(i.readTime)}),b.resolve();var i}}class ADe{constructor(){this.overlays=new vt(X.comparator),this.hr=new Map}getOverlay(e,t){return b.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Us();return b.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),b.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),b.resolve()}getOverlaysForCollection(e,t,r){const i=Us(),s=t.length+1,o=new X(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return b.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new vt((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let l=s.get(u.largestBatchId);null===l&&(l=Us(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=Us(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return b.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new m1(t,r));let s=this.hr.get(t);void 0===s&&(s=xe(),this.hr.set(t,s)),this.hr.set(t,s.add(r.key))}}class P1{constructor(){this.Pr=new dt(Un.Ir),this.Tr=new dt(Un.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new Un(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new Un(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){const t=new X(new Ge([])),r=new Un(t,e),i=new Un(t,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new X(new Ge([])),r=new Un(t,e),i=new Un(t,e+1);let s=xe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Un(e,0),r=this.Pr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Un{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return X.comparator(e.key,t.key)||ve(e.pr,t.pr)}static Er(e,t){return ve(e.pr,t.pr)||X.comparator(e.key,t.key)}}class DDe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new dt(Un.Ir)}checkEmpty(e){return b.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.yr;this.yr++;const o=new p1(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Un(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,t){return b.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.br(t+1),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Un(t,0),i=new Un(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dt(ve);return t.forEach(i=>{const s=new Un(i,0),o=new Un(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),b.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const o=new Un(new X(s),0);let a=new dt(ve);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),b.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ce(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return b.forEach(t.mutations,i=>{const s=new Un(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){const r=new Un(t,0),i=this.wr.firstAfterOrEqual(r);return b.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return b.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class SDe{constructor(e){this.vr=e,this.docs=new vt(X.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return b.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(t))}getEntries(e,t){let r=oi();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tt.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=oi();const o=t.path,a=new X(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ZR(lW(l),r)<=0||(i.has(l.key)||Yg(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return b.resolve(s)}getAllFromCollectionGroup(e,t,r,i){se()}Fr(e,t){return b.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xDe(this)}getSize(e){return b.resolve(this.size)}}class xDe extends EDe{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),b.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class PDe{constructor(e){this.persistence=e,this.Mr=new Lo(t=>du(t),Kg),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Or=0,this.Nr=new P1,this.targetCount=0,this.Br=vu.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),b.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new vu(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,b.resolve()}updateTargetData(e,t){return this.qn(t),b.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return b.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),b.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),b.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return b.resolve(r)}containsKey(e,t){return b.resolve(this.Nr.containsKey(t))}}class R1{constructor(e,t){this.Lr={},this.overlays={},this.kr=new Ai(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new PDe(this),this.indexManager=new gDe,this.remoteDocumentCache=new SDe(r=>this.referenceDelegate.Kr(r)),this.serializer=new R8(t),this.$r=new CDe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ADe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Lr[e.toKey()];return r||(r=new DDe(t,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);const i=new RDe(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,t){return b.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,t)))}}class RDe extends ZCe{constructor(e){super(),this.currentSequenceNumber=e}}class ZE{constructor(e){this.persistence=e,this.zr=new P1,this.jr=null}static Hr(e){return new ZE(e)}get Jr(){if(this.jr)return this.jr;throw se()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),b.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),b.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Jr,r=>{const i=X.fromPath(r);return this.Yr(e,i).next(s=>{s||t.removeEntry(i,de.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return b.or([()=>b.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class N1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=xe(),i=xe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new N1(e,t.fromCache,r,i)}}class kDe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oK{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ji(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new kDe;return this.Ji(e,t,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,t,o,a.size)})}).next(()=>s.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(Vd()<=Re.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Wd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),b.resolve()):(Vd()<=Re.DEBUG&&L("QueryEngine","Query:",Wd(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Vd()<=Re.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Wd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gr(t))):b.resolve())}ji(e,t){if(zW(t))return b.resolve(null);let r=Gr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=BE(t,null,"F"),r=Gr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=xe(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(t,a);return this.Xi(t,u,o,c.readTime)?this.ji(e,BE(t,null,"F")):this.es(e,u,t,c)}))})))}Hi(e,t,r,i){return zW(t)||i.isEqual(de.min())?b.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(t,s);return this.Xi(t,o,r,i)?b.resolve(null):(Vd()<=Re.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wd(t)),this.es(e,o,t,function uW(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=de.fromTimestamp(1e9===r?new $t(t+1,0):new $t(t,r));return new Ci(i,X.empty(),e)}(i,-1)).next(a=>a))})}Zi(e,t){let r=new dt(WW(e));return t.forEach((i,s)=>{Yg(e,s)&&(r=r.add(s))}),r}Xi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,t,r){return Vd()<=Re.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Wd(t)),this.zi.getDocumentsMatchingQuery(e,t,Ci.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ODe{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new vt(ve),this.rs=new Lo(s=>du(s),Kg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iK(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function cK(n,e){return L1.apply(this,arguments)}function L1(){return L1=_(function*(n,e){const t=K(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=xe();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return t.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}),L1.apply(this,arguments)}function uK(n){const e=K(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function FDe(n,e){const t=K(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sh(n,e,t){return F1.apply(this,arguments)}function F1(){return F1=_(function*(n,e,t){const r=K(n),i=r.ns.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Na(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),F1.apply(this,arguments)}function nI(n,e,t){const r=K(n);let i=de.min(),s=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){const d=K(c),h=d.rs.get(l);return void 0!==h?b.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,Gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,t?i:de.min(),t?s:xe())).next(a=>(function fK(n,e,t){let r=n.ss.get(e)||de.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ss.set(e,r)}(r,function qW(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,hs:s})))}class $1{constructor(){this.activeTargetIds=function h1(){return VAe}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mK{constructor(){this.no=new $1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new $1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BDe{io(e){}shutdown(){}}class _K{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sI=null;function G1(){return null===sI?sI=268435456+Math.round(2147483648*Math.random()):sI++,"0x"+sI.toString(16)}const jDe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $De{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Ar="WebChannelConnection";class zDe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+t.host,this.po=`projects/${i}/databases/${s}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(t,r,i,s,o){const a=G1(),c=this.bo(t,r);L("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(t,c,u,i).then(l=>(L("RestConnection",`Received RPC '${t}' ${a}: `,l),l),l=>{throw bi("RestConnection",`RPC '${t}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(t,r,i,s,o,a){return this.So(t,r,i,s,o)}Do(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Fd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}bo(t,r){return`${this.fo}/v1/${r}:${jDe[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,r,i){const s=G1();return new Promise((o,a)=>{const c=new jCe;c.setWithCredentials(!0),c.listenOnce(UCe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case YR.NO_ERROR:const l=c.getResponseJson();L(Ar,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case YR.TIMEOUT:L(Ar,`RPC '${e}' ${s} timed out`),a(new F(R.DEADLINE_EXCEEDED,"Request time out"));break;case YR.HTTP_ERROR:const d=c.getStatus();if(L(Ar,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const w=m.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(w)>=0?w:R.UNKNOWN}(f.status);a(new F(p,f.message))}else a(new F(R.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new F(R.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{L(Ar,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);L(Ar,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",u,r,15)})}Fo(e,t,r){const i=G1(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=FCe(),a=VCe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const l=s.join("");L(Ar,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=o.createWebChannel(l,c);let h=!1,f=!1;const p=new $De({lo:m=>{f?L(Ar,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(L(Ar,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),L(Ar,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},ho:()=>d.close()}),g=(m,w,v)=>{m.listen(w,I=>{try{v(I)}catch(S){setTimeout(()=>{throw S},0)}})};return g(d,xE.EventType.OPEN,()=>{f||L(Ar,`RPC '${e}' stream ${i} transport opened.`)}),g(d,xE.EventType.CLOSE,()=>{f||(f=!0,L(Ar,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),g(d,xE.EventType.ERROR,m=>{f||(f=!0,bi(Ar,`RPC '${e}' stream ${i} transport errored:`,m),p.Vo(new F(R.UNAVAILABLE,"The operation could not be completed")))}),g(d,xE.EventType.MESSAGE,m=>{var w;if(!f){const v=m.data[0];ce(!!v);const S=v.error||(null===(w=v[0])||void 0===w?void 0:w.error);if(S){L(Ar,`RPC '${e}' stream ${i} received error:`,S);const O=S.status;let V=function(et){const Wn=_n[et];if(void 0!==Wn)return d8(Wn)}(O),ie=S.message;void 0===V&&(V=R.INTERNAL,ie="Unknown error status: "+O+" with message "+S.message),f=!0,p.Vo(new F(V,ie)),d.close()}else L(Ar,`RPC '${e}' stream ${i} received:`,v),p.mo(v)}}),g(a,BCe.STAT_EVENT,m=>{m.stat===rW.PROXY?L(Ar,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===rW.NOPROXY&&L(Ar,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function oI(){return typeof document<"u"?document:null}function pm(n){return new JAe(n,!0)}class H1{constructor(e,t,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=t,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class vK{constructor(e,t,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new H1(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return _(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return _(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,t){var r=this;return _(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():t&&t.code===R.RESOURCE_EXHAUSTED?(on(t.toString()),on("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):t&&t.code===R.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(t)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===t&&this.o_(r,i)},r=>{e(()=>{const i=new F(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,t){const r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo(_(function*(){e.state=0,e.start()}))}__(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget(()=>this.Wo===e?t():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GDe extends vK{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function tDe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:se(),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(ce(void 0===l||"string"==typeof l),xn.fromBase64String(l||"")):(ce(void 0===l||l instanceof Uint8Array),xn.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?R.UNKNOWN:d8(u.code);return new F(l,u.message||"")}(o);t=new m8(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Bs(n,r.document.name),s=an(r.document.updateTime),o=r.document.createTime?an(r.document.createTime):de.min(),a=new sr({mapValue:{fields:r.document.fields}}),c=Tt.newFoundDocument(i,s,o,a);t=new HE(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Bs(n,r.document),s=r.readTime?an(r.readTime):de.min(),o=Tt.newNoDocument(i,s);t=new HE([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Bs(n,r.document);t=new HE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return se();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new qAe(i,s);t=new g8(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return de.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?an(o.readTime):de.min()}(e);return this.listener.u_(t,r)}c_(e){const t={};t.database=sm(this.serializer),t.addTarget=function(s,o){let a;const c=o.target;if(a=VE(c)?{documents:A8(s,c)}:{query:I1(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=w8(s,o.resumeToken);const u=y1(s,o.expectedCount);null!==u&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=Jd(s,o.snapshotVersion.toTimestamp());const u=y1(s,o.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function rDe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.t_(t)}l_(e){const t={};t.database=sm(this.serializer),t.removeTarget=e,this.t_(t)}}class HDe extends vK{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function nDe(n,e){return n&&n.length>0?(ce(void 0!==e),n.map(t=>function(i,s){let o=an(i.updateTime?i.updateTime:s);return o.isEqual(de.min())&&(o=an(s)),new $Ae(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=an(e.commitTime);return this.listener.T_(r,t)}return ce(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=sm(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function om(n,e){let t;if(e instanceof Yd)t={update:b8(n,e.key,e.value)};else if(e instanceof Xd)t={delete:im(n,e.key)};else if(e instanceof Fo)t={update:b8(n,e.key,e.data),updateMask:aDe(e.fieldMask)};else{if(!(e instanceof f1))return se();t={verify:im(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Kd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qd)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw se()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:ZAe(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:se()),t;var s}(this.serializer,r))};this.t_(t)}}class qDe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new F(R.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F(R.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(R.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class KDe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(on(t),this.g_=!1):L("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class QDe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{r.enqueueAndForget(_(function*(){var c;qa(o)&&(L("RemoteStore","Restarting streams for network reachability change."),yield(c=_(function*(l){const d=K(l);d.v_.add(4),yield oh(d),d.x_.set("Unknown"),d.v_.delete(4),yield gm(d)}),function u(l){return c.apply(this,arguments)})(o))}))}),this.x_=new KDe(r,i)}}function gm(n){return W1.apply(this,arguments)}function W1(){return W1=_(function*(n){if(qa(n))for(const e of n.F_)yield e(!0)}),W1.apply(this,arguments)}function oh(n){return K1.apply(this,arguments)}function K1(){return K1=_(function*(n){for(const e of n.F_)yield e(!1)}),K1.apply(this,arguments)}function aI(n,e){const t=K(n);t.C_.has(e.targetId)||(t.C_.set(e.targetId,e),X1(t)?Y1(t):ch(t).Jo()&&Q1(t,e))}function mm(n,e){const t=K(n),r=ch(t);t.C_.delete(e),r.Jo()&&wK(t,e),0===t.C_.size&&(r.Jo()?r.Xo():qa(t)&&t.x_.set("Unknown"))}function Q1(n,e){if(n.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ch(n).c_(e)}function wK(n,e){n.O_.Ne(e),ch(n).l_(e)}function Y1(n){n.O_=new KAe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.C_.get(e)||null,rt:()=>n.datastore.serializer.databaseId}),ch(n).start(),n.x_.p_()}function X1(n){return qa(n)&&!ch(n).Ho()&&n.C_.size>0}function qa(n){return 0===K(n).v_.size}function EK(n){n.O_=void 0}function YDe(n){return J1.apply(this,arguments)}function J1(){return J1=_(function*(n){n.C_.forEach((e,t)=>{Q1(n,e)})}),J1.apply(this,arguments)}function XDe(n,e){return Z1.apply(this,arguments)}function Z1(){return Z1=_(function*(n,e){EK(n),X1(n)?(n.x_.S_(e),Y1(n)):n.x_.set("Unknown")}),Z1.apply(this,arguments)}function JDe(n,e,t){return eM.apply(this,arguments)}function eM(){return eM=_(function*(n,e,t){if(n.x_.set("Online"),e instanceof m8&&2===e.state&&e.cause)try{yield(r=_(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.C_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.C_.delete(c),s.O_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield cI(n,r)}else if(e instanceof HE?n.O_.Ue(e):e instanceof g8?n.O_.Ye(e):n.O_.ze(e),!t.isEqual(de.min()))try{const r=yield uK(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.O_.st(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(xn.EMPTY_BYTE_STRING,l.snapshotVersion)),wK(s,c);const d=new Vo(l.target,c,u,l.sequenceNumber);Q1(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield cI(n,r)}var r}),eM.apply(this,arguments)}function cI(n,e,t){return tM.apply(this,arguments)}function tM(){return tM=_(function*(n,e,t){if(!Na(e))throw e;n.v_.add(1),yield oh(n),n.x_.set("Offline"),t||(t=()=>uK(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){L("RemoteStore","Retrying IndexedDB access"),yield t(),n.v_.delete(1),yield gm(n)}))}),tM.apply(this,arguments)}function IK(n,e){return e().catch(t=>cI(n,t,e))}function ah(n){return nM.apply(this,arguments)}function nM(){return nM=_(function*(n){const e=K(n),t=Wa(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;ZDe(e);)try{const i=yield FDe(e.localStore,r);if(null===i){0===e.D_.length&&t.Xo();break}r=i.batchId,eSe(e,i)}catch(i){yield cI(e,i)}TK(e)&&bK(e)}),nM.apply(this,arguments)}function ZDe(n){return qa(n)&&n.D_.length<10}function eSe(n,e){n.D_.push(e);const t=Wa(n);t.Jo()&&t.P_&&t.I_(e.mutations)}function TK(n){return qa(n)&&!Wa(n).Ho()&&n.D_.length>0}function bK(n){Wa(n).start()}function tSe(n){return rM.apply(this,arguments)}function rM(){return rM=_(function*(n){Wa(n).d_()}),rM.apply(this,arguments)}function nSe(n){return iM.apply(this,arguments)}function iM(){return iM=_(function*(n){const e=Wa(n);for(const t of n.D_)e.I_(t.mutations)}),iM.apply(this,arguments)}function rSe(n,e,t){return sM.apply(this,arguments)}function sM(){return sM=_(function*(n,e,t){const r=n.D_.shift(),i=g1.from(r,e,t);yield IK(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ah(n)}),sM.apply(this,arguments)}function iSe(n,e){return oM.apply(this,arguments)}function oM(){return oM=_(function*(n,e){var t;e&&Wa(n).P_&&(yield(t=_(function*(i,s){if(function l8(n){switch(n){default:return se();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}(a=s.code)&&a!==R.ABORTED){const o=i.D_.shift();Wa(i).Zo(),yield IK(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield ah(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),TK(n)&&bK(n)}),oM.apply(this,arguments)}function CK(n,e){return aM.apply(this,arguments)}function aM(){return aM=_(function*(n,e){const t=K(n);t.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const r=qa(t);t.v_.add(3),yield oh(t),r&&t.x_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.v_.delete(3),yield gm(t)}),aM.apply(this,arguments)}function uM(){return uM=_(function*(n,e){const t=K(n);e?(t.v_.delete(2),yield gm(t)):e||(t.v_.add(2),yield oh(t),t.x_.set("Unknown"))}),uM.apply(this,arguments)}function ch(n){return n.N_||(n.N_=function(t,r,i){const s=K(t);return s.R_(),new GDe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:YDe.bind(null,n),To:XDe.bind(null,n),u_:JDe.bind(null,n)}),n.F_.push(function(){var e=_(function*(t){t?(n.N_.Zo(),X1(n)?Y1(n):n.x_.set("Unknown")):(yield n.N_.stop(),EK(n))});return function(t){return e.apply(this,arguments)}}())),n.N_}function Wa(n){return n.B_||(n.B_=function(t,r,i){const s=K(t);return s.R_(),new HDe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:tSe.bind(null,n),To:iSe.bind(null,n),E_:nSe.bind(null,n),T_:rSe.bind(null,n)}),n.F_.push(function(){var e=_(function*(t){t?(n.B_.Zo(),yield ah(n)):(yield n.B_.stop(),n.D_.length>0&&(L("RemoteStore",`Stopping write stream with ${n.D_.length} pending writes`),n.D_=[]))});return function(t){return e.apply(this,arguments)}}())),n.B_}class lM{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new lM(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uh(n,e){if(on("AsyncQueue",`${e}: ${n}`),Na(n))return new F(R.UNAVAILABLE,`${e}: ${n}`);throw n}class lh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=Xg(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new lh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new lh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class AK{constructor(){this.L_=new vt(X.comparator)}track(e){const t=e.doc.key,r=this.L_.get(t);r?0!==e.type&&3===r.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==r.type?this.L_=this.L_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.L_=this.L_.remove(t):1===e.type&&2===r.type?this.L_=this.L_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):se():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal((t,r)=>{e.push(r)}),e}}class dh{constructor(e,t,r,i,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new dh(e,t,lh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class sSe{constructor(){this.q_=void 0,this.listeners=[]}}class oSe{constructor(){this.queries=new Lo(e=>HW(e),Qg),this.onlineState="Unknown",this.Q_=new Set}}function hM(){return hM=_(function*(n,e){const t=K(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new sSe),i)try{s.q_=yield t.onListen(r)}catch(o){const a=uh(o,`Initialization of query '${Wd(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.K_(t.onlineState),s.q_&&e.U_(s.q_)&&gM(t)}),hM.apply(this,arguments)}function pM(){return pM=_(function*(n,e){const t=K(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),pM.apply(this,arguments)}function aSe(n,e){const t=K(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.U_(i)&&(r=!0);o.q_=i}}r&&gM(t)}function cSe(n,e,t){const r=K(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function gM(n){n.Q_.forEach(e=>{e.next()})}class mM{constructor(e,t,r){this.query=e,this.W_=t,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new dh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.G_?this.j_(e)&&(this.W_.next(e),t=!0):this.H_(e,this.onlineState)&&(this.J_(e),t=!0),this.z_=e,t}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let t=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),t=!0),t}H_(e,t){return!e.fromCache||(!this.options.Y_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}j_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}J_(e){e=dh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}class xK{constructor(e){this.key=e}}class PK{constructor(e){this.key=e}}class RK{constructor(e,t){this.query=e,this.sa=t,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=xe(),this.mutatedKeys=xe(),this.aa=WW(e),this.ua=new lh(this.aa)}get ca(){return this.sa}la(e,t){const r=t?t.ha:new AK,i=t?t.ua:this.ua;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Yg(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Pa(h,f)||(r.track({type:2,doc:f}),m=!0,(c&&this.aa(f,c)>0||u&&this.aa(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(c||u)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ua:o,ha:r,Xi:a,mutatedKeys:s}}Pa(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const s=e.ha.k_();s.sort((u,l)=>function(h,f){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return p(h)-p(f)}(u.type,l.type)||this.aa(u.doc,l.doc)),this.Ia(r);const o=t?this.Ta():[],a=0===this._a.size&&this.current?1:0,c=a!==this.oa;return this.oa=a,0!==s.length||c?{snapshot:new dh(this.query,e.ua,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ua:this.ua,ha:new AK,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(t=>this.sa=this.sa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.sa=this.sa.delete(t)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=xe(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const t=[];return e.forEach(r=>{this._a.has(r)||t.push(new PK(r))}),this._a.forEach(r=>{e.has(r)||t.push(new xK(r))}),t}Aa(e){this.sa=e.hs,this._a=xe();const t=this.la(e.documents);return this.applyChanges(t,!0)}Ra(){return dh.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,0===this.oa,this.hasCachedResults)}}class dSe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hSe{constructor(e){this.key=e,this.Va=!1}}class fSe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new Lo(a=>HW(a),Qg),this.ga=new Map,this.pa=new Set,this.ya=new vt(X.comparator),this.wa=new Map,this.Sa=new P1,this.ba={},this.Da=new Map,this.Ca=vu.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return!0===this.va}}function pSe(n,e){return _M.apply(this,arguments)}function _M(){return _M=_(function*(n,e){const t=function BM(n){const e=K(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TSe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_Se.bind(null,e),e.ma.u_=aSe.bind(null,e.eventManager),e.ma.Ma=cSe.bind(null,e.eventManager),e}(n);let r,i;const s=t.fa.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=yield function ih(n,e){const t=K(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):t.Qr.allocateTargetId(r).next(o=>(i=new Vo(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}(t.localStore,Gr(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function yM(n,e,t,r,i){return vM.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&aI(t.remoteStore,o)}return i}),_M.apply(this,arguments)}function vM(){return vM=_(function*(n,e,t,r,i){n.Fa=(d,h,f)=>{return(p=_(function*(m,w,v,I){let S=w.view.la(v);S.Xi&&(S=yield nI(m.localStore,w.query,!1).then(({documents:ie})=>w.view.la(ie,S)));const O=I&&I.targetChanges.get(w.targetId),V=w.view.applyChanges(S,m.isPrimaryClient,O);return xM(m,w.targetId,V.Ea),V.snapshot}),function g(m,w,v,I){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield nI(n.localStore,e,!0),o=new RK(e,s.hs),a=o.la(s.documents),c=rm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),u=o.applyChanges(a,n.isPrimaryClient,c);xM(n,t,u.Ea);const l=new dSe(e,t,o);return n.fa.set(e,l),n.ga.has(t)?n.ga.get(t).push(e):n.ga.set(t,[e]),u.snapshot}),vM.apply(this,arguments)}function gSe(n,e){return wM.apply(this,arguments)}function wM(){return wM=_(function*(n,e){const t=K(n),r=t.fa.get(e),i=t.ga.get(r.targetId);if(i.length>1)return t.ga.set(r.targetId,i.filter(s=>!Qg(s,e))),void t.fa.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield sh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),mm(t.remoteStore,r.targetId),hh(t,r.targetId)}).catch(Oa))):(hh(t,r.targetId),yield sh(t.localStore,r.targetId,!0))}),wM.apply(this,arguments)}function EM(){return EM=_(function*(n,e,t){const r=function jM(n){const e=K(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ySe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vSe.bind(null,e),e}(n);try{const i=yield function(o,a){const c=K(o),u=$t.now(),l=a.reduce((f,p)=>f.add(p.key),xe());let d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=oi(),g=xe();return c.os.getEntries(f,l).next(m=>{p=m,p.forEach((w,v)=>{v.isValidDocument()||(g=g.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const w=[];for(const v of a){const I=GAe(v,d.get(v.key).overlayedDocument);null!=I&&w.push(new Fo(v.key,I,PW(I.value.mapValue),Ot.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,w,a)}).next(m=>{h=m;const w=m.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(f,m.batchId,w)})}).then(()=>({batchId:h.batchId,changes:QW(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.ba[o.currentUser.toKey()];u||(u=new vt(ve)),u=u.insert(a,c),o.ba[o.currentUser.toKey()]=u}(r,i.batchId,t),yield Uo(r,i.changes),yield ah(r.remoteStore)}catch(i){const s=uh(i,"Failed to persist write");t.reject(s)}}),EM.apply(this,arguments)}function MK(n,e){return IM.apply(this,arguments)}function IM(){return IM=_(function*(n,e){const t=K(n);try{const r=yield function LDe(n,e){const t=K(n),r=e.snapshotVersion;let i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,m,w;null!==e.targetMismatches.get(d)?f=f.withResumeToken(xn.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,w=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0)&&a.push(t.Qr.updateTargetData(s,f))});let c=oi(),u=xe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function lK(n,e,t){let r=xe(),i=xe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=oi();return t.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(de.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(de.min())){const l=t.Qr.getLastRemoteSnapshotVersion(s).next(d=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return b.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.ns=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.wa.get(s);o&&(ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?ce(o.Va):i.removedDocuments.size>0&&(ce(o.Va),o.Va=!1))}),yield Uo(t,r,e)}catch(r){yield Oa(r)}}),IM.apply(this,arguments)}function kK(n,e,t){const r=K(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.fa.forEach((s,o)=>{const a=o.view.K_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=K(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(const h of d.listeners)h.K_(a)&&(u=!0)}),u&&gM(c)}(r.eventManager,e),i.length&&r.ma.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _Se(n,e,t){return TM.apply(this,arguments)}function TM(){return TM=_(function*(n,e,t){const r=K(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.wa.get(e),s=i&&i.key;if(s){let o=new vt(X.comparator);o=o.insert(s,Tt.newNoDocument(s,de.min()));const a=xe().add(s),c=new nm(de.min(),new Map,new vt(ve),o,a);yield MK(r,c),r.ya=r.ya.remove(s),r.wa.delete(e),PM(r)}else yield sh(r.localStore,e,!1).then(()=>hh(r,e,t)).catch(Oa)}),TM.apply(this,arguments)}function ySe(n,e){return bM.apply(this,arguments)}function bM(){return bM=_(function*(n,e){const t=K(n),r=e.batch.batchId;try{const i=yield function NDe(n,e){const t=K(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){const d=u.batch,h=d.keys();let f=b.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(c,p)).next(g=>{const m=u.docVersions.get(p);ce(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=xe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);SM(t,r,null),DM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Uo(t,i)}catch(i){yield Oa(i)}}),bM.apply(this,arguments)}function vSe(n,e,t){return CM.apply(this,arguments)}function CM(){return CM=_(function*(n,e,t){const r=K(n);try{const i=yield function(o,a){const c=K(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(ce(null!==d),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);SM(r,e,t),DM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Uo(r,i)}catch(i){yield Oa(i)}}),CM.apply(this,arguments)}function DM(n,e){(n.Da.get(e)||[]).forEach(t=>{t.resolve()}),n.Da.delete(e)}function SM(n,e,t){const r=K(n);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.ba[r.currentUser.toKey()]=i}}function hh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ga.get(e))n.fa.delete(r),t&&n.ma.Ma(r,t);n.ga.delete(e),n.isPrimaryClient&&n.Sa.Vr(e).forEach(r=>{n.Sa.containsKey(r)||OK(n,r)})}function OK(n,e){n.pa.delete(e.path.canonicalString());const t=n.ya.get(e);null!==t&&(mm(n.remoteStore,t),n.ya=n.ya.remove(e),n.wa.delete(t),PM(n))}function xM(n,e,t){for(const r of t)r instanceof xK?(n.Sa.addReference(r.key,e),ESe(n,r)):r instanceof PK?(L("SyncEngine","Document no longer in limbo: "+r.key),n.Sa.removeReference(r.key,e),n.Sa.containsKey(r.key)||OK(n,r.key)):se()}function ESe(n,e){const t=e.key,r=t.path.canonicalString();n.ya.get(t)||n.pa.has(r)||(L("SyncEngine","New document in limbo: "+t),n.pa.add(r),PM(n))}function PM(n){for(;n.pa.size>0&&n.ya.size<n.maxConcurrentLimboResolutions;){const e=n.pa.values().next().value;n.pa.delete(e);const t=new X(Ge.fromString(e)),r=n.Ca.next();n.wa.set(r,new hSe(t)),n.ya=n.ya.insert(t,r),aI(n.remoteStore,new Vo(Gr(Hd(t.path)),r,"TargetPurposeLimboResolution",Ai.ae))}}function Uo(n,e,t){return RM.apply(this,arguments)}function RM(){return RM=_(function*(n,e,t){const r=K(n),i=[],s=[],o=[];var a;r.fa.isEmpty()||(r.fa.forEach((a,c)=>{o.push(r.Fa(c,e,t).then(u=>{if((u||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=N1.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.ma.u_(i),yield(a=_(function*(u,l){const d=K(u);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>b.forEach(l,f=>b.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>b.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Na(h))throw h;L("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ns.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ns=d.ns.insert(f,m)}}}),function c(u,l){return a.apply(this,arguments)})(r.localStore,s))}),RM.apply(this,arguments)}function ISe(n,e){return MM.apply(this,arguments)}function MM(){return MM=_(function*(n,e){const t=K(n);if(!t.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());const r=yield cK(t.localStore,e);t.currentUser=e,(s=t).Da.forEach(a=>{a.forEach(c=>{c.reject(new F(R.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Da.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Uo(t,r.us)}var s}),MM.apply(this,arguments)}function TSe(n,e){const t=K(n),r=t.wa.get(e);if(r&&r.Va)return xe().add(r.key);{let i=xe();const s=t.ga.get(e);if(!s)return i;for(const o of s){const a=t.fa.get(o);i=i.unionWith(a.view.ca)}return i}}class uI{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.serializer=pm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function aK(n,e,t,r){return new ODe(n,e,t,r)}(this.persistence,new oK,e.initialUser,this.serializer)}createPersistence(e){return new R1(ZE.Hr,this.serializer)}createSharedClientState(e){return new mK}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fh{initialize(e,t){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>kK(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ISe.bind(null,r.syncEngine),yield function cM(n,e){return uM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oSe}createDatastore(e){const t=pm(e.databaseInfo.databaseId),r=new zDe(e.databaseInfo);return new qDe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>kK(this.syncEngine,t,0),a=_K.C()?new _K:new BDe,new QDe(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,c,u,l){const d=new fSe(i,s,o,a,c,u);return l&&(d.va=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(r){const i=K(r);L("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield oh(i),i.M_.shutdown(),i.x_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class lI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):on("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class LSe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=aW.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){L("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=uh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function dI(n,e){return $M.apply(this,arguments)}function $M(){return $M=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield cK(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),$M.apply(this,arguments)}function zM(n,e){return GM.apply(this,arguments)}function GM(){return GM=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function HM(n){return qM.apply(this,arguments)}(n);L("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>CK(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>CK(e.remoteStore,s)),n._onlineComponents=e}),GM.apply(this,arguments)}function qM(){return qM=_(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function BK(n){return"FirebaseError"===n.name?n.code===R.FAILED_PRECONDITION||n.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;bi("Error using user provided cache. Falling back to memory cache: "+t),yield dI(n,new uI)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield dI(n,new uI);return n._offlineComponents}),qM.apply(this,arguments)}function hI(n){return WM.apply(this,arguments)}function WM(){return WM=_(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield zM(n,n._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield zM(n,new fh))),n._onlineComponents}),WM.apply(this,arguments)}function QM(){return QM=_(function*(n){const e=yield hI(n),t=e.eventManager;return t.onListen=pSe.bind(null,e.syncEngine),t.onUnlisten=gSe.bind(null,e.syncEngine),t}),QM.apply(this,arguments)}function HK(n,e,t={}){const r=new Sn;return n.asyncQueue.enqueueAndForget(_(function*(){return function(s,o,a,c,u){const l=new lI({next:h=>{o.enqueueAndForget(()=>function fM(n,e){return pM.apply(this,arguments)}(s,d)),h.fromCache&&"server"===c.source?u.reject(new F(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new mM(a,l,{includeMetadataChanges:!0,Y_:!0});return function dM(n,e){return hM.apply(this,arguments)}(s,d)}(yield function gh(n){return QM.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function qK(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const WK=new Map;function YM(n,e,t){if(!t)throw new F(R.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KK(n){if(!X.isDocumentKey(n))throw new F(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QK(n){if(X.isDocumentKey(n))throw new F(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":se()}function Ve(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new F(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fI(n);throw new F(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class XK{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new F(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new F(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function WSe(n,e,t,r){if(!0===e&&!0===r)throw new F(R.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=qK(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new F(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _m{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XK({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new F(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XK(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new zCe;switch(r.type){case"firstParty":return new WCe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=WK.get(t);r&&(L("ComponentProvider","Removing Datastore"),WK.delete(t),r.terminate())}(this),Promise.resolve()}}class or{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new or(this.firestore,e,this._query)}}class cn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class js extends or{constructor(e,t,r){super(e,t,Hd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new X(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function mh(n,e,...t){if(n=rt(n),YM("collection","path",e),n instanceof _m){const r=Ge.fromString(e,...t);return QK(r),new js(n,null,r)}{if(!(n instanceof cn||n instanceof js))throw new F(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ge.fromString(e,...t));return QK(r),new js(n.firestore,null,r)}}function XM(n,e,...t){if(n=rt(n),1===arguments.length&&(e=aW.V()),YM("doc","path",e),n instanceof _m){const r=Ge.fromString(e,...t);return KK(r),new cn(n,null,new X(r))}{if(!(n instanceof cn||n instanceof js))throw new F(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ge.fromString(e,...t));return KK(r),new cn(n.firestore,n instanceof js?n.converter:null,new X(r))}}class QSe{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new H1(this,"async_queue_retry"),this.su=()=>{const t=oI();t&&L("AsyncQueue","Visibility state changed to "+t.visibilityState),this.jo.Ko()};const e=oI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const t=oI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const t=new Sn;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}au(){var e=this;return _(function*(){if(0!==e.Za.length){try{yield e.Za[0](),e.Za.shift(),e.jo.reset()}catch(t){if(!Na(t))throw t;L("AsyncQueue","Operation failed with retryable error: "+t)}e.Za.length>0&&e.jo.qo(()=>e.au())}})()}_u(e){const t=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{throw this.tu=r,this.nu=!1,on("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.nu=!1,r))));return this.Ya=t,t}enqueueAfterDelay(e,t,r){this.ou(),this.iu.indexOf(e)>-1&&(t=0);const i=lM.createAndSchedule(this,e,t,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&se()}verifyOperationInProgress(){}cu(){var e=this;return _(function*(){let t;do{t=e.Ya,yield t}while(t!==e.Ya)})()}lu(e){for(const t of this.eu)if(t.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.eu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const t=this.eu.indexOf(e);this.eu.splice(t,1)}}class wt extends _m{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new QSe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ZK(this),this._firestoreClient.terminate()}}function ym(n,e){const r="string"==typeof n?n:e||"(default)",i=Jc("object"==typeof n?n:Aa(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=p7("firestore");s&&function KSe(n,e,t,r={}){var i;const s=(n=Ve(n,_m))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Fn.MOCK_USER;else{a=g7(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new F(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Fn(u)}n._authCredentials=new GCe(new sW(a,c))}}(i,...s)}return i}function un(n){return n._firestoreClient||ZK(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ZK(n){var e,t,r;const i=n._freezeSettings(),s=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new TAe(n._databaseId,c,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,qK(l.experimentalLongPollingOptions),l.useFetchStreams));var c,l;n._firestoreClient=new LSe(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eu(xn.fromBase64String(e))}catch(t){throw new F(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Eu(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _h{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new F(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ZM{constructor(e){this._methodName=e}}class ek{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new F(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new F(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}const JSe=/^__.*__$/;class ZSe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Fo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yd(e,this.data,t,this.fieldTransforms)}}class nQ{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Fo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rQ(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class pI{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new pI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Eu({path:r,Au:!1});return i.Ru(e),i}Vu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return mI(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(0===e.length)throw this.fu("Document fields must not be empty");if(rQ(this.Tu)&&JSe.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class exe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pm(e)}yu(e,t,r,i=!1){return new pI({Tu:e,methodName:t,pu:r,path:kt.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yh(n){const e=n._freezeSettings(),t=pm(n._databaseId);return new exe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tk(n,e,t,r,i,s={}){const o=n.yu(s.merge||s.mergeFields?2:0,e,t,i);rk("Data must be an object, but it was:",o,r);const a=cQ(r,o);let c,u;if(s.merge)c=new si(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Em(e,d,t);if(!o.contains(h))throw new F(R.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);lQ(l,h)||l.push(h)}c=new si(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new ZSe(new sr(a),c,u)}class wm extends ZM{_toFieldTransform(e){if(2!==e.Tu)throw e.fu(1===e.Tu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}function Iu(n,e){if(uQ(n=rt(n)))return rk("Unsupported field value:",e,n),cQ(n,e);if(n instanceof ZM)return function(r,i){if(!rQ(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Au&&4!==e.Tu)throw e.fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=Iu(a,i.mu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=rt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return ZW(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=$t.fromDate(r);return{timestampValue:Jd(i.serializer,s)}}if(r instanceof $t){const s=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jd(i.serializer,s)}}if(r instanceof ek)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Eu)return{bytesValue:w8(i.serializer,r._byteString)};if(r instanceof cn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:v1(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${fI(r)}`)}(n,e)}function cQ(n,e){const t={};return EW(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):La(n,(r,i)=>{const s=Iu(i,e.du(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function uQ(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $t||n instanceof ek||n instanceof Eu||n instanceof cn||n instanceof ZM)}function rk(n,e,t){if(!uQ(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=fI(t);throw e.fu("an object"===r?n+" a custom object":n+" "+r)}var i}function Em(n,e,t){if((e=rt(e))instanceof _h)return e._internalPath;if("string"==typeof e)return gI(n,e);throw mI("Field path arguments must be of type string or ",n,!1,void 0,t)}const ixe=new RegExp("[~\\*/\\[\\]]");function gI(n,e,t){if(e.search(ixe)>=0)throw mI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _h(...e.split("."))._internalPath}catch{throw mI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mI(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new F(R.INVALID_ARGUMENT,a+n+c)}function lQ(n,e){return n.some(t=>t.isEqual(e))}class ik{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sxe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_I("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sxe extends ik{data(){return super.data()}}function _I(n,e){return"string"==typeof e?gI(n,e):e instanceof _h?e._internalPath:e._delegate._internalPath}class sk{}class oxe extends sk{}function Im(n,e,...t){let r=[];e instanceof sk&&r.push(e),r=r.concat(t),function(s){const o=s.filter(c=>c instanceof vh).length,a=s.filter(c=>c instanceof Tm).length;if(o>1||o>0&&a>0)throw new F(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Tm extends oxe{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Tm(e,t,r)}_apply(e){const t=this._parse(e);return gQ(e._query,t),new or(e.firestore,e.converter,d1(e._query,t))}_parse(e){const t=yh(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new F(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){pQ(d,l);const f=[];for(const p of d)f.push(fQ(c,s,p));h={arrayValue:{values:f}}}else h=fQ(c,s,d)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||pQ(d,l),h=function aQ(n,e,t,r=!1){return Iu(t,n.yu(r?4:3,e))}(a,"where",d,"in"===l||"not-in"===l);return Fe.create(u,l,h)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class vh extends sk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vh(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:st.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)gQ(o,c),o=d1(o,c)}(e._query,t),new or(e.firestore,e.converter,d1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function fQ(n,e,t){if("string"==typeof(t=rt(t))){if(""===t)throw new F(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l1(e)&&-1!==t.indexOf("/"))throw new F(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ge.fromString(t));if(!X.isDocumentKey(r))throw new F(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lu(n,new X(r))}if(t instanceof cn)return lu(n,t._key);throw new F(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fI(t)}.`)}function pQ(n,e){if(!Array.isArray(n)||0===n.length)throw new F(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gQ(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new F(R.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class axe{convertValue(e,t="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return La(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new ek(Yt(e.latitude),Yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=OE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zg(e));default:return null}}convertTimestamp(e){const t=Fa(e);return new $t(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ge.fromString(e);ce(P8(r));const i=new uu(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(t)||on(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function ak(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Tu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wh extends ik{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new EI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_I("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class EI extends wh{data(e={}){return super.data(e)}}class Eh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Tu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new EI(this._firestore,this._userDataWriter,r.key,r,new Tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new F(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new EI(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new EI(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,l=-1;return 0!==a.type&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:uxe(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uxe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}class Ka extends axe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function bm(n){n=Ve(n,or);const e=Ve(n.firestore,wt),t=un(e),r=new Ka(e);return function dQ(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new F(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),HK(t,n._query).then(i=>new Eh(e,r,n,i))}function Cm(n,e){return function(r,i){const s=new Sn;return r.asyncQueue.enqueueAndForget(_(function*(){return function mSe(n,e,t){return EM.apply(this,arguments)}(yield function KM(n){return hI(n).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(un(n),e)}!function(e,t=!0){Fd=Ca,Er(new Rt("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new wt(new HCe(r.getProvider("auth-internal")),new KCe(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new F(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Dn(iW,"4.3.0",e),Dn(iW,"4.3.0","esm2017")}();const wQ="firebasestorage.googleapis.com",EQ="storageBucket";class zt extends On{constructor(e,t,r=0){super(lk(e),`Firebase Storage: ${t} (${lk(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Nt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Nt||{});function lk(n){return"storage/"+n}function dk(){return new zt(Nt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function IQ(){return new zt(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TQ(){return new zt(Nt.CANCELED,"User canceled the upload/download.")}function bQ(){return new zt(Nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hk(n){return new zt(Nt.INVALID_ARGUMENT,n)}function CQ(){return new zt(Nt.APP_DELETED,"The Firebase app was deleted.")}function Am(n,e){return new zt(Nt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Dm(n){throw new zt(Nt.INTERNAL_ERROR,"Internal error: "+n)}class Hr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Hr.makeFromUrl(e,t)}catch{return new Hr(e,"")}if(""===r.path)return r;throw function Nxe(n){return new zt(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(S){S.path_=decodeURIComponent(S.path)}const d=t.replace(/[.]/g,"\\."),I=[{regex:a,indices:{bucket:1,path:3},postModify:function s(S){"/"===S.path.charAt(S.path.length-1)&&(S.path_=S.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${t===wQ?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<I.length;S++){const O=I[S],V=O.regex.exec(e);if(V){let Ee=V[O.indices.path];Ee||(Ee=""),r=new Hr(V[O.indices.bucket],Ee),O.postModify(r);break}}if(null==r)throw function Oxe(n){return new zt(Nt.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class jxe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function bI(n){return"string"==typeof n||n instanceof String}function AQ(n){return fk()&&n instanceof Blob}function fk(){return typeof Blob<"u"&&!function _7(){var n;const e=null===(n=Ow())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function pk(n,e,t,r){if(r<e)throw hk(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw hk(`Invalid value for '${n}'. Expected ${t} or less.`)}function Bo(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function DQ(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Ih=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Ih||{});function SQ(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class Wxe{constructor(e,t,r,i,s,o,a,c,u,l,d,h=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function Gxe(n){return void 0!==n}(c)?s():s(c)}catch(c){o(c)}else if(null!==a){const c=dk();c.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,c):c)}else o(i.canceled?this.appDelete_?CQ():TQ():IQ())};this.canceled_?t(0,new CI(!1,null,!0)):this.backoffId_=function $xe(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let u=!1;function l(...m){u||(u=!0,e.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,n(f,c())},m)}function h(){s&&clearTimeout(s)}function f(m,...w){if(u)return void h();if(m)return h(),void l.call(null,m,...w);if(c()||o)return h(),void l.call(null,m,...w);let I;r<64&&(r*=2),1===a?(a=2,I=0):I=1e3*(r+Math.random()),d(I)}let p=!1;function g(m){p||(p=!0,h(),!u&&(null!==i?(m||(a=2),clearTimeout(i),d(0)):m||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},t),g}((r,i)=>{if(i)return void r(!1,new CI(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ih.NO_ERROR,c=s.getStatus();if(!a||SQ(c,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===Ih.ABORT;return void r(!1,new CI(!1,null,l))}const u=-1!==this.successCodes_.indexOf(c);r(!0,new CI(u,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function zxe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class CI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function ePe(...n){const e=function Zxe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(fk())return new Blob(n);throw new zt(Nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const as={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gk{constructor(e,t){this.data=e,this.contentType=t||null}}function PQ(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function RQ(n,e){switch(n){case as.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Am(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case as.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Am(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function nPe(n){if(typeof atob>"u")throw function Uxe(n){return new zt(Nt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Am(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class MQ{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Am(as.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function oPe(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class jo{constructor(e,t){let r=0,i="";AQ(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(AQ(this.data_)){const i=function tPe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new jo(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new jo(r,!0)}}static getBlob(...e){if(fk()){const t=e.map(r=>r instanceof jo?r.data_:r);return new jo(ePe.apply(null,t))}{const t=e.map(o=>bI(o)?function xQ(n,e){switch(n){case as.RAW:return new gk(PQ(e));case as.BASE64:case as.BASE64URL:return new gk(RQ(n,e));case as.DATA_URL:return new gk(function iPe(n){const e=new MQ(n);return e.base64?RQ(as.BASE64,e.rest):function rPe(n){let e;try{e=decodeURIComponent(n)}catch{throw Am(as.DATA_URL,"Malformed data URL.")}return PQ(e)}(e.rest)}(e),function sPe(n){return new MQ(n).contentType}(e))}throw dk()}(as.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new jo(i,!0)}}uploadData(){return this.data_}}function mk(n){let e;try{e=JSON.parse(n)}catch{return null}return function qxe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function kQ(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function uPe(n,e){return e}class qr{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||uPe}}let AI=null;function Sm(){if(AI)return AI;const n=[];n.push(new qr("bucket")),n.push(new qr("generation")),n.push(new qr("metageneration")),n.push(new qr("name","fullPath",!0));const t=new qr("name");t.xform=function e(s,o){return function lPe(n){return!bI(n)||n.length<2?n:kQ(n)}(o)},n.push(t);const i=new qr("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new qr("timeCreated")),n.push(new qr("updated")),n.push(new qr("md5Hash",null,!0)),n.push(new qr("cacheControl",null,!0)),n.push(new qr("contentDisposition",null,!0)),n.push(new qr("contentEncoding",null,!0)),n.push(new qr("contentLanguage",null,!0)),n.push(new qr("contentType",null,!0)),n.push(new qr("metadata","customMetadata",!0)),AI=n,AI}function OQ(n,e,t){const r=mk(e);return null===r?null:function hPe(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return function dPe(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Hr(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function _k(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class $s{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function zs(n){if(!n)throw dk()}function DI(n,e){return function t(r,i){const s=OQ(n,i,e);return zs(null!==s),s}}function Th(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Mxe(){return new zt(Nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Rxe(){return new zt(Nt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Pxe(n){return new zt(Nt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function kxe(n){return new zt(Nt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function xm(n){const e=Th(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function xxe(n){return new zt(Nt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function UQ(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function IPe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class SI{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function yk(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{zs(!1)}return zs(!!t&&-1!==(e||["active"]).indexOf(t)),t}function vk(n){switch(n){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class APe{constructor(e,t,r){if(function Hxe(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function bh(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let $Q=null;class DPe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ih.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ih.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ih.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Dm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Dm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Dm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Dm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Dm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class SPe extends DPe{initXhr(){this.xhr_.responseType="text"}}function cs(){return $Q?$Q():new SPe}class kPe{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Sm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Nt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(SQ(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=IQ()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Nt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function TPe(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o=UQ(e,r,i),a={name:o.fullPath},c=Bo(s,n.host,n._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=_k(o,t),p=new $s(c,"POST",function f(g){let m;yk(g);try{m=g.getResponseHeader("X-Goog-Upload-URL")}catch{zs(!1)}return zs(bI(m)),m},n.maxUploadRetryTime);return p.urlParams=a,p.headers=l,p.body=d,p.errorHandler=Th(e),p}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,cs,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function bPe(n,e,t,r){const c=new $s(t,"POST",function s(u){const l=yk(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{zs(!1)}d||zs(!1);const h=Number(d);return zs(!isNaN(h)),new SI(h,r.size(),"final"===l)},n.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=Th(e),c}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,cs,t,r);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new SI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function CPe(n,e,t,r,i,s,o,a){const c=new SI(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function Fxe(){return new zt(Nt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const u=c.total-c.current;let l=u;i>0&&(l=Math.min(l,i));const d=c.current;let f="";f=0===l?"finalize":u===l?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${c.current}`},g=r.slice(d,d+l);if(null===g)throw bQ();const I=new $s(t,"POST",function m(S,O){const V=yk(S,["active","final"]),ie=c.current+l,Ee=r.size();let et;return et="final"===V?DI(e,s)(S,O):null,new SI(ie,Ee,"final"===V,et)},e.maxUploadRetryTime);return I.headers=p,I.body=g.uploadData(),I.progressCallback=a||null,I.errorHandler=Th(n),I}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(o,cs,i,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=function FQ(n,e,t){const i=Bo(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new $s(i,"GET",DI(n,t),o);return a.errorHandler=xm(e),a}(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,cs,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function BQ(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let I="";for(let S=0;S<2;S++)I+=Math.random().toString().slice(2);return I}();o["Content-Type"]="multipart/related; boundary="+c;const u=UQ(e,r,i),l=_k(u,t),f=jo.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+c+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===f)throw bQ();const p={name:u.fullPath},g=Bo(s,n.host,n._protocol),w=n.maxUploadRetryTime,v=new $s(g,"POST",DI(n,t),w);return v.urlParams=p,v.headers=o,v.body=f.uploadData(),v.errorHandler=Th(e),v}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,cs,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=TQ(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=vk(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new APe(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(vk(this._state)){case"success":bh(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":bh(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(vk(this._state)){case"running":case"paused":e.next&&bh(e.next.bind(e,this.snapshot))();break;case"success":e.complete&&bh(e.complete.bind(e))();break;default:e.error&&bh(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class bu{constructor(e,t){this._service=e,this._location=t instanceof Hr?t:Hr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new bu(e,t)}get root(){const e=new Hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kQ(this._location.path)}get storage(){return this._service}get parent(){const e=function aPe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Hr(this._location.bucket,e);return new bu(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function Bxe(n){return new zt(Nt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function jPe(n){n._throwIfRoot("getDownloadURL");const e=function vPe(n,e,t){const i=Bo(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new $s(i,"GET",function _Pe(n,e){return function t(r,i){const s=OQ(n,i,e);return zs(null!==s),function fPe(n,e,t,r){const i=mk(e);if(null===i||!bI(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=n.fullPath;return Bo("/b/"+o(n.bucket)+"/o/"+o(d),t,r)+DQ({alt:"media",token:u})})[0]}(s,i,n.host,n._protocol)}}(n,t),o);return a.errorHandler=xm(e),a}(n.storage,n._location,Sm());return n.storage.makeRequestWithTokens(e,cs).then(t=>{if(null===t)throw function Vxe(){return new zt(Nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function WQ(n,e){if(n instanceof Ek){const t=n;if(null==t._bucket)throw function Lxe(){return new zt(Nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+EQ+"' property when initializing the app?")}();const r=new bu(t,t._bucket);return null!=e?WQ(r,e):r}return void 0!==e?function qQ(n,e){const t=function cPe(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Hr(n._location.bucket,t);return new bu(n.storage,r)}(n,e):n}function KQ(n,e){const t=e?.[EQ];return null==t?null:Hr.makeFromBucketSpec(t,n)}class Ek{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=wQ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Hr.makeFromBucketSpec(i,this._host):KQ(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Hr.makeFromBucketSpec(this._url,e):KQ(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return _(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return _(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bu(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new jxe(CQ());{const o=function Jxe(n,e,t,r,i,s,o=!0){const a=DQ(n.urlParams),c=n.url+a,u=Object.assign({},n.headers);return function Yxe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(u,e),function Kxe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(u,t),function Qxe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(u,s),function Xxe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(u,r),new Wxe(c,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var r=this;return _(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const QQ="@firebase/storage",XQ="storage";function QPe(n){return function $Pe(n){n._throwIfRoot("deleteObject");const e=function EPe(n,e){const r=Bo(e.fullServerUrl(),n.host,n._protocol),a=new $s(r,"DELETE",function o(c,u){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=xm(e),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,cs)}(n=rt(n))}function JQ(n,e){return function HPe(n,e){if(e&&function zPe(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Ek)return function GPe(n,e){return new bu(n,e)}(n,e);throw hk("To use ref(service, url), the first argument must be a Storage instance.")}return WQ(n,e)}(n=rt(n),e)}function ZQ(n=Aa(),e){const r=Jc(n=rt(n),XQ).getImmediate({identifier:e}),i=p7("storage");return i&&function YPe(n,e,t,r={}){!function qPe(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:g7(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function XPe(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Ek(t,r,i,e,Ca)}function ZPe(n,e){1&n&&(y(0,"p",36),T(1,"image successfully uploaded"),E())}function eRe(n,e){if(1&n){const t=vo();y(0,"input",37),ut("click",function(){return Li(t),Fi(lt(2).addProduct())}),E()}}function tRe(n,e){if(1&n){const t=vo();y(0,"input",38),ut("click",function(){return Li(t),Fi(lt(2).saveProduct())}),E()}}function nRe(n,e){if(1&n){const t=vo();y(0,"form",10),Q(1,"input",11)(2,"input",12)(3,"input",13)(4,"input",14)(5,"input",15),y(6,"input",16),ut("change",function(i){return Li(t),Fi(lt().upload(i))}),E(),Ke(7,ZPe,2,0,"p",17),y(8,"select",18)(9,"option",19),T(10,"Chose category"),E(),y(11,"option",20),T(12,"Culinasia special"),E(),y(13,"option",21),T(14,"\u0421\u0442\u0440\u0430\u0432\u0438 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0438"),E(),y(15,"option",22),T(16,"\u0421\u043d\u0456\u0434\u0430\u043d\u043a\u0438 \u0434\u043e 18:00"),E(),y(17,"option",23),T(18,"\u0421\u0442\u0430\u0440\u0442\u0435\u0440\u0438"),E(),y(19,"option",24),T(20,"\u0420\u0430\u043c\u0435\u043d"),E(),y(21,"option",25),T(22,"Asian Wok"),E(),y(23,"option",26),T(24,"Asian Poke"),E(),y(25,"option",27),T(26,"\u0421\u0443\u0448\u0456-\u0431\u0443\u0440\u0433\u0435\u0440\u0438"),E(),y(27,"option",28),T(28,"\u0420\u043e\u043b\u0438"),E(),y(29,"option",29),T(30,"C\u0435\u0442\u0438"),E(),y(31,"option",30),T(32,"\u0414\u0435\u0441\u0435\u0440\u0442\u0438"),E(),y(33,"option",31),T(34,"\u041d\u0430\u043f\u043e\u0457"),E(),y(35,"option",32),T(36,"\u0410\u043b\u043a\u043e\u0433\u043e\u043b\u044c\u043d\u0456 \u043d\u0430\u043f\u043e\u0457 18+"),E(),y(37,"option",33),T(38,"NOA shop"),E()(),Ke(39,eRe,1,0,"input",34),Ke(40,tRe,1,0,"input",35),E()}if(2&n){const t=lt();x(7),Le("ngIf",t.showText),x(32),Le("ngIf",!t.showEditBtn),x(1),Le("ngIf",t.showEditBtn)}}function rRe(n,e){if(1&n){const t=vo();y(0,"tbody")(1,"th"),T(2),E(),y(3,"th"),T(4),E(),y(5,"th"),T(6),E(),y(7,"th"),T(8),E(),y(9,"th"),T(10),E(),y(11,"th"),T(12),G(13,"slice"),E(),y(14,"th"),T(15),E(),y(16,"th"),Q(17,"img",41),E(),y(18,"th")(19,"button",42),ut("click",function(){const s=Li(t).$implicit;return Fi(lt(2).delete(s.id))}),T(20,"Delete"),E(),y(21,"button",43),ut("click",function(){const s=Li(t).$implicit;return Fi(lt(2).edit(s.id))}),T(22,"Edit"),E()()()}if(2&n){const t=e.$implicit;x(2),U(t.id),x(2),U(t.name),x(2),U(t.path),x(2),U(t.weight),x(2),U(t.price),x(2),od("",iD(13,9,t.description,0,20),"",t.description.length>20?"...":"",""),x(3),U(t.category),x(2),UA("src",t.url,Es)}}function iRe(n,e){if(1&n&&(y(0,"div",39)(1,"table")(2,"td"),T(3,"product id"),E(),y(4,"td"),T(5,"product name"),E(),y(6,"td"),T(7,"product path"),E(),y(8,"td"),T(9,"product weight"),E(),y(10,"td"),T(11,"product price"),E(),y(12,"td"),T(13,"product description"),E(),y(14,"td"),T(15,"product category"),E(),y(16,"td"),T(17,"product image"),E(),y(18,"td"),T(19,"Actions"),E(),Ke(20,rRe,23,13,"tbody",40),E()()),2&n){const t=lt();x(20),Le("ngForOf",t.products)}}!function JPe(){Er(new Rt(XQ,XPe,"PUBLIC").setMultipleInstances(!0)),Dn(QQ,"0.11.2",""),Dn(QQ,"0.11.2","esm2017")}();let sRe=(()=>{class n{constructor(t){this.router=t,this.showAdd=!0,this.firebaseApp=Aa(),this.db=ym(this.firebaseApp),this.storage=ZQ(),this.url="",this.path="",this.showText=!1,this.showEditBtn=!1,this.auth=mg()}logout(){TP(this.auth).then(()=>{this.router.navigate(["/"]),localStorage.removeItem("currentUser")}).catch(t=>{console.error(t)})}ngOnInit(){var t=this;return _(function*(){yield t.get()})()}resetForms(){document.querySelector(".product-name").value="",document.querySelector(".product-path").value=""}addProduct(){var t=this;return _(function*(){try{yield function fxe(n,e){const t=Ve(n.firestore,wt),r=XM(n),i=ak(n.converter,e);return Cm(t,[tk(yh(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ot.exists(!1))]).then(()=>r)}(mh(t.db,"products"),{name:document.querySelector(".product-name").value,path:document.querySelector(".product-path").value,weight:document.querySelector(".product-weight").value,description:document.querySelector(".product-description").value,category:document.querySelector("#category").value,price:document.querySelector("#price").value,url:t.url}),t.showText=!1,t.resetForms(),t.showAdd=!t.showAdd,t.get()}catch(r){console.log(r)}})()}showAddFunc(){this.showAdd=!this.showAdd,this.showEditBtn=!1,this.get()}get(){var t=this;return _(function*(){const r=[],i=Im(mh(t.db,"products"));(yield bm(i)).forEach(o=>{const a=o.data();a.id=o.id,r.push(a)}),t.products=r})()}delete(t){var r=this;return _(function*(){yield function hxe(n){return Cm(Ve(n.firestore,wt),[new Xd(n._key,Ot.none())])}(XM(r.db,"products",t)),r.get(),r.deleteImg(t)})()}deleteImg(t){try{for(let r=0;r<this.products.length;r++)this.products[r].id===t&&QPe(JQ(this.storage,this.products[r].url)).then(()=>{this.showText=!1})}catch(r){console.log(r)}}upload(t){this.path=t.target.files[0],this.uploadFile("images",this.path.name,this.path).then(r=>{console.log(r)}).catch(r=>{console.error(r)})}uploadFile(t,r,i){var s=this;return _(function*(){const o=`${t}/${r}`;if(i)try{const a=JQ(s.storage,o);yield function WPe(n,e,t){return function LPe(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new kPe(n,new jo(e),t)}(n=rt(n),e,t)}(a,i),s.url=yield function KPe(n){return jPe(n=rt(n))}(a)}catch(a){console.log(a)}else console.log("wrong format");return s.showText=!0,Promise.resolve(s.url)})()}edit(t){var r=this;return _(function*(){r.showAddFunc(),setTimeout(()=>{for(let i=0;i<r.products.length;i++)r.products[i].id===t&&(console.log(r.products[i].url),r.url=r.products[i].url,document.querySelector(".product-name").value=r.products[i].name,document.querySelector(".product-path").value=r.products[i].path,document.querySelector(".product-weight").value=r.products[i].weight,document.querySelector(".product-description").value=r.products[i].description,document.querySelector("#price").value=r.products[i].price)}),r.showEditBtn=!0,r.id=t})()}saveProduct(){var t=this;return _(function*(){console.log(t.url);const r={name:document.querySelector(".product-name").value,path:document.querySelector(".product-path").value,weight:document.querySelector(".product-weight").value,description:document.querySelector(".product-description").value,url:t.url,price:document.querySelector("#price").value},i=XM(t.db,"products",t.id);yield function dxe(n,e,t,...r){n=Ve(n,cn);const i=Ve(n.firestore,wt),s=yh(i);let o;return o="string"==typeof(e=rt(e))||e instanceof _h?function oQ(n,e,t,r,i,s){const o=n.yu(1,e,t),a=[Em(e,r,t)],c=[i];if(s.length%2!=0)throw new F(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Em(e,s[h])),c.push(s[h+1]);const u=[],l=sr.empty();for(let h=a.length-1;h>=0;--h)if(!lQ(u,a[h])){const f=a[h];let p=c[h];p=rt(p);const g=o.Vu(f);if(p instanceof wm)u.push(f);else{const m=Iu(p,g);null!=m&&(u.push(f),l.set(f,m))}}const d=new si(u);return new nQ(l,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function sQ(n,e,t,r){const i=n.yu(1,e,t);rk("Data must be an object, but it was:",i,r);const s=[],o=sr.empty();La(r,(c,u)=>{const l=gI(e,c,t);u=rt(u);const d=i.Vu(l);if(u instanceof wm)s.push(l);else{const h=Iu(u,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new si(s);return new nQ(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),Cm(i,[o.toMutation(n._key,Ot.exists(!0))])}(i,r),t.get(),t.resetForms(),t.showText=!1,t.showAdd=!t.showAdd})()}static#e=this.\u0275fac=function(r){return new(r||n)($(tr))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-add-product"]],decls:13,vars:2,consts:[[1,"container"],[1,"menu-container"],[1,"add-product"],["href","/add-product",1,"text"],[1,"log-out"],[1,"text",3,"click"],[1,"forms"],[1,"button-show-add",3,"click"],["action","",4,"ngIf"],["class","tables","style","overflow-y: scroll",4,"ngIf"],["action",""],["type","text","placeholder","product name",1,"product-name"],["type","text","placeholder","product path",1,"product-path"],["type","text","placeholder","product weight",1,"product-weight"],["type","text","placeholder","product description",1,"product-description"],["id","price","type","number","placeholder","product price",1,"product-price"],["type","file","name","upload","id","upload",3,"change"],["class","success-text",4,"ngIf"],["id","category"],["disabled",""],["name","culinasia-special","id","culinasia-special","value","culinasia-special"],["name","support-dish","id","support-dish","value","support-dish"],["name","breakfast-18","id","breakfast-18","value","breakfast-18"],["name","starters","id","starters","value","starters"],["name","ramen","id","ramen","value","ramen"],["name","asian-wok","id","asian-wok","value","asian-wok"],["name","asian-poke","id","asian-poke","value","asian-poke"],["name","sushi-burger","id","sushi-burger","value","sushi-burger"],["name","rols","id","rols","value","rols"],["name","sets","id","sets","value","sets"],["name","deserts","id","deserts","value","deserts"],["name","drinks","id","drinks","value","drinks"],["name","drinks-18","id","drinks-18","value","drinks-18"],["name","noa-shop","id","noa-shop","value","noa-shop"],["type","button","class","add-product-btn","value","Add",3,"click",4,"ngIf"],["type","button","class","add-product-btn","value","Edit",3,"click",4,"ngIf"],[1,"success-text"],["type","button","value","Add",1,"add-product-btn",3,"click"],["type","button","value","Edit",1,"add-product-btn",3,"click"],[1,"tables",2,"overflow-y","scroll"],[4,"ngFor","ngForOf"],["alt","",2,"height","40px","width","100px",3,"src"],[1,"delete-btn",3,"click"],[1,"edit-btn",3,"click"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),T(4,"Add Product"),E()(),y(5,"div",4)(6,"a",5),ut("click",function(){return i.logout()}),T(7,"Log out"),E()()(),y(8,"div",6)(9,"button",7),ut("click",function(){return i.showAddFunc()}),T(10,"show Add"),E(),Ke(11,nRe,41,3,"form",8),E(),Ke(12,iRe,21,1,"div",9),E()),2&r&&(x(11),Le("ngIf",i.showAdd),x(1),Le("ngIf",!i.showAdd))},dependencies:[kp,zc,JD],styles:[".container[_ngcontent-%COMP%]{padding-left:100px;padding-top:100px;display:flex;height:500px}.container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .add-product[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]{border:1px solid #000;width:200px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer}.container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]{border-top:none}.container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-decoration:none;color:#000}.container[_ngcontent-%COMP%]   .forms[_ngcontent-%COMP%]{margin-left:20px}.container[_ngcontent-%COMP%]   .forms[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .forms[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .forms[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{height:40px;width:400px;border-radius:5px;border:1px solid #000;display:block;padding-left:20px;margin-bottom:20px}.container[_ngcontent-%COMP%]   .forms[_ngcontent-%COMP%]   #upload[_ngcontent-%COMP%]{margin-bottom:20px}.container[_ngcontent-%COMP%]   .forms[_ngcontent-%COMP%]   .add-product-btn[_ngcontent-%COMP%]{margin-top:10px}.button-show-add[_ngcontent-%COMP%]{margin-bottom:20px;height:40px;width:200px;border-radius:5px;border:1px solid #000;background-color:transparent}.add-product-btn[_ngcontent-%COMP%]{background-color:transparent}table[_ngcontent-%COMP%]{font-size:14px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #000}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;border:1px solid #000}.tables[_ngcontent-%COMP%]{margin-left:100px}.delete-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{border-radius:5px;width:80px;height:30px;margin:10px;color:#fff;border:none;background-color:#c41e3a}.edit-btn[_ngcontent-%COMP%]{background-color:gold}"]})}return n})(),oRe=(()=>{class n{constructor(t){this.router=t,this.auth=mg()}logout(){TP(this.auth).then(()=>{this.router.navigate(["/"]),localStorage.removeItem("currentUser"),window.location.reload()}).catch(t=>{console.error(t)})}static#e=this.\u0275fac=function(r){return new(r||n)($(tr))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-admin-main"]],decls:7,vars:0,consts:[[1,"container"],[1,"add-product"],["href","/add-product",1,"text"],[1,"log-out"],[1,"text",3,"click"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div",1)(2,"a",2),T(3,"Add Product"),E()(),y(4,"div",3)(5,"a",4),ut("click",function(){return i.logout()}),T(6,"Log out"),E()()())},styles:[".container[_ngcontent-%COMP%]{padding-left:100px;padding-top:100px}.container[_ngcontent-%COMP%]   .add-product[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]{border:1px solid #000;width:200px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer}.container[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]{border-top:none}.container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-decoration:none;color:#000}"]})}return n})();const Ik={now:()=>(Ik.delegate||Date).now(),delegate:void 0};class cRe extends ke{constructor(e=1/0,t=1/0,r=Ik){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}function eY(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,Ob({connector:()=>new cRe(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}class Pm{}let tY=(()=>{class n extends Pm{getTranslation(t){return le({})}static \u0275fac=function(){let t;return function(i){return(t||(t=Hf(n)))(i||n)}}();static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class Tk{}let nY=(()=>{class n{handle(t){return t.key}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function xI(n,e){if(n===e)return!0;if(null===n||null===e)return!1;if(n!=n&&e!=e)return!0;let i,s,o,t=typeof n;if(t==typeof e&&"object"==t){if(!Array.isArray(n)){if(Array.isArray(e))return!1;for(s in o=Object.create(null),n){if(!xI(n[s],e[s]))return!1;o[s]=!0}for(s in e)if(!(s in o)&&typeof e[s]<"u")return!1;return!0}if(!Array.isArray(e))return!1;if((i=n.length)==e.length){for(s=0;s<i;s++)if(!xI(n[s],e[s]))return!1;return!0}}return!1}function Qa(n){return typeof n<"u"&&null!==n}function bk(n){return n&&"object"==typeof n&&!Array.isArray(n)}function rY(n,e){let t=Object.assign({},n);return bk(n)&&bk(e)&&Object.keys(e).forEach(r=>{bk(e[r])?r in n?t[r]=rY(n[r],e[r]):Object.assign(t,{[r]:e[r]}):Object.assign(t,{[r]:e[r]})}),t}class PI{}let iY=(()=>{class n extends PI{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,r){let i;return i="string"==typeof t?this.interpolateString(t,r):"function"==typeof t?this.interpolateFunction(t,r):t,i}getValue(t,r){let i="string"==typeof r?r.split("."):[r];r="";do{r+=i.shift(),!Qa(t)||!Qa(t[r])||"object"!=typeof t[r]&&i.length?i.length?r+=".":t=void 0:(t=t[r],r="")}while(i.length);return t}interpolateFunction(t,r){return t(r)}interpolateString(t,r){return r?t.replace(this.templateMatcher,(i,s)=>{let o=this.getValue(r,s);return Qa(o)?o:i}):t}static \u0275fac=function(){let t;return function(i){return(t||(t=Hf(n)))(i||n)}}();static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class RI{}let sY=(()=>{class n extends RI{compile(t,r){return t}compileTranslations(t,r){return t}static \u0275fac=function(){let t;return function(i){return(t||(t=Hf(n)))(i||n)}}();static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class oY{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Pt;onLangChange=new Pt;onDefaultLangChange=new Pt}const Ck=new j("USE_STORE"),Ak=new j("USE_DEFAULT_LANG"),Dk=new j("DEFAULT_LANGUAGE"),Sk=new j("USE_EXTEND");let MI=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new Pt;_onLangChange=new Pt;_onDefaultLangChange=new Pt;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}constructor(t,r,i,s,o,a=!0,c=!1,u=!1,l){this.store=t,this.currentLoader=r,this.compiler=i,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=c,this.extend=u,l&&this.setDefaultLang(l)}setDefaultLang(t){if(t===this.defaultLang)return;let r=this.retrieveTranslations(t);typeof r<"u"?(null==this.defaultLang&&(this.defaultLang=t),r.pipe(vr(1)).subscribe(i=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return le(this.translations[t]);let r=this.retrieveTranslations(t);return typeof r<"u"?(this.currentLang||(this.currentLang=t),r.pipe(vr(1)).subscribe(i=>{this.changeLang(t)}),r):(this.changeLang(t),le(this.translations[t]))}retrieveTranslations(t){let r;return(typeof this.translations[t]>"u"||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),r=this._translationRequests[t]),r}getTranslation(t){this.pending=!0;const r=this.currentLoader.getTranslation(t).pipe(eY(1),vr(1));return this.loadingTranslations=r.pipe(je(i=>this.compiler.compileTranslations(i,t)),eY(1),vr(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[t]=this.extend&&this.translations[t]?{...i,...this.translations[t]}:i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),r}setTranslation(t,r,i=!1){r=this.compiler.compileTranslations(r,t),this.translations[t]=(i||this.extend)&&this.translations[t]?rY(this.translations[t],r):r,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(r=>{-1===this.langs.indexOf(r)&&this.langs.push(r)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,r,i){let s;if(r instanceof Array){let o={},a=!1;for(let c of r)o[c]=this.getParsedResult(t,c,i),va(o[c])&&(a=!0);return a?function aRe(...n){const e=CU(n),{args:t,keys:r}=rq(n),i=new ht(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let c=o,u=o;for(let l=0;l<o;l++){let d=!1;kr(t[l]).subscribe(Ft(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?iq(r,a):a),s.complete())}))}});return e?i.pipe(lS(e)):i}(r.map(u=>va(o[u])?o[u]:le(o[u]))).pipe(je(u=>{let l={};return u.forEach((d,h)=>{l[r[h]]=d}),l})):o}if(t&&(s=this.parser.interpolate(this.parser.getValue(t,r),i)),typeof s>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],r),i)),typeof s>"u"){let o={key:r,translateService:this};typeof i<"u"&&(o.interpolateParams=i),s=this.missingTranslationHandler.handle(o)}return typeof s<"u"?s:r}get(t,r){if(!Qa(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Hc(i=>va(i=this.getParsedResult(i,t,r))?i:le(i)));{let i=this.getParsedResult(this.translations[this.currentLang],t,r);return va(i)?i:le(i)}}getStreamOnTranslationChange(t,r){if(!Qa(t)||!t.length)throw new Error('Parameter "key" required');return fd(pd(()=>this.get(t,r)),this.onTranslationChange.pipe(fi(i=>{const s=this.getParsedResult(i.translations,t,r);return"function"==typeof s.subscribe?s:le(s)})))}stream(t,r){if(!Qa(t)||!t.length)throw new Error('Parameter "key" required');return fd(pd(()=>this.get(t,r)),this.onLangChange.pipe(fi(i=>{const s=this.getParsedResult(i.translations,t,r);return va(s)?s:le(s)})))}instant(t,r){if(!Qa(t)||!t.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],t,r);if(va(i)){if(t instanceof Array){let s={};return t.forEach((o,a)=>{s[t[a]]=t[a]}),s}return t}return i}set(t,r,i=this.currentLang){this.translations[i][t]=this.compiler.compile(r,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof t>"u"?void 0:(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}static \u0275fac=function(r){return new(r||n)(C(oY),C(Pm),C(RI),C(PI),C(Tk),C(Ak),C(Ck),C(Sk),C(Dk))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Ch=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(t,r){this.translate=t,this._ref=r}updateValue(t,r,i){let s=o=>{this.value=void 0!==o?o:t,this.lastKey=t,this._ref.markForCheck()};if(i){let o=this.translate.getParsedResult(i,t,r);va(o.subscribe)?o.subscribe(s):s(o)}this.translate.get(t,r).subscribe(s)}transform(t,...r){if(!t||!t.length)return t;if(xI(t,this.lastKey)&&xI(r,this.lastParams))return this.value;let i;if(Qa(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){let s=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{i=JSON.parse(s)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else"object"==typeof r[0]&&!Array.isArray(r[0])&&(i=r[0]);return this.lastKey=t,this.lastParams=r,this.updateValue(t,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,i,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,i,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(r){return new(r||n)($(MI,16),$(Kv,16))};static \u0275pipe=Or({name:"translate",type:n,pure:!1});static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),uRe=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.loader||{provide:Pm,useClass:tY},t.compiler||{provide:RI,useClass:sY},t.parser||{provide:PI,useClass:iY},t.missingTranslationHandler||{provide:Tk,useClass:nY},oY,{provide:Ck,useValue:t.isolate},{provide:Ak,useValue:t.useDefaultLang},{provide:Sk,useValue:t.extend},{provide:Dk,useValue:t.defaultLanguage},MI]}}static forChild(t={}){return{ngModule:n,providers:[t.loader||{provide:Pm,useClass:tY},t.compiler||{provide:RI,useClass:sY},t.parser||{provide:PI,useClass:iY},t.missingTranslationHandler||{provide:Tk,useClass:nY},{provide:Ck,useValue:t.isolate},{provide:Ak,useValue:t.useDefaultLang},{provide:Sk,useValue:t.extend},{provide:Dk,useValue:t.defaultLanguage},MI]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vt({type:n});static \u0275inj=St({})}return n})(),lRe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-delivery-page"]],decls:154,vars:114,consts:[[1,"container"],[1,"heading"],[1,"green-text"],[1,"section-2"],[1,"left"],[1,"green-zone"],["src","https://noa.ua/wp-content/uploads/2020/10/bike_green.svg","alt",""],[1,"right"],[2,"display","flex","flex-direction","column","line-height","30px"],[1,"yellow-zone"],["src","https://noa.ua/wp-content/uploads/2020/11/bike-1.svg","alt",""],[1,"red-zone"],["src","https://noa.ua/wp-content/uploads/2020/10/bike_red.svg","alt",""],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d82352.68481573154!2d23.929835457556457!3d49.832659844541894!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x473add7c09109a57%3A0x4223c517012378e2!2sLviv%2C%20Lviv%20Oblast%2C%20Ukraine%2C%2079000!5e0!3m2!1sen!2spl!4v1689424535963!5m2!1sen!2spl","width","600","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"],[1,"section3"],[1,"section4"],[1,"payment-container"],[1,"first"],["src","https://noa.ua/wp-content/uploads/2020/10/pay_page_one.svg","alt",""],[1,"second"],["src","https://noa.ua/wp-content/uploads/2020/10/pay_page_two.svg","alt",""],[1,"third"],["src","https://noa.ua/wp-content/uploads/2020/10/pay_page_tree-1.svg","alt",""],[1,"section5"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div",1)(2,"h1"),T(3),G(4,"translate"),y(5,"span",2),T(6),G(7,"translate"),E()()(),y(8,"div",3)(9,"div",4)(10,"div",5)(11,"div",4),Q(12,"img",6),E(),y(13,"div",7)(14,"h3"),T(15),G(16,"translate"),E(),y(17,"ul",8)(18,"li"),T(19),G(20,"translate"),E(),y(21,"li"),T(22),G(23,"translate"),E(),y(24,"li"),T(25),G(26,"translate"),E()()()(),y(27,"div",9)(28,"div",4),Q(29,"img",10),E(),y(30,"div",7)(31,"h3"),T(32),G(33,"translate"),E(),y(34,"ul",8)(35,"li"),T(36),G(37,"translate"),E(),y(38,"li"),T(39),G(40,"translate"),E(),y(41,"li"),T(42),G(43,"translate"),E()()()(),y(44,"div",11)(45,"div",4),Q(46,"img",12),E(),y(47,"div",7)(48,"h3"),T(49),G(50,"translate"),E(),y(51,"ul",8)(52,"li"),T(53),G(54,"translate"),E(),y(55,"li"),T(56),G(57,"translate"),E(),y(58,"li"),T(59),G(60,"translate"),E()()()()(),y(61,"div",7),Q(62,"iframe",13),E()(),y(63,"div",14)(64,"div",0)(65,"h2"),T(66),G(67,"translate"),E(),y(68,"p"),T(69),G(70,"translate"),E()()(),y(71,"div",15)(72,"h2"),T(73),G(74,"translate"),E(),y(75,"div",16)(76,"div",17)(77,"div",4),Q(78,"img",18),E(),y(79,"div",7)(80,"h3"),T(81),G(82,"translate"),E(),y(83,"p"),T(84),G(85,"translate"),E()()(),y(86,"div",19)(87,"div",4),Q(88,"img",20),E(),y(89,"div",7)(90,"h3"),T(91),G(92,"translate"),E(),y(93,"p"),T(94),G(95,"translate"),E()()(),y(96,"div",21)(97,"div",4),Q(98,"img",22),E(),y(99,"div",7)(100,"h3"),T(101),G(102,"translate"),E(),y(103,"p"),T(104),G(105,"translate"),E()()()()(),y(106,"div",23)(107,"h2"),T(108),G(109,"translate"),E(),y(110,"p"),T(111),G(112,"translate"),E(),y(113,"p"),T(114),G(115,"translate"),E(),y(116,"ul")(117,"li"),T(118),G(119,"translate"),E(),y(120,"li"),T(121),G(122,"translate"),E(),y(123,"li"),T(124),G(125,"translate"),E(),y(126,"li"),T(127),G(128,"translate"),E()(),y(129,"h2"),T(130),G(131,"translate"),E(),y(132,"p"),T(133),G(134,"translate"),E(),y(135,"h2"),T(136),G(137,"translate"),E(),y(138,"p"),T(139),G(140,"translate"),E(),y(141,"ul")(142,"li"),T(143),G(144,"translate"),E(),y(145,"li"),T(146),G(147,"translate"),E(),y(148,"li"),T(149),G(150,"translate"),E(),y(151,"p"),T(152),G(153,"translate"),E()()()()),2&r&&(x(3),An("",H(4,38,"delivery-title-regular")," "),x(3),U(H(7,40,"delivery-title-green")),x(9),U(H(16,42,"green-zone")),x(4),U(H(20,44,"li1")),x(3),U(H(23,46,"li2")),x(3),U(H(26,48,"li3")),x(7),U(H(33,50,"yellow-zone")),x(4),U(H(37,52,"li4")),x(3),U(H(40,54,"li5")),x(3),U(H(43,56,"li6")),x(7),U(H(50,58,"red-zone")),x(4),U(H(54,60,"li7")),x(3),U(H(57,62,"li8")),x(3),U(H(60,64,"li9")),x(7),U(H(67,66,"title-delivery")),x(3),U(H(70,68,"description-delivery")),x(4),An(" ",H(74,70,"payment")," "),x(8),U(H(82,72,"liquid-pay")),x(3),U(H(85,74,"liquid-pay-description")),x(7),U(H(92,76,"card-payment")),x(3),U(H(95,78,"card-payment-description")),x(7),U(H(102,80,"cash-payment")),x(3),U(H(105,82,"cash-payment-description")),x(4),U(H(109,84,"delivery-faq")),x(3),U(H(112,86,"delivery-faq-desc1")),x(3),U(H(115,88,"delivery-faq-desc2")),x(4),U(H(119,90,"delivery-faq-desc3")),x(3),U(H(122,92,"delivery-faq-desc4")),x(3),U(H(125,94,"delivery-faq-desc5")),x(3),U(H(128,96,"delivery-faq-desc6")),x(3),U(H(131,98,"delivery-faq-desc7")),x(3),U(H(134,100,"delivery-faq-desc8")),x(3),U(H(137,102,"delivery-faq-desc9")),x(3),U(H(140,104,"delivery-faq-desc10")),x(4),U(H(144,106,"delivery-faq-desc11")),x(3),U(H(147,108,"delivery-faq-desc12")),x(3),U(H(150,110,"delivery-faq-desc13")),x(3),U(H(153,112,"delivery-faq-desc14")))},dependencies:[Ch],styles:['.container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:30px}.container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .green-text[_ngcontent-%COMP%]{color:#2d7d7d}.green-zone[_ngcontent-%COMP%], .yellow-zone[_ngcontent-%COMP%], .red-zone[_ngcontent-%COMP%]{display:flex}.green-zone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .yellow-zone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .red-zone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#599921;font-size:26px;margin-bottom:20px;font-weight:400}.green-zone[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .yellow-zone[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .red-zone[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-left:40px}.green-zone[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .yellow-zone[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .red-zone[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;list-style-type:none}.green-zone[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before, .yellow-zone[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before, .red-zone[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;border-radius:50%;display:block;float:left;border:2px solid #599921;margin-right:10px;margin-top:9px}.yellow-zone[_ngcontent-%COMP%], .red-zone[_ngcontent-%COMP%]{margin-top:30px}.yellow-zone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fc0;margin-bottom:20px;font-size:26px}.yellow-zone[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;list-style-type:none}.yellow-zone[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;border-radius:50%;display:block;float:left;border:2px solid #ffcc00!important;margin-right:10px;margin-top:9px}.red-zone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ef2f3d;margin-bottom:20px;font-size:26px}.red-zone[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;list-style-type:none}.red-zone[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;border-radius:50%;display:block;float:left;border:2px solid #EF2F3D!important;margin-right:10px;margin-top:9px}.section3[_ngcontent-%COMP%]{margin-bottom:30px;display:flex;flex-direction:column;align-items:center}.section3[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-top:50px;width:68%;text-align:left}.section3[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;font-size:46px;line-height:1.2em;font-weight:400;color:#2d2c2c}.section3[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:300}.section4[_ngcontent-%COMP%]{width:92%}.section4[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:46px;margin-bottom:30px;text-align:center}.section4[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.section4[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%], .section4[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%], .section4[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]{display:flex;width:30%}.section4[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .section4[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .section4[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-right:50px}.section4[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .section4[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .section4[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px}.section4[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .section4[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .section4[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:300}.section5[_ngcontent-%COMP%]{margin-top:50px;display:flex;align-items:center;flex-direction:column;width:100%}.section5[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:46px;font-weight:400;width:66%}.section5[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .section5[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:66%}.section5[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;list-style-type:none}.section5[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;border-radius:50%;display:block;float:left;border:2px solid #599921;margin-right:10px;margin-top:3px}.section-2[_ngcontent-%COMP%]{width:92%;padding-top:50px;display:flex;justify-content:space-between}@media screen and (max-width: 900px){.section-2[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse!important}.section-2[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-bottom:30px}.section-2[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%}.section3[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:88%}.section3[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px}.section3[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:none}.section4[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]{flex-wrap:wrap}.section4[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%], .section4[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%], .section4[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]{width:45%!important;margin-right:10px}.section4[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{margin-bottom:30px}.section5[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .section5[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .section5[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:88%}.section5[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:nth-child(1){margin-top:0}.section5[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:30px}}@media screen and (max-width: 600px){.container[_ngcontent-%COMP%]   .section4[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]{flex-direction:column}.container[_ngcontent-%COMP%]   .section4[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .section4[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .section4[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]{width:100%!important;margin-bottom:20px}.container[_ngcontent-%COMP%]   .section4[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]{margin-bottom:0}}']})}return n})();function fRe(n,e){if(1&n&&(y(0,"div",50)(1,"a",51),Q(2,"img",52),y(3,"div",53)(4,"p",54),T(5),E(),y(6,"p",55),T(7),E()(),y(8,"div",56)(9,"p"),T(10),E()(),y(11,"button",57),T(12,"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438"),E()()()),2&n){const t=e.$implicit;x(1),_p("href","/products/",t.path,"",Es),x(1),Le("src",t.url,Es),x(3),U(t.name),x(2),U(t.weight),x(3),An(" ",t.description,"")}}Dn("firebase","10.5.0","app");const pRe=function(){return["/product/support-dish"]};let gRe=(()=>{class n{constructor(){this.firebaseApp=Aa(),this.db=ym(this.firebaseApp),this.currentProduct=[]}ngOnInit(){var t=this;return _(function*(){const r="culinasia-special";yield t.get();for(let i=0;i<t.products.length;i++)t.products[i].category===r&&(console.log(r),t.currentProduct.push(t.products[i]),document.querySelector(`.${r}`).classList.add("active"))})()}get(){var t=this;return _(function*(){const r=[],i=Im(mh(t.db,"products"));(yield bm(i)).forEach(o=>{const a=o.data();a.id=o.id,r.push(a)}),t.products=r})()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-main"]],decls:129,vars:60,consts:[[1,"section1"],[1,"section2"],[1,"heading"],[1,"asia-text"],[1,"sort-menu"],[1,"container"],[1,"top"],[1,"active","culinasia-special"],[1,"support-dish"],[3,"routerLink"],[1,"breakfast-18"],[1,"ramen"],[1,"asian-wok"],[1,"asian-poke"],[1,"sushi-burger"],[1,"rols"],[1,"sets"],[1,"bottom"],[1,"deserts"],["href","/product/deserts"],[1,"drinks"],["href","/product/drinks"],[1,"drinks-18"],["href","/product/drinks-18"],[1,"noa-shop"],["href","/product/noa-shop"],[1,"sort-menu-mobile"],[1,"row"],[1,"left"],["href","/product/culinasia-special"],["src","https://noa.ua/wp-content/uploads/2023/01/ramen-kari-z-krevetkamy-4-350x350.webp","alt",""],[1,"right"],["href","/product/breakfast-18"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtsnidanky-350x350.webp","alt",""],["href","/product/support-dish"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtstartery-350x350.webp","alt",""],["href","/product/ramen"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtramen-350x350.webp","alt",""],["href","/product/asian-poke"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtasian-wok-350x350.webp","alt",""],["href","/product/sushi-burger"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtasian-poke-350x350.webp","alt",""],["href","/product/rols"],["src","https://noa.ua/wp-content/uploads/2023/04/tuna-sushi-burger-350x350.webp","alt",""],["href","/product/sets"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtroly-350x350.webp","alt",""],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtdeserty-350x350.webp","alt",""],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtnapoyi-350x350.webp","alt",""],[1,"main-products"],["class","first-product",4,"ngFor","ngForOf"],[1,"first-product"],[3,"href"],["width","300px","height","300px","alt","",3,"src"],[1,"info"],[1,"name"],[1,"weight"],[1,"description",2,"display","block"],[1,"order-btn",2,"color","white"]],template:function(r,i){1&r&&(y(0,"main"),Q(1,"div",0),y(2,"div",1)(3,"div",2)(4,"h1"),T(5),G(6,"translate"),y(7,"span",3),T(8),G(9,"translate"),E()()(),y(10,"div",4)(11,"div",5)(12,"div",6)(13,"div",7)(14,"p"),T(15,"Culinasia special"),E()(),y(16,"div",8)(17,"p",9),T(18),G(19,"translate"),E()(),y(20,"div",10)(21,"p"),T(22),G(23,"translate"),E()(),y(24,"div",11)(25,"p"),T(26),G(27,"translate"),E()(),y(28,"div",12)(29,"p"),T(30,"Asian Wok"),E()(),y(31,"div",13)(32,"p"),T(33,"Asian Poke"),E()(),y(34,"div",14)(35,"p"),T(36),G(37,"translate"),E()(),y(38,"div",15)(39,"p"),T(40),G(41,"translate"),E()(),y(42,"div",16)(43,"p"),T(44),G(45,"translate"),E()()(),y(46,"div",17)(47,"div",18)(48,"a",19),T(49),G(50,"translate"),E()(),y(51,"div",20)(52,"a",21),T(53),G(54,"translate"),E()(),y(55,"div",22)(56,"a",23),T(57),G(58,"translate"),E()(),y(59,"div",24)(60,"a",25),T(61," NOA shop "),E()()()()(),y(62,"div",26)(63,"div",27)(64,"div",28)(65,"a",29),Q(66,"img",30),y(67,"p"),T(68,"Culinasia special"),E()()(),y(69,"div",31)(70,"a",32),Q(71,"img",33),y(72,"p"),T(73),G(74,"translate"),E()()()(),y(75,"div",27)(76,"div",28)(77,"a",34),Q(78,"img",35),y(79,"p"),T(80),G(81,"translate"),E()()(),y(82,"div",31)(83,"a",36),Q(84,"img",37),y(85,"p"),T(86),G(87,"translate"),E()()()(),y(88,"div",27)(89,"div",28)(90,"a",38),Q(91,"img",39),y(92,"p"),T(93,"Asian Poke"),E()()(),y(94,"div",31)(95,"a",40),Q(96,"img",41),y(97,"p"),T(98),G(99,"translate"),E()()()(),y(100,"div",27)(101,"div",28)(102,"a",42),Q(103,"img",43),y(104,"p"),T(105),G(106,"translate"),E()()(),y(107,"div",31)(108,"a",44),Q(109,"img",45),y(110,"p"),T(111),G(112,"translate"),E()()()(),y(113,"div",27)(114,"div",28)(115,"a",19),Q(116,"img",46),y(117,"p"),T(118),G(119,"translate"),E()()(),y(120,"div",31)(121,"a",21),Q(122,"img",47),y(123,"p"),T(124),G(125,"translate"),E()()()()(),y(126,"div",48)(127,"div",5),Ke(128,fRe,13,5,"div",49),E()()()()),2&r&&(x(5),An(" ",H(6,21,"main-title-regular")," "),x(3),U(H(9,23,"main-title-green")),x(9),Le("routerLink",function qz(n,e,t){const r=Fr()+n,i=k();return i[r]===Ae?bs(i,r,t?e.call(t):e()):function dp(n,e){return n[e]}(i,r)}(59,pRe)),x(1),U(H(19,25,"starters")),x(4),U(H(23,27,"breakfast-text")),x(4),U(H(27,29,"ramen")),x(10),U(H(37,31,"sushi-burgers")),x(4),U(H(41,33,"rols")),x(4),U(H(45,35,"sets")),x(5),An(" ",H(50,37,"deserts")," "),x(4),An(" ",H(54,39,"drinks")," "),x(4),An(" ",H(58,41,"alcohol-drinks")," "),x(16),U(H(74,43,"breakfast-text")),x(7),U(H(81,45,"starters")),x(6),U(H(87,47,"ramen")),x(12),U(H(99,49,"sushi-burgers")),x(7),U(H(106,51,"rols")),x(6),U(H(112,53,"sets")),x(7),U(H(119,55,"deserts")),x(6),U(H(125,57,"drinks")),x(4),Le("ngForOf",i.currentProduct))},dependencies:[kp,kw,Ch],styles:["main[_ngcontent-%COMP%]   .section1[_ngcontent-%COMP%]{height:630px;width:100%;background-image:url(https://noa.ua/wp-content/uploads/2023/08/thai-site-banner-copy.png-nov-1550x630.png);background-position:50% 50%;background-repeat:no-repeat;background-attachment:scroll;background-size:cover}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:30px;font-family:Varela Round,sans-serif;margin-bottom:30px}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .asia-text[_ngcontent-%COMP%]{color:#2d7d7d}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:92%;background-color:#f5f5f5;height:94px;border-radius:6px;margin-bottom:30px}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex;justify-content:space-between}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:13px;width:130px;height:44px;display:flex;justify-content:center;align-items:center;font-family:Varela Round,sans-serif;color:#6d6d6d;font-size:14px;border-radius:6px;transition:.4s;margin-right:10px;cursor:pointer}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6d6d6d;text-decoration:none}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{font-size:13px;width:130px;height:44px;display:flex;justify-content:center;align-items:center;font-family:Varela Round,sans-serif;font-size:14px;border-radius:6px;transition:.4s;margin-right:10px;color:#fff;background-color:#2d7d7d}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#2d7d7d}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{display:flex}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-family:Varela Round,sans-serif;color:#6d6d6d;font-size:13px;height:44px;border-radius:6px;display:flex;justify-content:center;align-items:center;transition:.4s;margin-right:10px;padding:0 15px}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#fff;background-color:#2d7d7d}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .main-products[_ngcontent-%COMP%]{display:flex;justify-content:center}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:92%;display:flex;flex-wrap:wrap}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .first-product[_ngcontent-%COMP%]{width:316px;height:501px;transition:.4s;padding-left:10px;padding-right:10px;border-radius:5px;margin-right:20px}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .first-product[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{font-weight:600;display:flex;justify-content:space-between;margin-bottom:20px}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .first-product[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#6d6d6d;font-size:15px}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .first-product[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-all;white-space:normal}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .first-product[_ngcontent-%COMP%]:hover{box-shadow:1px 0 12px -6px #42445a}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order-btn[_ngcontent-%COMP%]{margin-top:20px;width:100%;height:40px;border:none;border-radius:5px;transition:.4s}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order-btn[_ngcontent-%COMP%]:hover{background-color:#2d7d7d;color:#fff}.sort-menu-mobile[_ngcontent-%COMP%]{display:none;width:100%;justify-content:center;text-align:center;font-weight:700;text-transform:uppercase;margin-bottom:20px}.sort-menu-mobile[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;margin-bottom:30px}.sort-menu-mobile[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .sort-menu-mobile[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-right:20px}.sort-menu-mobile[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .sort-menu-mobile[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:124px;width:124px}.sort-menu-mobile[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-right:0}@media screen and (max-width: 900px){.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{text-align:center}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .sort-menu[_ngcontent-%COMP%]{display:none}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .sort-menu-mobile[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .main-products[_ngcontent-%COMP%]{display:flex;justify-content:center}main[_ngcontent-%COMP%]   .section2[_ngcontent-%COMP%]   .main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:unset;display:flex;flex-wrap:wrap}}"]})}return n})();function mRe(n,e){if(1&n&&(y(0,"div",45)(1,"a",46),Q(2,"img",47),y(3,"div",48)(4,"p",49),T(5),E(),y(6,"p",50),T(7),E()(),y(8,"div",51)(9,"p"),T(10),G(11,"slice"),E()(),y(12,"button",52),T(13,"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438"),E()()()),2&n){const t=e.$implicit;x(1),_p("href","/products/",t.path,"",Es),x(1),Le("src",t.url,Es),x(3),U(t.name),x(2),U(t.weight),x(3),od("",iD(11,6,t.description,0,100),"",t.description.length>20?"...":"","")}}let _Re=(()=>{class n{constructor(t){this.activatedRoute=t,this.firebaseApp=Aa(),this.db=ym(this.firebaseApp),this.currentProduct=[]}ngOnInit(){var t=this;return _(function*(){const r=t.activatedRoute.snapshot.paramMap.get("category");yield t.get();for(let i=0;i<t.products.length;i++)t.products[i].category===r&&(console.log(r),t.currentProduct.push(t.products[i]),console.log(document.querySelector(`.${r}`)),document.querySelector(`.${r}`).classList.add("active"))})()}get(){var t=this;return _(function*(){const r=[],i=Im(mh(t.db,"products"));(yield bm(i)).forEach(o=>{const a=o.data();a.id=o.id,r.push(a)}),t.products=r})()}static#e=this.\u0275fac=function(r){return new(r||n)($(Ia))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-products"]],decls:127,vars:37,consts:[[1,"sort-menu"],[1,"container"],[1,"top"],[1,"culinasia-special"],["href","/product/culinasia-special"],[1,"support-dish"],["href","/product/support-dish"],[1,"breakfast-18"],["href","/product/breakfast-18"],[1,"ramen"],["href","/product/ramen"],[1,"asian-wok"],["href","/product/asian-wok"],[1,"asian-poke"],["href","/product/asian-poke"],[1,"sushi-burger"],["href","/product/sushi-burger"],[1,"rols"],["href","/product/rols"],[1,"sets"],["href","/product/sets"],[1,"bottom"],[1,"deserts"],["href","/product/deserts"],[1,"drinks"],["href","/product/drinks"],[1,"drinks-18"],["href","/product/drinks-18"],[1,"noa-shop"],["href","/product/noa-shop"],[1,"sort-menu-mobile"],[1,"row"],[1,"left"],["src","https://noa.ua/wp-content/uploads/2023/01/ramen-kari-z-krevetkamy-4-350x350.webp","alt",""],[1,"right"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtsnidanky-350x350.webp","alt",""],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtstartery-350x350.webp","alt",""],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtramen-350x350.webp","alt",""],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtasian-wok-350x350.webp","alt",""],["src","https://noa.ua/wp-content/uploads/2023/04/tuna-sushi-burger-350x350.webp","alt",""],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtroly-350x350.webp","alt",""],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtdeserty-350x350.webp","alt",""],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtnapoyi-350x350.webp","alt",""],[1,"main-products"],["class","first-product",4,"ngFor","ngForOf"],[1,"first-product"],[3,"href"],["width","300px","height","300px","alt","",3,"src"],[1,"info"],[1,"name"],[1,"weight"],[1,"description"],[1,"order-btn",2,"color","white"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p")(5,"a",4),T(6,"Culinasia special"),E()()(),y(7,"div",5)(8,"p")(9,"a",6),T(10),G(11,"translate"),E()()(),y(12,"div",7)(13,"p")(14,"a",8),T(15),G(16,"translate"),E()()(),y(17,"div",9)(18,"p")(19,"a",10),T(20),G(21,"translate"),E()()(),y(22,"div",11)(23,"p")(24,"a",12),T(25,"Asian Wok"),E()()(),y(26,"div",13)(27,"p")(28,"a",14),T(29,"Asian Poke"),E()()(),y(30,"div",15)(31,"p")(32,"a",16),T(33),G(34,"translate"),E()()(),y(35,"div",17)(36,"p")(37,"a",18),T(38,"\u0420\u043e\u043b\u0438"),E()()(),y(39,"div",19)(40,"p")(41,"a",20),T(42,"C\u0435\u0442\u0438"),E()()()(),y(43,"div",21)(44,"div",22)(45,"p")(46,"a",23),T(47,"\u0414\u0435\u0441\u0435\u0440\u0442\u0438"),E()()(),y(48,"div",24)(49,"p")(50,"a",25),T(51,"\u041d\u0430\u043f\u043e\u0457"),E()()(),y(52,"div",26)(53,"p")(54,"a",27),T(55,"\u0410\u043b\u043a\u043e\u0433\u043e\u043b\u044c\u043d\u0456 \u043d\u0430\u043f\u043e\u0457 18+"),E()()(),y(56,"div",28)(57,"p")(58,"a",29),T(59,"NOA shop"),E()()()()()(),y(60,"div",30)(61,"div",31)(62,"div",32)(63,"a",4),Q(64,"img",33),y(65,"p"),T(66,"Culinasia special"),E()()(),y(67,"div",34)(68,"a",8),Q(69,"img",35),y(70,"p"),T(71),G(72,"translate"),E()()()(),y(73,"div",31)(74,"div",32)(75,"a",6),Q(76,"img",36),y(77,"p"),T(78),G(79,"translate"),E()()(),y(80,"div",34)(81,"a",10),Q(82,"img",37),y(83,"p"),T(84),G(85,"translate"),E()()()(),y(86,"div",31)(87,"div",32)(88,"a",14),Q(89,"img",38),y(90,"p"),T(91,"Asian Poke"),E()()(),y(92,"div",34)(93,"a",16),Q(94,"img",39),y(95,"p"),T(96),G(97,"translate"),E()()()(),y(98,"div",31)(99,"div",32)(100,"a",18),Q(101,"img",39),y(102,"p"),T(103),G(104,"translate"),E()()(),y(105,"div",34)(106,"a",20),Q(107,"img",40),y(108,"p"),T(109),G(110,"translate"),E()()()(),y(111,"div",31)(112,"div",32)(113,"a",23),Q(114,"img",41),y(115,"p"),T(116),G(117,"translate"),E()()(),y(118,"div",34)(119,"a",25),Q(120,"img",42),y(121,"p"),T(122),G(123,"translate"),E()()()()(),y(124,"div",43)(125,"div",1),Ke(126,mRe,14,10,"div",44),E()()),2&r&&(x(10),U(H(11,13,"starters")),x(5),U(H(16,15,"breakfast-text")),x(5),U(H(21,17,"ramen")),x(13),U(H(34,19,"sushi-burgers")),x(38),U(H(72,21,"breakfast-text")),x(7),U(H(79,23,"starters")),x(6),U(H(85,25,"ramen")),x(12),U(H(97,27,"sushi-burgers")),x(7),U(H(104,29,"rols")),x(6),U(H(110,31,"sets")),x(7),U(H(117,33,"deserts")),x(6),U(H(123,35,"drinks")),x(4),Le("ngForOf",i.currentProduct))},dependencies:[kp,JD,Ch],styles:[".sort-menu[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:50px}.sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:92%;background-color:#f5f5f5;height:94px;border-radius:6px;margin-bottom:30px}.sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:13px;width:130px;height:44px;display:flex;justify-content:center;align-items:center;font-family:Varela Round,sans-serif;color:#6d6d6d;font-size:14px;border-radius:6px;transition:.4s;margin-right:10px;cursor:pointer}.sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6d6d6d;text-decoration:none}.sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#2d7d7d}.sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{display:flex}.sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-family:Varela Round,sans-serif;color:#6d6d6d;font-size:13px;height:44px;border-radius:6px;display:flex;justify-content:center;align-items:center;transition:.4s;margin-right:10px;padding:0 15px}.sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6d6d6d;text-decoration:none}.sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.sort-menu[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#fff;background-color:#2d7d7d}.main-products[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center}.main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:92%;display:flex;flex-wrap:wrap}.main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .first-product[_ngcontent-%COMP%]{padding-top:10px;width:316px;height:501px;transition:.4s;padding-left:10px;padding-right:10px;border-radius:5px;margin-right:20px}.main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .first-product[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{font-weight:600;display:flex;justify-content:space-between;margin-bottom:20px}.main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .first-product[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#6d6d6d;font-size:15px}.main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .first-product[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-all;white-space:normal}.main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .first-product[_ngcontent-%COMP%]:hover{box-shadow:1px 0 12px -6px #42445a}.main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order-btn[_ngcontent-%COMP%]{margin-top:20px;width:100%;height:40px;border:none;border-radius:5px;transition:.4s}.main-products[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order-btn[_ngcontent-%COMP%]:hover{background-color:#2d7d7d;color:#fff}.active[_ngcontent-%COMP%]{font-size:13px;height:44px;display:flex;justify-content:center;align-items:center;font-family:Varela Round,sans-serif;font-size:14px;border-radius:6px;transition:.4s;margin-right:10px;color:#fff;background-color:#2d7d7d}.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none}.sort-menu-mobile[_ngcontent-%COMP%]{display:none;width:100%;justify-content:center;text-align:center;font-weight:700;text-transform:uppercase;margin-bottom:20px}.sort-menu-mobile[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;margin-bottom:30px}.sort-menu-mobile[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .sort-menu-mobile[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-right:20px}.sort-menu-mobile[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .sort-menu-mobile[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:124px;width:124px}.sort-menu-mobile[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-right:0}@media screen and (max-width: 900px){.sort-menu[_ngcontent-%COMP%]{display:none}.sort-menu-mobile[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-direction:column;align-items:center}}"]})}return n})(),yRe=(()=>{class n{constructor(t){this.activatedRoute=t,this.firebaseApp=Aa(),this.db=ym(this.firebaseApp),this.basket=[]}ngOnInit(){var t=this;return _(function*(){const r=t.activatedRoute.snapshot.paramMap.get("path");yield t.get();for(let i=0;i<t.products.length;i++)t.products[i].path===r&&(t.currentProduct=t.products[i])})()}get(){var t=this;return _(function*(){const r=[],i=Im(mh(t.db,"products"));(yield bm(i)).forEach(o=>{const a=o.data();a.id=o.id,r.push(a)}),t.products=r})()}addToCart(){this.currentProduct.count=1,console.log(this.currentProduct);for(let t=0;t<this.basket.length;t++)this.basket[t]==this.currentProduct&&1===this.currentProduct.count?(this.currentProduct.count++,console.log("mhm")):console.log("yes");this.basket.push(this.currentProduct),console.log(this.basket),localStorage.setItem("basket",JSON.stringify(this.basket))}static#e=this.\u0275fac=function(r){return new(r||n)($(Ia))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-product-info"]],decls:14,vars:4,consts:[[1,"container"],[1,"image"],["alt","",3,"src"],[1,"description"],[1,"weight"],[1,"name"],[1,"add-to-cart",3,"click"],[1,"quick-order"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div",1),Q(2,"img",2),E(),y(3,"div",3)(4,"p",4),T(5),E(),y(6,"p",5),T(7),E(),y(8,"p",3),T(9),E(),y(10,"button",6),ut("click",function(){return i.addToCart()}),T(11,"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432 \u043a\u043e\u0448\u0438\u043a"),E(),y(12,"button",7),T(13,"\u0428\u0432\u0438\u0434\u043a\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"),E()()()),2&r&&(x(2),Le("src",i.currentProduct.url,Es),x(3),U(i.currentProduct.weight),x(2),U(i.currentProduct.name),x(2),U(i.currentProduct.description))},styles:[".image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75%}.container[_ngcontent-%COMP%]{padding-top:50px;width:100%;display:flex;justify-content:center}.description[_ngcontent-%COMP%]{width:50%}.description[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%]{color:#2d2c2c;font-size:16px;margin-bottom:20px}.description[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:42px;font-weight:500}.description[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{margin-top:50px;color:#fff;background-color:#2d7d7d;border:2px solid #2d7d7d;border-radius:6px;padding:18px 30px;margin-right:30px;transition:.4s;font-weight:600}.description[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]:hover{background-color:transparent;color:#2d7d7d}.description[_ngcontent-%COMP%]   .quick-order[_ngcontent-%COMP%]{margin-top:50px;color:#2d7d7d;background:#fff;border:2px solid #2d7d7d;border-radius:6px;padding:18px 30px;transition:.4s;font-weight:600}.description[_ngcontent-%COMP%]   .quick-order[_ngcontent-%COMP%]:hover{background-color:#2d7d7d;color:#fff}@media screen and (max-width: 600px){.container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center;padding:0 20px}.container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{margin-top:20px;margin-right:0}.container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .quick-order[_ngcontent-%COMP%]{margin-top:20px}}"]})}return n})(),xk=(()=>{class n{constructor(t){this.router=t}canActivate(){const t=JSON.parse(localStorage.getItem("currentUser"));return!(!t||"ADMIN"!==t.role&&"USER"!==t.role)||(this.router.navigate([""]),!1)}static#e=this.\u0275fac=function(r){return new(r||n)(C(tr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vRe=(()=>{class n{constructor(t){this.router=t,this.auth=mg()}ngOnInit(){const t=JSON.parse(localStorage.getItem("currentUser")||"{}");console.log("currentUser",t),this.name=t.firstName,this.lastName=t.lastName,this.email=t.email}logout(){TP(this.auth).then(()=>{this.router.navigate(["/"]),localStorage.removeItem("currentUser"),window.location.reload()}).catch(t=>{console.error(t)})}static#e=this.\u0275fac=function(r){return new(r||n)($(tr))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-cabinet"]],decls:7,vars:3,consts:[[1,"container"],[1,"log-out-btn",3,"click"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"p"),T(2),E(),y(3,"p"),T(4),E(),y(5,"button",1),ut("click",function(){return i.logout()}),T(6,"log out"),E()()),2&r&&(x(2),U(i.email),x(2),od("",i.name," ",i.lastName,""))},styles:[".container[_ngcontent-%COMP%]{width:700px;height:350px;background-color:#fff;box-shadow:-2px 6px 18px 2px #42445a;border-radius:10px;position:relative;inset:0;margin:50px auto;display:flex;align-items:center;justify-content:center;flex-direction:column;font-size:20px;line-height:20px;box-sizing:border-box;line-height:30px}.log-out-btn[_ngcontent-%COMP%]{width:200px;height:40px;border-radius:10px;background-color:transparent;border:1px solid #000;margin-top:20px;transition:.4s}.log-out-btn[_ngcontent-%COMP%]:hover{background-color:#2d7d7d;color:#fff;border:1px solid transparent}"]})}return n})();function wRe(n,e){1&n&&(y(0,"p"),T(1),G(2,"translate"),E()),2&n&&(x(1),U(H(2,1,"cart-text")))}function ERe(n,e){if(1&n&&(y(0,"div",6)(1,"p"),T(2),E()()),2&n){const t=e.$implicit;x(2),HA("",t.name," ",t.weight," ",t.price,"\u0413\u0420\u041d")}}const IRe=[{path:"",component:gRe},{path:"admin",canActivate:[xk],component:oRe},{path:"add-product",canActivate:[xk],component:sRe},{path:"product/:category",component:_Re},{path:"delivery",component:lRe},{path:"products/:path",component:yRe},{path:"cabinet",component:vRe,canActivate:[xk]},{path:"basket",component:(()=>{class n{constructor(){this.totalPrice=0,this.showCart=!0}ngOnInit(){this.basket=JSON.parse(localStorage.getItem("basket")||"{}"),console.log(this.basket),this.basket.length||(this.showCart=!1);for(let t=0;t<this.basket.length;t++)this.totalPrice+=+this.basket[t].price}clearCart(){localStorage.removeItem("basket")}order(){this.clearCart(),this.basket=""}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-basket"]],decls:10,vars:9,consts:[[1,"container"],[4,"ngIf"],[1,"test"],["class","product",4,"ngFor","ngForOf"],[1,"total-price"],[1,"check-out",3,"click"],[1,"product"]],template:function(r,i){1&r&&(y(0,"div",0),Ke(1,wRe,3,3,"p",1),y(2,"div",2),Ke(3,ERe,3,3,"div",3),E(),y(4,"p",4),T(5),G(6,"translate"),E(),y(7,"button",5),ut("click",function(){return i.order()}),T(8),G(9,"translate"),E()()),2&r&&(x(1),Le("ngIf",!i.showCart),x(2),Le("ngForOf",i.basket),x(2),od("",H(6,5,"price")," ",i.totalPrice,"\u0413\u0420\u041d"),x(3),U(H(9,7,"order")))},dependencies:[kp,zc,Ch],styles:[".container[_ngcontent-%COMP%]{width:700px;height:350px;background-color:#fff;box-shadow:-2px 6px 18px 2px #42445a;border-radius:10px;inset:0;margin:50px auto;display:flex;align-items:center;justify-content:center;flex-direction:column;font-size:20px;line-height:20px;box-sizing:border-box;line-height:30px;position:relative}.container[_ngcontent-%COMP%]   .test[_ngcontent-%COMP%]{overflow-y:scroll}.container[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:20px}.container[_ngcontent-%COMP%]   .check-out[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]{width:96vw}}"]})}return n})()}];let TRe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({imports:[c7.forRoot(IRe),c7]})}return n})();class bRe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function CRe(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Pk="@firebase/app",Cu=new Ao("@firebase/app"),kI="[DEFAULT]",XRe={[Pk]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Au=new Map,OI=new Map;function JRe(n,e){try{n.container.addComponent(e)}catch(t){Cu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ah(n){const e=n.name;if(OI.has(e))return Cu.debug(`There were multiple attempts to register component ${e}.`),!1;OI.set(e,n);for(const t of Au.values())JRe(t,n);return!0}const $o=new ri("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class t1e{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}const NI="9.23.0";function cY(){return Array.from(Au.values())}function Hi(n,e,t){var r;let i=null!==(r=XRe[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Cu.warn(a.join(" "))}Ah(new Rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const i1e="firebase-heartbeat-database",s1e=1,Rm="firebase-heartbeat-store";let Mk=null;function uY(){return Mk||(Mk=S7(i1e,s1e,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Rm)}}).catch(n=>{throw $o.create("idb-open",{originalErrorMessage:n.message})})),Mk}function kk(){return kk=_(function*(n){try{return yield(yield uY()).transaction(Rm).objectStore(Rm).get(dY(n))}catch(e){if(e instanceof On)Cu.warn(e.message);else{const t=$o.create("idb-get",{originalErrorMessage:e?.message});Cu.warn(t.message)}}}),kk.apply(this,arguments)}function lY(n,e){return Ok.apply(this,arguments)}function Ok(){return Ok=_(function*(n,e){try{const r=(yield uY()).transaction(Rm,"readwrite");yield r.objectStore(Rm).put(e,dY(n)),yield r.done}catch(t){if(t instanceof On)Cu.warn(t.message);else{const r=$o.create("idb-set",{originalErrorMessage:t?.message});Cu.warn(r.message)}}}),Ok.apply(this,arguments)}function dY(n){return`${n.name}!${n.options.appId}`}class u1e{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new d1e(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=hY();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=hY(),{heartbeatsToSend:r,unsentEntries:i}=function l1e(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fY(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),fY(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Td(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function hY(){return(new Date).toISOString().substring(0,10)}class d1e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!Ta()&&bd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function o1e(n){return kk.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return lY(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return lY(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function fY(n){return Td(JSON.stringify({version:2,heartbeats:n})).length}!function h1e(n){Ah(new Rt("platform-logger",e=>new bRe(e),"PRIVATE")),Ah(new Rt("heartbeat",e=>new u1e(e),"PRIVATE")),Hi(Pk,"0.9.13",n),Hi(Pk,"0.9.13","esm2017"),Hi("fire-js","")}(""),Hi("firebase","9.23.0","app");const g1e=(n,e)=>e.some(t=>n instanceof t);let pY,gY;const mY=new WeakMap,Nk=new WeakMap,_Y=new WeakMap,Lk=new WeakMap,Fk=new WeakMap;let Vk={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Nk.get(n);if("objectStoreNames"===e)return n.objectStoreNames||_Y.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ya(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function I1e(n){return"function"==typeof n?function E1e(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _1e(){return gY||(gY=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Uk(this),e),Ya(mY.get(this))}:function(...e){return Ya(n.apply(Uk(this),e))}:function(e,...t){const r=n.call(Uk(this),e,...t);return _Y.set(r,e.sort?e.sort():[e]),Ya(r)}}(n):(n instanceof IDBTransaction&&function v1e(n){if(Nk.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Nk.set(n,e)}(n),g1e(n,function m1e(){return pY||(pY=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Vk):n)}function Ya(n){if(n instanceof IDBRequest)return function y1e(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ya(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&mY.set(t,n)}).catch(()=>{}),Fk.set(e,n),e}(n);if(Lk.has(n))return Lk.get(n);const e=I1e(n);return e!==n&&(Lk.set(n,e),Fk.set(e,n)),e}const Uk=n=>Fk.get(n),b1e=["get","getKey","getAll","getAllKeys","count"],C1e=["put","add","delete","clear"],Bk=new Map;function yY(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Bk.get(e))return Bk.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=C1e.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b1e.includes(t))return;const s=function(){var o=_(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return Bk.set(e,s),s}!function w1e(n){Vk=n(Vk)}(n=>({...n,get:(e,t,r)=>yY(e,t)||n.get(e,t,r),has:(e,t)=>!!yY(e,t)||n.has(e,t)}));const vY="@firebase/installations",jk="0.6.4",wY=1e4,EY=`w:${jk}`,IY="FIS_v2",A1e="https://firebaseinstallations.googleapis.com/v1",D1e=36e5,zo=new ri("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function TY(n){return n instanceof On&&n.code.includes("request-failed")}function $k({projectId:n}){return`${A1e}/projects/${n}/installations`}function bY(n){return{token:n.token,requestStatus:2,expiresIn:R1e(n.expiresIn),creationTime:Date.now()}}function zk(n,e){return Gk.apply(this,arguments)}function Gk(){return Gk=_(function*(n,e){const r=(yield e.json()).error;return zo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),Gk.apply(this,arguments)}function CY({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Hk(n){return qk.apply(this,arguments)}function qk(){return qk=_(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e}),qk.apply(this,arguments)}function R1e(n){return Number(n.replace("s","000"))}function Wk(){return Wk=_(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=$k(n),i=CY(n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:IY,appId:n.appId,sdkVersion:EY})},c=yield Hk(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:bY(u.authToken)}}throw yield zk("Create Installation",c)}),Wk.apply(this,arguments)}function DY(n){return new Promise(e=>{setTimeout(e,n)})}const N1e=/^[cdef][\w-]{21}$/,Kk="";function L1e(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function F1e(n){return function O1e(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return N1e.test(t)?t:Kk}catch{return Kk}}function Dh(n){return`${n.appName}!${n.appId}`}const Sh=new Map;function SY(n,e){const t=Dh(n);xY(t,e),function B1e(n,e){const t=function PY(){return!Du&&"BroadcastChannel"in self&&(Du=new BroadcastChannel("[Firebase] FID Change"),Du.onmessage=n=>{xY(n.data.key,n.data.fid)}),Du}();t&&t.postMessage({key:n,fid:e}),function RY(){0===Sh.size&&Du&&(Du.close(),Du=null)}()}(t,e)}function xY(n,e){const t=Sh.get(n);if(t)for(const r of t)r(e)}let Du=null;const j1e="firebase-installations-database",$1e=1,Su="firebase-installations-store";let Qk=null;function Yk(){return Qk||(Qk=function T1e(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Ya(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ya(o.result),c.oldVersion,c.newVersion,Ya(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(j1e,$1e,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Su)}})),Qk}function LI(n,e){return Xk.apply(this,arguments)}function Xk(){return Xk=_(function*(n,e){const t=Dh(n),i=(yield Yk()).transaction(Su,"readwrite"),s=i.objectStore(Su),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&SY(n,e.fid),e}),Xk.apply(this,arguments)}function Jk(n){return Zk.apply(this,arguments)}function Zk(){return Zk=_(function*(n){const e=Dh(n),r=(yield Yk()).transaction(Su,"readwrite");yield r.objectStore(Su).delete(e),yield r.done}),Zk.apply(this,arguments)}function Mm(n,e){return eO.apply(this,arguments)}function eO(){return eO=_(function*(n,e){const t=Dh(n),i=(yield Yk()).transaction(Su,"readwrite"),s=i.objectStore(Su),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&SY(n,a.fid),a}),eO.apply(this,arguments)}function tO(n){return nO.apply(this,arguments)}function nO(){return nO=_(function*(n){let e;const t=yield Mm(n.appConfig,r=>{const i=function z1e(n){return kY(n||{fid:L1e(),registrationStatus:0})}(r),s=function G1e(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(zo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function H1e(n,e){return rO.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:q1e(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===Kk?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),nO.apply(this,arguments)}function rO(){return rO=_(function*(n,e){try{const t=yield function k1e(n,e){return Wk.apply(this,arguments)}(n,e);return LI(n.appConfig,t)}catch(t){throw TY(t)&&409===t.customData.serverCode?yield Jk(n.appConfig):yield LI(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),rO.apply(this,arguments)}function q1e(n){return iO.apply(this,arguments)}function iO(){return iO=_(function*(n){let e=yield MY(n.appConfig);for(;1===e.registrationStatus;)yield DY(100),e=yield MY(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield tO(n);return r||t}return e}),iO.apply(this,arguments)}function MY(n){return Mm(n,e=>{if(!e)throw zo.create("installation-not-found");return kY(e)})}function kY(n){return function W1e(n){return 1===n.registrationStatus&&n.registrationTime+wY<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function sO(){return sO=_(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function Q1e(n,{fid:e}){return`${$k(n)}/${e}/authTokens:generate`}(n,t),i=function AY(n,{refreshToken:e}){const t=CY(n);return t.append("Authorization",function M1e(n){return`${IY} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:EY,appId:n.appId}})},c=yield Hk(()=>fetch(r,a));if(c.ok)return bY(yield c.json());throw yield zk("Generate Auth Token",c)}),sO.apply(this,arguments)}function oO(n){return aO.apply(this,arguments)}function aO(){return aO=_(function*(n,e=!1){let t;const r=yield Mm(n.appConfig,s=>{if(!NY(s))throw zo.create("not-registered");const o=s.authToken;if(!e&&function J1e(n){return 2===n.requestStatus&&!function Z1e(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+D1e}(n)}(o))return s;if(1===o.requestStatus)return t=function Y1e(n,e){return cO.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw zo.create("app-offline");const a=function eMe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function X1e(n,e){return uO.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),aO.apply(this,arguments)}function cO(){return cO=_(function*(n,e){let t=yield OY(n.appConfig);for(;1===t.authToken.requestStatus;)yield DY(100),t=yield OY(n.appConfig);const r=t.authToken;return 0===r.requestStatus?oO(n,e):r}),cO.apply(this,arguments)}function OY(n){return Mm(n,e=>{if(!NY(e))throw zo.create("not-registered");return function tMe(n){return 1===n.requestStatus&&n.requestTime+wY<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function uO(){return uO=_(function*(n,e){try{const t=yield function K1e(n,e){return sO.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield LI(n.appConfig,r),t}catch(t){if(!TY(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield LI(n.appConfig,r)}else yield Jk(n.appConfig);throw t}}),uO.apply(this,arguments)}function NY(n){return void 0!==n&&2===n.registrationStatus}function lO(){return lO=_(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield tO(e);return r?r.catch(console.error):oO(e).catch(console.error),t.fid}),lO.apply(this,arguments)}function dO(){return dO=_(function*(n,e=!1){const t=n;return yield function iMe(n){return hO.apply(this,arguments)}(t),(yield oO(t,e)).token}),dO.apply(this,arguments)}function hO(){return hO=_(function*(n){const{registrationPromise:e}=yield tO(n);e&&(yield e)}),hO.apply(this,arguments)}function gO(n){return zo.create("missing-app-config-values",{valueName:n})}const LY="installations",uMe=n=>{const e=n.getProvider("app").getImmediate(),t=function aMe(n){if(!n||!n.options)throw gO("App Configuration");if(!n.name)throw gO("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw gO(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Jc(e,"heartbeat"),_delete:()=>Promise.resolve()}},lMe=n=>{const t=Jc(n.getProvider("app").getImmediate(),LY).getImmediate();return{getId:()=>function nMe(n){return lO.apply(this,arguments)}(t),getToken:i=>function rMe(n){return dO.apply(this,arguments)}(t,i)}};(function dMe(){Er(new Rt(LY,uMe,"PUBLIC")),Er(new Rt("installations-internal",lMe,"PRIVATE"))})(),Dn(vY,jk),Dn(vY,jk,"esm2017");const mO="@firebase/remote-config",ci=new ri("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class IMe{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return _(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function TMe(n=navigator){return n.languages&&n.languages[0]||n.language}class bMe{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return _(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:TMe()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(o,u),d=new Promise((w,v)=>{e.signal.addEventListener(()=>{const I=new Error("The operation was aborted.");I.name="AbortError",v(I)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let v="fetch-client-network";throw"AbortError"===w?.name&&(v="fetch-timeout"),ci.create(v,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let w;try{w=yield h.json()}catch(v){throw ci.create("fetch-client-parse",{originalErrorMessage:v?.message})}g=w.entries,m=w.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw ci.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class DMe{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return _(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return _(function*(){yield function CMe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(ci.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function AMe(n){if(!(n instanceof On&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+BS(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class PMe{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function VI(n,e){const t=n.target.error||void 0;return ci.create(e,{originalErrorMessage:t&&t?.message})}const xu="app_namespace_store";class OMe{constructor(e,t,r,i=function kMe(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(VI(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(xu,{keyPath:"compositeKey"})}}catch(t){e(ci.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([xu],"readonly").objectStore(xu),c=t.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{s(VI(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){s(ci.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,t){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([xu],"readwrite").objectStore(xu),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:t});l.onerror=d=>{o(VI(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(ci.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([xu],"readwrite").objectStore(xu),c=t.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{s(VI(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(ci.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class NMe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function FMe(){return EO.apply(this,arguments)}function EO(){return(EO=_(function*(){if(!Ta())return!1;try{return yield bd()}catch{return!1}})).apply(this,arguments)}!function LMe(){Er(new Rt("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ci.create("registration-window");if(!Ta())throw ci.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw ci.create("registration-project-id");if(!o)throw ci.create("registration-api-key");if(!a)throw ci.create("registration-app-id");const c=new OMe(a,r.name,t=t||"firebase"),u=new NMe(c),l=new Ao(mO);l.logLevel=Re.ERROR;const d=new bMe(i,Ca,t,s,o,a),h=new DMe(d,c),f=new IMe(h,c,u,l),p=new PMe(r,f,u,c,l);return function vMe(n){const e=rt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Dn(mO,"0.4.4"),Dn(mO,"0.4.4","esm2017")}();const VMe=(n,e)=>e.some(t=>n instanceof t);let BY,jY;const $Y=new WeakMap,IO=new WeakMap,zY=new WeakMap,TO=new WeakMap,bO=new WeakMap;let CO={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return IO.get(n);if("objectStoreNames"===e)return n.objectStoreNames||zY.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Go(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function HMe(n){return"function"==typeof n?function GMe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function BMe(){return jY||(jY=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(AO(this),e),Go($Y.get(this))}:function(...e){return Go(n.apply(AO(this),e))}:function(e,...t){const r=n.call(AO(this),e,...t);return zY.set(r,e.sort?e.sort():[e]),Go(r)}}(n):(n instanceof IDBTransaction&&function $Me(n){if(IO.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});IO.set(n,e)}(n),VMe(n,function UMe(){return BY||(BY=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,CO):n)}function Go(n){if(n instanceof IDBRequest)return function jMe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Go(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&$Y.set(t,n)}).catch(()=>{}),bO.set(e,n),e}(n);if(TO.has(n))return TO.get(n);const e=HMe(n);return e!==n&&(TO.set(n,e),bO.set(e,n)),e}const AO=n=>bO.get(n);function GY(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Go(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Go(o.result),c.oldVersion,c.newVersion,Go(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function DO(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Go(t).then(()=>{})}const qMe=["get","getKey","getAll","getAllKeys","count"],WMe=["put","add","delete","clear"],SO=new Map;function HY(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(SO.get(e))return SO.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=WMe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!qMe.includes(t))return;const s=function(){var o=_(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return SO.set(e,s),s}!function zMe(n){CO=n(CO)}(n=>({...n,get:(e,t,r)=>HY(e,t)||n.get(e,t,r),has:(e,t)=>!!HY(e,t)||n.has(e,t)}));const KMe="/firebase-messaging-sw.js",QMe="/firebase-cloud-messaging-push-scope",qY="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",YMe="https://fcmregistrations.googleapis.com/v1",WY="google.c.a.c_id",XMe="google.c.a.c_l",JMe="google.c.a.ts";var UI=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(UI||{});function Ho(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tke(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const xO="fcm_token_details_db",nke=5,KY="fcm_token_object_Store";function PO(){return PO=_(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(xO))return null;let e=null;return(yield GY(xO,nke,{upgrade:(r=_(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(KY))return;const u=a.objectStore(KY),l=yield u.index("fcmSenderId").get(n);if(yield u.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ho(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ho(d.auth),p256dh:Ho(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ho(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ho(d.auth),p256dh:Ho(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ho(d.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield DO(xO),yield DO("fcm_vapid_details_db"),yield DO("undefined"),function ike(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),PO.apply(this,arguments)}const ske="firebase-messaging-database",oke=1,Pu="firebase-messaging-store";let RO=null;function MO(){return RO||(RO=GY(ske,oke,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Pu)}})),RO}function QY(n){return kO.apply(this,arguments)}function kO(){return kO=_(function*(n){const e=FO(n),r=yield(yield MO()).transaction(Pu).objectStore(Pu).get(e);if(r)return r;{const i=yield function rke(n){return PO.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield OO(n,i),i}}),kO.apply(this,arguments)}function OO(n,e){return NO.apply(this,arguments)}function NO(){return NO=_(function*(n,e){const t=FO(n),i=(yield MO()).transaction(Pu,"readwrite");return yield i.objectStore(Pu).put(e,t),yield i.done,e}),NO.apply(this,arguments)}function LO(){return LO=_(function*(n){const e=FO(n),r=(yield MO()).transaction(Pu,"readwrite");yield r.objectStore(Pu).delete(e),yield r.done}),LO.apply(this,arguments)}function FO({appConfig:n}){return n.appId}const ar=new ri("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function uke(n,e){return VO.apply(this,arguments)}function VO(){return VO=_(function*(n,e){const t=yield $O(n),r=XY(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(jO(n.appConfig),i)).json()}catch(o){throw ar.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw ar.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw ar.create("token-subscribe-no-token");return s.token}),VO.apply(this,arguments)}function UO(){return UO=_(function*(n,e){const t=yield $O(n),r=XY(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${jO(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw ar.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw ar.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw ar.create("token-update-no-token");return s.token}),UO.apply(this,arguments)}function YY(n,e){return BO.apply(this,arguments)}function BO(){return BO=_(function*(n,e){const r={method:"DELETE",headers:yield $O(n)};try{const s=yield(yield fetch(`${jO(n.appConfig)}/${e}`,r)).json();if(s.error)throw ar.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw ar.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}}),BO.apply(this,arguments)}function jO({projectId:n}){return`${YMe}/projects/${n}/registrations`}function $O(n){return zO.apply(this,arguments)}function zO(){return zO=_(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}),zO.apply(this,arguments)}function XY({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==qY&&(i.web.applicationPubKey=r),i}const dke=6048e5;function GO(){return GO=_(function*(n){const e=yield function pke(n,e){return KO.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ho(e.getKey("auth")),p256dh:Ho(e.getKey("p256dh"))},r=yield QY(n.firebaseDependencies);if(r){if(function gke(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+dke?function fke(n,e){return qO.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield YY(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return ZY(n.firebaseDependencies,t)}return ZY(n.firebaseDependencies,t)}),GO.apply(this,arguments)}function HO(){return HO=_(function*(n){const e=yield QY(n.firebaseDependencies);e&&(yield YY(n.firebaseDependencies,e.token),yield function ake(n){return LO.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),HO.apply(this,arguments)}function qO(){return qO=_(function*(n,e){try{const t=yield function lke(n,e){return UO.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield OO(n.firebaseDependencies,r),t}catch(t){throw yield function JY(n){return HO.apply(this,arguments)}(n),t}}),qO.apply(this,arguments)}function ZY(n,e){return WO.apply(this,arguments)}function WO(){return WO=_(function*(n,e){const r={token:yield uke(n,e),createTime:Date.now(),subscriptionOptions:e};return yield OO(n,r),r.token}),WO.apply(this,arguments)}function KO(){return KO=_(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tke(e)})}),KO.apply(this,arguments)}function eX(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function mke(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function _ke(n,e){e.data&&(n.data=e.data)}(e,n),function yke(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function tX(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function QO(n){return ar.create("missing-app-config-values",{valueName:n})}tX("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tX("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Eke{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function wke(n){if(!n||!n.options)throw QO("App Configuration Object");if(!n.name)throw QO("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw QO(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function YO(){return YO=_(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(KMe,{scope:QMe}),n.swRegistration.update().catch(()=>{})}catch(e){throw ar.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}),YO.apply(this,arguments)}function XO(){return XO=_(function*(n,e){if(!e&&!n.swRegistration&&(yield function nX(n){return YO.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ar.create("invalid-sw-registration");n.swRegistration=e}}),XO.apply(this,arguments)}function JO(){return JO=_(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=qY)}),JO.apply(this,arguments)}function ZO(){return ZO=_(function*(n,e){if(!navigator)throw ar.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ar.create("permission-blocked");return yield function Tke(n,e){return JO.apply(this,arguments)}(n,e?.vapidKey),yield function Ike(n,e){return XO.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function hke(n){return GO.apply(this,arguments)}(n)}),ZO.apply(this,arguments)}function eN(){return eN=_(function*(n,e,t){const r=function Cke(n){switch(n){case UI.NOTIFICATION_CLICKED:return"notification_open";case UI.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[WY],message_name:t[XMe],message_time:t[JMe],message_device_time:Math.floor(Date.now()/1e3)})}),eN.apply(this,arguments)}function tN(){return tN=_(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===UI.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(eX(t)):n.onMessageHandler.next(eX(t)));const r=t.data;(function vke(n){return"object"==typeof n&&!!n&&WY in n})(r)&&"1"===r["google.c.a.e"]&&(yield function bke(n,e,t){return eN.apply(this,arguments)}(n,t.messageType,r))}),tN.apply(this,arguments)}const iX="@firebase/messaging",Dke=n=>{const e=new Eke(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Ake(n,e){return tN.apply(this,arguments)}(e,t)),e},Ske=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function rX(n,e){return ZO.apply(this,arguments)}(e,r)}};function oX(){return nN.apply(this,arguments)}function nN(){return(nN=_(function*(){try{yield bd()}catch{return!1}return typeof window<"u"&&Ta()&&FS()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xke(){Er(new Rt("messaging",Dke,"PUBLIC")),Er(new Rt("messaging-internal",Ske,"PRIVATE")),Dn(iX,"0.12.4"),Dn(iX,"0.12.4","esm2017")}();const BI="analytics",Mke="firebase_id",kke="origin",Oke=6e4,Nke="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sN="https://www.googletagmanager.com/gtag/js",Bn=new Ao("@firebase/analytics"),Wr=new ri("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Fke(n){if(!n.startsWith(sN)){const e=Wr.create("invalid-gtag-resource",{gtagURL:n});return Bn.warn(e.message),""}return n}function aX(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function oN(){return oN=_(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield aX(t)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Bn.error(a)}n("config",i,s)}),oN.apply(this,arguments)}function aN(){return aN=_(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield aX(t);for(const c of o){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Bn.error(s)}}),aN.apply(this,arguments)}const qke=30,cX=new class Kke{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Qke(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function cN(){return cN=_(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Qke(r)},s=Nke.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Wr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),cN.apply(this,arguments)}function uN(){return uN=_(function*(n,e=cX,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Wr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Wr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new eOe;return setTimeout(_(function*(){a.abort()}),void 0!==t?t:Oke),uX({appId:r,apiKey:i,measurementId:s},o,a,e)}),uN.apply(this,arguments)}function uX(n,e,t){return lN.apply(this,arguments)}function lN(){return lN=_(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=cX){var s;const{appId:o,measurementId:a}=n;try{yield function Jke(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function Yke(n){return cN.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!function Zke(n){if(!(n instanceof On&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(o),a)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw c}const l=503===Number(null===(s=u?.customData)||void 0===s?void 0:s.httpStatus)?BS(t,i.intervalMillis,qke):BS(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(o,d),Bn.debug(`Calling attemptFetch again in ${l} millis`),uX(n,d,r,i)}}),lN.apply(this,arguments)}class eOe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let dN,yN;function hN(){return hN=_(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}}),hN.apply(this,arguments)}function vN(){return vN=_(function*(){if(!Ta())return Bn.warn(Wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield bd()}catch(n){return Bn.warn(Wr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0}),vN.apply(this,arguments)}function wN(){return wN=_(function*(n,e,t,r,i,s,o){var a;const c=function Xke(n){return uN.apply(this,arguments)}(n);c.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Bn.error(f)),e.push(c);const u=function aOe(){return vN.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function Hke(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(sN)&&t.src.includes(n))return t;return null})(s)||function Uke(n,e){const t=function Vke(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Fke}),r=document.createElement("script"),i=`${sN}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),yN&&(i("consent","default",yN),function lX(n){yN=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[kke]="firebase",h.update=!0,null!=d&&(h[Mke]=d),i("config",l.measurementId,h),dN&&(i("set",dN),function dX(n){dN=n}(void 0)),l.measurementId}),wN.apply(this,arguments)}class uOe{constructor(e){this.app=e}_delete(){return delete Gs[this.app.options.appId],Promise.resolve()}}let Gs={},hX=[];const fX={};let gX,Hs,jI="dataLayer",EN=!1;function dOe(n,e,t){!function lOe(){const n=[];if(Fw()&&n.push("This is a browser extension environment."),FS()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Wr.create("invalid-analytics-context",{errorInfo:e});Bn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Wr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Wr.create("no-api-key");Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gs[r])throw Wr.create("already-exists",{id:r});if(!EN){!function Bke(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(jI);const{wrappedGtag:s,gtagCore:o}=function Gke(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function zke(n,e,t,r){function s(){return s=_(function*(o,...a){try{if("event"===o){const[c,u]=a;yield function $ke(n,e,t,r,i){return aN.apply(this,arguments)}(n,e,t,c,u)}else if("config"===o){const[c,u]=a;yield function jke(n,e,t,r,i,s){return oN.apply(this,arguments)}(n,e,t,r,c,u)}else if("consent"===o){const[c]=a;n("consent","update",c)}else if("get"===o){const[c,u,l]=a;n("get",c,u,l)}else if("set"===o){const[c]=a;n("set",c)}else n(o,...a)}catch(c){Bn.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Gs,hX,fX,jI,"gtag");Hs=s,gX=o,EN=!0}return Gs[r]=function cOe(n,e,t,r,i,s,o){return wN.apply(this,arguments)}(n,hX,fX,e,gX,jI,t),new uOe(n)}function fOe(){return IN.apply(this,arguments)}function IN(){return(IN=_(function*(){if(Fw()||!FS()||!Ta())return!1;try{return yield bd()}catch{return!1}})).apply(this,arguments)}const mX="@firebase/analytics";!function gOe(){Er(new Rt(BI,(e,{options:t})=>dOe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Er(new Rt("analytics-internal",function n(e){try{const t=e.getProvider(BI).getImmediate();return{logEvent:(r,i,s)=>function pOe(n,e,t,r){n=rt(n),function tOe(n,e,t,r,i){return hN.apply(this,arguments)}(Hs,Gs[n.app.options.appId],e,t,r).catch(i=>Bn.error(i))}(t,r,i,s)}}catch(t){throw Wr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Dn(mX,"0.10.0"),Dn(mX,"0.10.0","esm2017")}();class mOe extends Qn{constructor(e,t){super()}schedule(e,t=0){return this}}const $I={setInterval(n,e,...t){const{delegate:r}=$I;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=$I;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class zI extends mOe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return $I.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&$I.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,gl(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class km{constructor(e,t=km.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}km.now=Ik.now;class GI extends km{constructor(e,t=km.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const vOe=new class yOe extends GI{}(class _Oe extends zI{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),HI=new GI(zI),wOe=HI,bN=new Lc("7.6.1"),CN="__angularfire_symbol__analyticsIsSupportedValue",AN="__angularfire_symbol__analyticsIsSupported",DN="__angularfire_symbol__remoteConfigIsSupportedValue",SN="__angularfire_symbol__remoteConfigIsSupported",xN="__angularfire_symbol__messagingIsSupportedValue",PN="__angularfire_symbol__messagingIsSupported";globalThis[AN]||(globalThis[AN]=fOe().then(n=>globalThis[CN]=n).catch(()=>globalThis[CN]=!1)),globalThis[PN]||(globalThis[PN]=oX().then(n=>globalThis[xN]=n).catch(()=>globalThis[xN]=!1)),globalThis[SN]||(globalThis[SN]=FMe().then(n=>globalThis[DN]=n).catch(()=>globalThis[DN]=!1));const WI=(n,e)=>{const t=e?[e]:cY(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function xh(){}class yX{constructor(e,t=vOe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class EOe{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xh,{},xh,xh)),t.pipe(er({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vX=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new yX(Zone.current)),this.insideAngular=t.run(()=>new yX(Zone.current,HI)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(C(ye))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ru(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Mu(n){return Ru().ngZone.run(()=>n())}function TOe(n){return Ru(),function bOe(n){return function(t){return(t=t.lift(new EOe(n.ngZone))).pipe(vy(n.outsideAngular),yy(n.insideAngular))}}(Ru())(n)}const COe=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Mu(()=>n.apply(void 0,r))},wX=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Mu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xh,{},xh,xh)))),r[s]=COe(r[s],t));const i=function IOe(n){return Ru().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof ht){const s=Ru();return i.pipe(vy(s.outsideAngular),yy(s.insideAngular))}return Mu(()=>i)}return i instanceof ht?i.pipe(TOe):i instanceof Promise?Mu(()=>new Promise((s,o)=>i.then(a=>Mu(()=>s(a)),a=>Mu(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Mu(()=>i)};class ku{constructor(e){return e}}class EX{constructor(){return cY()}}const MN=new j("angularfire2._apps"),DOe={provide:ku,useFactory:function AOe(n){return n&&1===n.length?n[0]:new ku(function r1e(n=kI){const e=Au.get(n);if(!e&&n===kI&&Nw())return function n1e(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:kI,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw $o.create("bad-app-name",{appName:String(i)});if(t||(t=Nw()),!t)throw $o.create("no-options");const s=Au.get(i);if(s){if(Cd(t,s.options)&&Cd(r,s.config))return s;throw $o.create("duplicate-app",{appName:i})}const o=new I7(i);for(const c of OI.values())o.addComponent(c);const a=new t1e(t,r,o);return Au.set(i,a),a}();if(!e)throw $o.create("no-app",{appName:n});return e}())},deps:[[new mr,MN]]},SOe={provide:EX,deps:[[new mr,MN]]};function xOe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ku(r)}}let POe=(()=>{class n{constructor(t){Hi("angularfire",bN.full,"core"),Hi("angularfire",bN.full,"app"),Hi("angular",a5.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(C(Is))},n.\u0275mod=Vt({type:n}),n.\u0275inj=St({providers:[DOe,SOe]}),n})();function ROe(n,...e){return{ngModule:POe,providers:[{provide:MN,useFactory:xOe(n),multi:!0,deps:[ye,Bt,vX,...e]}]}}var ne,MOe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},us={},kN=kN||{},Ce=MOe||self;function KI(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Om(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ON="closure_uid_"+(1e9*Math.random()>>>0),OOe=0;function NOe(n,e,t){return n.call.apply(n.bind,arguments)}function LOe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Dr(n,e,t){return(Dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?NOe:LOe).apply(null,arguments)}function QI(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function jn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Xa(){this.s=this.s,this.o=this.o}Xa.prototype.s=!1,Xa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function kOe(n){Object.prototype.hasOwnProperty.call(n,ON)&&n[ON]||(n[ON]=++OOe)}(this)},Xa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const IX=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function NN(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function TX(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(KI(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Sr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Sr.prototype.h=function(){this.defaultPrevented=!0};var VOe=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ce.addEventListener("test",()=>{},e),Ce.removeEventListener("test",()=>{},e)}catch{}return n}();function Nm(n){return/^[\s\xa0]*$/.test(n)}function YI(){var n=Ce.navigator;return n&&(n=n.userAgent)?n:""}function qs(n){return-1!=YI().indexOf(n)}function LN(n){return LN[" "](n),n}LN[" "]=function(){};var VN,BOe=qs("Opera"),Ph=qs("Trident")||qs("MSIE"),bX=qs("Edge"),FN=bX||Ph,CX=qs("Gecko")&&!(-1!=YI().toLowerCase().indexOf("webkit")&&!qs("Edge"))&&!(qs("Trident")||qs("MSIE"))&&!qs("Edge"),jOe=-1!=YI().toLowerCase().indexOf("webkit")&&!qs("Edge");function AX(){var n=Ce.document;return n?n.documentMode:void 0}e:{var UN="",BN=function(){var n=YI();return CX?/rv:([^\);]+)(\)|;)/.exec(n):bX?/Edge\/([\d\.]+)/.exec(n):Ph?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jOe?/WebKit\/(\S+)/.exec(n):BOe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(BN&&(UN=BN?BN[1]:""),Ph){var jN=AX();if(null!=jN&&jN>parseFloat(UN)){VN=String(jN);break e}}VN=UN}var $Oe=Ce.document&&Ph&&(AX()||parseInt(VN,10))||void 0;function Lm(n,e){if(Sr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(CX){e:{try{LN(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zOe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Lm.$.h.call(this)}}jn(Lm,Sr);var zOe={2:"touch",3:"pen",4:"mouse"};Lm.prototype.h=function(){Lm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Fm="closure_listenable_"+(1e6*Math.random()|0),GOe=0;function HOe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++GOe,this.fa=this.ia=!1}function XI(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function zN(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function SX(n){const e={};for(const t in n)e[t]=n[t];return e}const xX="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PX(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<xX.length;s++)t=xX[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function JI(n){this.src=n,this.g={},this.h=0}function GN(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=IX(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(XI(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function HN(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}JI.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=HN(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new HOe(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var qN="closure_lm_"+(1e6*Math.random()|0),WN={};function RX(n,e,t,r,i){if(r&&r.once)return kX(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)RX(n,e[s],t,r,i);return null}return t=XN(t),n&&n[Fm]?n.O(e,t,Om(r)?!!r.capture:!!r,i):MX(n,e,t,!1,r,i)}function MX(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Om(i)?!!i.capture:!!i,a=QN(n);if(a||(n[qN]=a=new JI(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function WOe(){const e=KOe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)VOe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(NX(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function kX(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)kX(n,e[s],t,r,i);return null}return t=XN(t),n&&n[Fm]?n.P(e,t,Om(r)?!!r.capture:!!r,i):MX(n,e,t,!0,r,i)}function OX(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)OX(n,e[s],t,r,i);else r=Om(r)?!!r.capture:!!r,t=XN(t),n&&n[Fm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=HN(s=n.g[e],t,r,i))&&(XI(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=QN(n))&&(e=n.g[e.toString()],n=-1,e&&(n=HN(e,t,r,i)),(t=-1<n?e[n]:null)&&KN(t))}function KN(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Fm])GN(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(NX(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=QN(e))?(GN(t,n),0==t.h&&(t.src=null,e[qN]=null)):XI(n)}}}function NX(n){return n in WN?WN[n]:WN[n]="on"+n}function KOe(n,e){if(n.fa)n=!0;else{e=new Lm(e,this);var t=n.listener,r=n.la||n.src;n.ia&&KN(n),n=t.call(r,e)}return n}function QN(n){return(n=n[qN])instanceof JI?n:null}var YN="__closure_events_fn_"+(1e9*Math.random()>>>0);function XN(n){return"function"==typeof n?n:(n[YN]||(n[YN]=function(e){return n.handleEvent(e)}),n[YN])}function $n(){Xa.call(this),this.i=new JI(this),this.S=this,this.J=null}function cr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Sr(e,n);else if(e instanceof Sr)e.target=e.target||n;else{var i=e;PX(e=new Sr(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=ZI(o,r,!0,e)&&i}if(i=ZI(o=e.g=n,r,!0,e)&&i,i=ZI(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=ZI(o=e.g=t[s],r,!1,e)&&i}function ZI(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,c=o.la||o.src;o.ia&&GN(n.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}jn($n,Xa),$n.prototype[Fm]=!0,$n.prototype.removeEventListener=function(n,e,t,r){OX(this,n,e,t,r)},$n.prototype.N=function(){if($n.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)XI(t[r]);delete n.g[e],n.h--}}this.J=null},$n.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},$n.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var JN=Ce.JSON.stringify;function YOe(){var n=ZN;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var LX=new class QOe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new JOe,n=>n.reset());class JOe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ZOe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function eNe(n){Ce.setTimeout(()=>{throw n},0)}let Vm,Um=!1,ZN=new class XOe{constructor(){this.h=this.g=null}add(e,t){const r=LX.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},FX=()=>{const n=Ce.Promise.resolve(void 0);Vm=()=>{n.then(tNe)}};var tNe=()=>{for(var n;n=YOe();){try{n.h.call(n.g)}catch(t){eNe(t)}var e=LX;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Um=!1};function eT(n,e){$n.call(this),this.h=n||1,this.g=e||Ce,this.j=Dr(this.qb,this),this.l=Date.now()}function e2(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function t2(n,e,t){if("function"==typeof n)t&&(n=Dr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Dr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ce.setTimeout(n,e||0)}function VX(n){n.g=t2(()=>{n.g=null,n.i&&(n.i=!1,VX(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}jn(eT,$n),(ne=eT.prototype).ga=!1,ne.T=null,ne.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cr(this,"tick"),this.ga&&(e2(this),this.start()))}},ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ne.N=function(){eT.$.N.call(this),e2(this),delete this.g};class nNe extends Xa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VX(this)}N(){super.N(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bm(n){Xa.call(this),this.h=n,this.g={}}jn(Bm,Xa);var UX=[];function BX(n,e,t,r){Array.isArray(t)||(t&&(UX[0]=t.toString()),t=UX);for(var i=0;i<t.length;i++){var s=RX(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function jX(n){zN(n.g,function(e,t){this.g.hasOwnProperty(t)&&KN(e)},n),n.g={}}function tT(){this.g=!0}function Rh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function oNe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return JN(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Bm.prototype.N=function(){Bm.$.N.call(this),jX(this)},Bm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tT.prototype.Ea=function(){this.g=!1},tT.prototype.info=function(){};var Ou={},$X=null;function nT(){return $X=$X||new $n}function zX(n){Sr.call(this,Ou.Ta,n)}function jm(n){const e=nT();cr(e,new zX(e))}function GX(n,e){Sr.call(this,Ou.STAT_EVENT,n),this.stat=e}function Kr(n){const e=nT();cr(e,new GX(e,n))}function HX(n,e){Sr.call(this,Ou.Ua,n),this.size=e}function $m(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){n()},e)}Ou.Ta="serverreachability",jn(zX,Sr),Ou.STAT_EVENT="statevent",jn(GX,Sr),Ou.Ua="timingevent",jn(HX,Sr);var rT={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qX={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function n2(){}function KX(){}n2.prototype.h=null;var o2,zm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function r2(){Sr.call(this,"d")}function s2(){Sr.call(this,"c")}function iT(){}function Gm(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Bm(this),this.P=aNe,this.V=new eT(n=FN?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QX}function QX(){this.i=null,this.g="",this.h=!1}jn(r2,Sr),jn(s2,Sr),jn(iT,n2),iT.prototype.g=function(){return new XMLHttpRequest},iT.prototype.i=function(){return{}},o2=new iT;var aNe=45e3,a2={},sT={};function c2(n,e,t){n.L=1,n.v=uT(qo(e)),n.s=t,n.S=!0,YX(n,null)}function YX(n,e){n.G=Date.now(),Hm(n),n.A=qo(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),oJ(t.i,"t",r),n.C=0,t=n.l.J,n.h=new QX,n.g=PJ(n.l,t?e:null,!n.s),0<n.O&&(n.M=new nNe(Dr(n.Pa,n,n.g),n.O)),BX(n.U,n.g,"readystatechange",n.nb),e=n.I?SX(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),jm(),function rNe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function XX(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function JX(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=cNe(n,t),i==sT){4==e&&(n.o=4,Kr(14),r=!1),Rh(n.j,n.m,null,"[Incomplete Response]");break}if(i==a2){n.o=4,Kr(15),Rh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Rh(n.j,n.m,i,null),u2(n,i)}XX(n)&&i!=sT&&i!=a2&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Kr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),m2(e),e.M=!0,Kr(11))):(Rh(n.j,n.m,t,"[Invalid Chunked Response]"),Nu(n),qm(n))}function cNe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?sT:(t=Number(e.substring(t,r)),isNaN(t)?a2:(r+=1)+t>e.length?sT:(e=e.slice(r,r+t),n.C=r+t,e))}function Hm(n){n.Y=Date.now()+n.P,ZX(n,n.P)}function ZX(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$m(Dr(n.lb,n),e)}function oT(n){n.B&&(Ce.clearTimeout(n.B),n.B=null)}function qm(n){0==n.l.H||n.J||AJ(n.l,n)}function Nu(n){oT(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,e2(n.V),jX(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function u2(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||l2(t.i,n)))if(!n.K&&l2(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;gT(t),fT(t)}g2(t),Kr(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=$m(Dr(t.ib,t),6e3));if(1>=uJ(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Fu(t,11)}else if((n.K||t.g==n)&&gT(t),!Nm(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(t.V=u[0],u=u[1],2==t.H)if("c"==u[0]){t.K=u[1],t.pa=u[2];const l=u[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=u[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(d2(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,bt(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=xJ(r,r.J?r.pa:null,r.Y),o.K){lJ(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(oT(a),Hm(a)),r.g=o}else bJ(r);0<t.j.length&&pT(t)}else"stop"!=u[0]&&"close"!=u[0]||Fu(t,7);else 3==t.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Fu(t,7):p2(t):"noop"!=u[0]&&t.h&&t.h.Aa(u),t.A=0)}jm()}catch{}}function eJ(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(KI(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function lNe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(KI(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function uNe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(KI(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(ne=Gm.prototype).setTimeout=function(n){this.P=n},ne.nb=function(n){n=n.target;const e=this.M;e&&3==Ws(n)?e.l():this.Pa(n)},ne.Pa=function(n){try{if(n==this.g)e:{const l=Ws(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||FN||this.g&&(this.h.h||this.g.ja()||yJ(this.g)))){this.J||4!=l||7==e||jm(),oT(this);var t=this.g.da();this.ca=t;t:if(XX(this)){var r=yJ(this.g);n="";var i=r.length,s=4==Ws(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Nu(this),qm(this);var o="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function iNe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nm(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.o=3,Kr(12),Nu(this),qm(this);break e}Rh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,u2(this,t)}this.S?(JX(this,l,o),FN&&this.i&&3==l&&(BX(this.U,this.V,"tick",this.mb),this.V.start())):(Rh(this.j,this.m,o,null),u2(this,o)),4==l&&Nu(this),this.i&&!this.J&&(4==l?AJ(this.l,this):(this.i=!1,Hm(this)))}else(function SNe(n){const e={};n=(n.g&&2<=Ws(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Nm(n[r]))continue;var t=ZOe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function qOe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Kr(12)):(this.o=0,Kr(13)),Nu(this),qm(this)}}}catch{}},ne.mb=function(){if(this.g){var n=Ws(this.g),e=this.g.ja();this.C<e.length&&(oT(this),JX(this,n,e),this.i&&4!=n&&Hm(this))}},ne.cancel=function(){this.J=!0,Nu(this)},ne.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function sNe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(jm(),Kr(17)),Nu(this),this.o=2,qm(this)):ZX(this,this.Y-n)};var tJ=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Lu){this.h=n.h,aT(this,n.j),this.s=n.s,this.g=n.g,cT(this,n.m),this.l=n.l;var e=n.i,t=new Qm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),nJ(this,t),this.o=n.o}else n&&(e=String(n).match(tJ))?(this.h=!1,aT(this,e[1]||"",!0),this.s=Wm(e[2]||""),this.g=Wm(e[3]||"",!0),cT(this,e[4]),this.l=Wm(e[5]||"",!0),nJ(this,e[6]||"",!0),this.o=Wm(e[7]||"")):(this.h=!1,this.i=new Qm(null,this.h))}function qo(n){return new Lu(n)}function aT(n,e,t){n.j=t?Wm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function cT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function nJ(n,e,t){e instanceof Qm?(n.i=e,function _Ne(n,e){e&&!n.j&&(Ja(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(iJ(this,r),oJ(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Km(e,gNe)),n.i=new Qm(e,n.h))}function bt(n,e,t){n.i.set(e,t)}function uT(n){return bt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Km(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,hNe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function hNe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Lu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Km(e,rJ,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Km(e,rJ,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Km(t,"/"==t.charAt(0)?pNe:fNe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Km(t,mNe)),n.join("")};var rJ=/[#\/\?@]/g,fNe=/[#\?:]/g,pNe=/[#\?]/g,gNe=/[#\?@]/g,mNe=/#/g;function Qm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ja(n){n.g||(n.g=new Map,n.h=0,n.i&&function dNe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function iJ(n,e){Ja(n),e=Mh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function sJ(n,e){return Ja(n),e=Mh(n,e),n.g.has(e)}function oJ(n,e,t){iJ(n,e),0<t.length&&(n.i=null,n.g.set(Mh(n,e),NN(t)),n.h+=t.length)}function Mh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function aJ(n){this.l=n||vNe,n=Ce.PerformanceNavigationTiming?0<(n=Ce.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ce.g&&Ce.g.Ka&&Ce.g.Ka()&&Ce.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ne=Qm.prototype).add=function(n,e){Ja(this),this.i=null,n=Mh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ne.forEach=function(n,e){Ja(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ne.ta=function(){Ja(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},ne.Z=function(n){Ja(this);let e=[];if("string"==typeof n)sJ(this,n)&&(e=e.concat(this.g.get(Mh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ne.set=function(n,e){return Ja(this),this.i=null,sJ(this,n=Mh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ne.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var vNe=10;function cJ(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uJ(n){return n.h?1:n.g?n.g.size:0}function l2(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function d2(n,e){n.g?n.g.add(e):n.h=e}function lJ(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function dJ(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return NN(n.i)}aJ.prototype.cancel=function(){if(this.i=dJ(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var wNe=class{stringify(n){return Ce.JSON.stringify(n,void 0)}parse(n){return Ce.JSON.parse(n,void 0)}};function ENe(){this.g=new wNe}function INe(n,e,t){const r=t||"";try{eJ(n,function(i,s){let o=i;Om(i)&&(o=JN(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function lT(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ym(n){this.l=n.fc||null,this.j=n.ob||!1}function dT(n,e){$n.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=h2,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jn(Ym,n2),Ym.prototype.g=function(){return new dT(this.l,this.j)},Ym.prototype.i=function(n){return function(){return n}}({}),jn(dT,$n);var h2=0;function hJ(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Xm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jm(n)}function Jm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ne=dT.prototype).open=function(n,e){if(this.readyState!=h2)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jm(this)},ne.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xm(this)),this.readyState=h2},ne.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jm(this)),this.g&&(this.readyState=3,Jm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hJ(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ne.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xm(this):Jm(this),3==this.readyState&&hJ(this)}},ne.Za=function(n){this.g&&(this.response=this.responseText=n,Xm(this))},ne.Ya=function(n){this.g&&(this.response=n,Xm(this))},ne.ka=function(){this.g&&Xm(this)},ne.setRequestHeader=function(n,e){this.v.append(n,e)},ne.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ne.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(dT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var bNe=Ce.JSON.parse;function Xt(n){$n.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fJ,this.L=this.M=!1}jn(Xt,$n);var fJ="",CNe=/^https?$/i,ANe=["POST","PUT"];function pJ(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gJ(n),hT(n)}function gJ(n){n.F||(n.F=!0,cr(n,"complete"),cr(n,"error"))}function mJ(n){if(n.h&&typeof kN<"u"&&(!n.C[1]||4!=Ws(n)||2!=n.da()))if(n.v&&4==Ws(n))t2(n.La,0,n);else if(cr(n,"readystatechange"),4==Ws(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(tJ)[1]||null;!i&&Ce.self&&Ce.self.location&&(i=Ce.self.location.protocol.slice(0,-1)),r=!CNe.test(i?i.toLowerCase():"")}t=r}if(t)cr(n,"complete"),cr(n,"success");else{n.m=6;try{var s=2<Ws(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",gJ(n)}}finally{hT(n)}}}function hT(n,e){if(n.g){_J(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||cr(n,"ready");try{t.onreadystatechange=r}catch{}}}function _J(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ce.clearTimeout(n.A),n.A=null)}function Ws(n){return n.g?n.g.readyState:0}function yJ(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case fJ:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function vJ(n){let e="";return zN(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function f2(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=vJ(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):bt(n,e,t))}function Zm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function wJ(n){this.Ga=0,this.j=[],this.l=new tT,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zm("baseRetryDelayMs",5e3,n),this.hb=Zm("retryDelaySeedMs",1e4,n),this.eb=Zm("forwardChannelMaxRetries",2,n),this.xa=Zm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new aJ(n&&n.concurrentRequestLimit),this.Ja=new ENe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function p2(n){if(EJ(n),3==n.H){var e=n.W++,t=qo(n.I);if(bt(t,"SID",n.K),bt(t,"RID",e),bt(t,"TYPE","terminate"),e_(n,t),(e=new Gm(n,n.l,e)).L=2,e.v=uT(qo(t)),t=!1,Ce.navigator&&Ce.navigator.sendBeacon)try{t=Ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ce.Image&&((new Image).src=e.v,t=!0),t||(e.g=PJ(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hm(e)}SJ(n)}function fT(n){n.g&&(m2(n),n.g.cancel(),n.g=null)}function EJ(n){fT(n),n.u&&(Ce.clearTimeout(n.u),n.u=null),gT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ce.clearTimeout(n.m),n.m=null)}function pT(n){if(!cJ(n.i)&&!n.m){n.m=!0;var e=n.Na;Vm||FX(),Um||(Vm(),Um=!0),ZN.add(e,n),n.C=0}}function IJ(n,e){var t;t=e?e.m:n.W++;const r=qo(n.I);bt(r,"SID",n.K),bt(r,"RID",t),bt(r,"AID",n.V),e_(n,r),n.o&&n.s&&f2(r,n.o,n.s),t=new Gm(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=TJ(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),d2(n.i,t),c2(t,r,e)}function e_(n,e){n.na&&zN(n.na,function(t,r){bt(e,r,t)}),n.h&&eJ({},function(t,r){bt(e,r,t)})}function TJ(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Dr(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<t;c++){let u=i[c].g;const l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{INe(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function bJ(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Vm||FX(),Um||(Vm(),Um=!0),ZN.add(e,n),n.A=0}}function g2(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=$m(Dr(n.Ma,n),DJ(n,n.A)),n.A++,0))}function m2(n){null!=n.B&&(Ce.clearTimeout(n.B),n.B=null)}function CJ(n){n.g=new Gm(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=qo(n.wa);bt(e,"RID","rpc"),bt(e,"SID",n.K),bt(e,"AID",n.V),bt(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&bt(e,"TO",n.qa),bt(e,"TYPE","xmlhttp"),e_(n,e),n.o&&n.s&&f2(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=uT(qo(e)),t.s=null,t.S=!0,YX(t,n)}function gT(n){null!=n.v&&(Ce.clearTimeout(n.v),n.v=null)}function AJ(n,e){var t=null;if(n.g==e){gT(n),m2(n),n.g=null;var r=2}else{if(!l2(n.i,e))return;t=e.F,lJ(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;cr(r=nT(),new HX(r,t)),pT(n)}else bJ(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function xNe(n,e){return!(uJ(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=$m(Dr(n.Na,n,e),DJ(n,n.C)),n.C++,0)))}(n,e)||2==r&&g2(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Fu(n,5);break;case 4:Fu(n,10);break;case 3:Fu(n,6);break;default:Fu(n,2)}}function DJ(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Fu(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Dr(n.pb,n);t||(t=new Lu("//www.google.com/images/cleardot.gif"),Ce.location&&"http"==Ce.location.protocol||aT(t,"https"),uT(t)),function TNe(n,e){const t=new tT;if(Ce.Image){const r=new Image;r.onload=QI(lT,t,r,"TestLoadImage: loaded",!0,e),r.onerror=QI(lT,t,r,"TestLoadImage: error",!1,e),r.onabort=QI(lT,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=QI(lT,t,r,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Kr(2);n.H=0,n.h&&n.h.za(e),SJ(n),EJ(n)}function SJ(n){if(n.H=0,n.ma=[],n.h){const e=dJ(n.i);(0!=e.length||0!=n.j.length)&&(TX(n.ma,e),TX(n.ma,n.j),n.i.i.length=0,NN(n.j),n.j.length=0),n.h.ya()}}function xJ(n,e,t){var r=t instanceof Lu?qo(t):new Lu(t);if(""!=r.g)e&&(r.g=e+"."+r.g),cT(r,r.m);else{var i=Ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Lu(null);r&&aT(s,r),e&&(s.g=e),i&&cT(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&bt(r,t,e),bt(r,"VER",n.ra),e_(n,r),r}function PJ(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xt(t&&n.Ha&&!n.va?new Ym({ob:!0}):n.va)).Oa(n.J),e}function RJ(){}function mT(){if(Ph&&!(10<=Number($Oe)))throw Error("Environmental error: no available transport.")}function Di(n,e){$n.call(this),this.g=new wJ(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Nm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kh(this)}function MJ(n){r2.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function kJ(){s2.call(this),this.status=1}function kh(n){this.g=n}function ls(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _2(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function ot(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(ne=Xt.prototype).Oa=function(n){this.M=n},ne.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():o2.g(),this.C=function WX(n){return n.h||(n.h=n.i())}(this.u?this.u:o2),this.g.onreadystatechange=Dr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void pJ(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Ce.FormData&&n instanceof Ce.FormData,!(0<=IX(ANe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_J(this),0<this.B&&((this.L=function DNe(n){return Ph&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dr(this.ua,this)):this.A=t2(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){pJ(this,s)}},ne.ua=function(){typeof kN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cr(this,"timeout"),this.abort(8))},ne.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,cr(this,"complete"),cr(this,"abort"),hT(this))},ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hT(this,!0)),Xt.$.N.call(this)},ne.La=function(){this.s||(this.G||this.v||this.l?mJ(this):this.kb())},ne.kb=function(){mJ(this)},ne.isActive=function(){return!!this.g},ne.da=function(){try{return 2<Ws(this)?this.g.status:-1}catch{return-1}},ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ne.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),bNe(e)}},ne.Ia=function(){return this.m},ne.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ne=wJ.prototype).ra=8,ne.H=1,ne.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Gm(this,this.l,n);let s=this.s;if(this.U&&(s?(s=SX(s),PX(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=TJ(this,i,e),bt(t=qo(this.I),"RID",n),bt(t,"CVER",22),this.F&&bt(t,"X-HTTP-Session-Id",this.F),e_(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(vJ(s)))+"&"+e:this.o&&f2(t,this.o,s)),d2(this.i,i),this.bb&&bt(t,"TYPE","init"),this.P?(bt(t,"$req",e),bt(t,"SID","null"),i.aa=!0,c2(i,t,null)):c2(i,t,e),this.H=2}}else 3==this.H&&(n?IJ(this,n):0==this.j.length||cJ(this.i)||IJ(this))},ne.Ma=function(){if(this.u=null,CJ(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=$m(Dr(this.jb,this),n)}},ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Kr(10),fT(this),CJ(this))},ne.ib=function(){null!=this.v&&(this.v=null,fT(this),g2(this),Kr(19))},ne.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Kr(2)):(this.l.info("Failed to ping google.com"),Kr(1))},ne.isActive=function(){return!!this.h&&this.h.isActive(this)},(ne=RJ.prototype).Ba=function(){},ne.Aa=function(){},ne.za=function(){},ne.ya=function(){},ne.isActive=function(){return!0},ne.Va=function(){},mT.prototype.g=function(n,e){return new Di(n,e)},jn(Di,$n),Di.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Kr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=xJ(n,null,n.Y),pT(n)},Di.prototype.close=function(){p2(this.g)},Di.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=JN(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&pT(e)},Di.prototype.N=function(){this.g.h=null,delete this.j,p2(this.g),delete this.g,Di.$.N.call(this)},jn(MJ,r2),jn(kJ,s2),jn(kh,RJ),kh.prototype.Ba=function(){cr(this.g,"a")},kh.prototype.Aa=function(n){cr(this.g,new MJ(n))},kh.prototype.za=function(n){cr(this.g,new kJ)},kh.prototype.ya=function(){cr(this.g,"b")},jn(ls,function PNe(){this.blockSize=-1}),ls.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ls.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)_2(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){_2(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){_2(this,r),i=0;break}}this.h=i,this.i+=e},ls.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var RNe={};function y2(n){return-128<=n&&128>n?function UOe(n,e){var t=RNe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ot([0|e],0>e?-1:0)}):new ot([0|n],0>n?-1:0)}function Ks(n){if(isNaN(n)||!isFinite(n))return Oh;if(0>n)return ur(Ks(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=v2;return new ot(e,0)}var v2=4294967296,Oh=y2(0),w2=y2(1),NJ=y2(16777216);function Wo(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function qi(n){return-1==n.h}function ur(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new ot(t,~n.h).add(w2)}function _T(n,e){return n.add(ur(e))}function yT(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function t_(n,e){this.g=n,this.h=e}function vT(n,e){if(Wo(e))throw Error("division by zero");if(Wo(n))return new t_(Oh,Oh);if(qi(n))return e=vT(ur(n),e),new t_(ur(e.g),ur(e.h));if(qi(e))return e=vT(n,ur(e)),new t_(ur(e.g),e.h);if(30<n.g.length){if(qi(n)||qi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=w2,r=e;0>=r.X(n);)t=LJ(t),r=LJ(r);var i=Nh(t,1),s=Nh(r,1);for(r=Nh(r,2),t=Nh(t,2);!Wo(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Nh(r,1),t=Nh(t,1)}return e=_T(n,i.R(e)),new t_(i,e)}for(i=Oh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ks(t)).R(e);qi(o)||0<o.X(n);)o=(s=Ks(t-=r)).R(e);Wo(s)&&(s=w2),i=i.add(s),n=_T(n,o)}return new t_(i,n)}function LJ(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new ot(t,n.h)}function Nh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new ot(i,n.h)}(ne=ot.prototype).ea=function(){if(qi(this))return-ur(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:v2+r)*e,e*=v2}return n},ne.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Wo(this))return"0";if(qi(this))return"-"+ur(this).toString(n);for(var e=Ks(Math.pow(n,6)),t=this,r="";;){var i=vT(t,e).g,s=((0<(t=_T(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Wo(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},ne.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ne.X=function(n){return qi(n=_T(this,n))?-1:Wo(n)?0:1},ne.abs=function(){return qi(this)?ur(this):this},ne.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new ot(t,-2147483648&t[t.length-1]?-1:0)},ne.R=function(n){if(Wo(this)||Wo(n))return Oh;if(qi(this))return qi(n)?ur(this).R(ur(n)):ur(ur(this).R(n));if(qi(n))return ur(this.R(ur(n)));if(0>this.X(NJ)&&0>n.X(NJ))return Ks(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=o*c,yT(t,2*r+2*i),t[2*r+2*i+1]+=s*c,yT(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,yT(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,yT(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new ot(t,0)},ne.gb=function(n){return vT(this,n).h},ne.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new ot(t,this.h&n.h)},ne.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new ot(t,this.h|n.h)},ne.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new ot(t,this.h^n.h)},mT.prototype.createWebChannel=mT.prototype.g,Di.prototype.send=Di.prototype.u,Di.prototype.open=Di.prototype.m,Di.prototype.close=Di.prototype.close,rT.NO_ERROR=0,rT.TIMEOUT=8,rT.HTTP_ERROR=6,qX.COMPLETE="complete",KX.EventType=zm,zm.OPEN="a",zm.CLOSE="b",zm.ERROR="c",zm.MESSAGE="d",$n.prototype.listen=$n.prototype.O,Xt.prototype.listenOnce=Xt.prototype.P,Xt.prototype.getLastError=Xt.prototype.Sa,Xt.prototype.getLastErrorCode=Xt.prototype.Ia,Xt.prototype.getStatus=Xt.prototype.da,Xt.prototype.getResponseJson=Xt.prototype.Wa,Xt.prototype.getResponseText=Xt.prototype.ja,Xt.prototype.send=Xt.prototype.ha,Xt.prototype.setWithCredentials=Xt.prototype.Oa,ls.prototype.digest=ls.prototype.l,ls.prototype.reset=ls.prototype.reset,ls.prototype.update=ls.prototype.j,ot.prototype.add=ot.prototype.add,ot.prototype.multiply=ot.prototype.R,ot.prototype.modulo=ot.prototype.gb,ot.prototype.compare=ot.prototype.X,ot.prototype.toNumber=ot.prototype.ea,ot.prototype.toString=ot.prototype.toString,ot.prototype.getBits=ot.prototype.D,ot.fromNumber=Ks,ot.fromString=function OJ(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ur(OJ(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ks(Math.pow(e,8)),r=Oh,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Ks(Math.pow(e,s)),r=r.R(s).add(Ks(o))):r=(r=r.R(t)).add(Ks(o))}return r},us.createWebChannelTransport=function(){return new mT},us.getStatEventTarget=function(){return nT()},us.ErrorCode=rT,us.EventType=qX,us.Event=Ou,us.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},us.FetchXmlHttpFactory=Ym,us.WebChannel=KX,us.XhrIo=Xt,us.Md5=ls;var MNe=us.Integer=ot;const FJ="@firebase/firestore";class zn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");let n_="9.23.0";const Za=new Ao("@firebase/firestore");function B(n,...e){if(Za.logLevel<=Re.DEBUG){const t=e.map(I2);Za.debug(`Firestore (${n_}): ${n}`,...t)}}function ln(n,...e){if(Za.logLevel<=Re.ERROR){const t=e.map(I2);Za.error(`Firestore (${n_}): ${n}`,...t)}}function I2(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function oe(n="Unexpected state"){const e=`FIRESTORE (${n_}) INTERNAL ASSERTION FAILED: `+n;throw ln(e),new Error(e)}function ue(n,e){n||oe()}const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class N extends On{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class VJ{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kNe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zn.UNAUTHENTICATED))}shutdown(){}}class NNe{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let o=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(_(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue("string"==typeof r.accessToken),new VJ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ue(null===e||"string"==typeof e),new zn(e)}}class LNe{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class FNe{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new LNe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UJ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VNe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ue("string"==typeof t.token),this.T=t.token,new UJ(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function UNe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class BJ{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=UNe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function we(n,e){return n<e?-1:n>e?1:0}class wT{constructor(e,t,r){void 0===t?t=0:t>e.length&&oe(),void 0===r?r=e.length-t:r>e.length-t&&oe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===wT.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wT?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qe extends wT{construct(e,t,r){return new qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new N(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new qe(t)}static emptyPath(){return new qe([])}}class J{constructor(e){this.path=e}static fromPath(e){return new J(qe.fromString(e))}static fromName(e){return new J(qe.fromString(e).popFirst(5))}static empty(){return new J(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new qe(e.slice()))}}function tc(n){return"IndexedDbTransactionError"===n.name}class Et{constructor(e,t){this.comparator=e,this.root=t||lr.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new CT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new CT(this.root,e,this.comparator,!1)}getReverseIterator(){return new CT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new CT(this.root,e,this.comparator,!0)}}class CT{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??lr.RED,this.left=i??lr.EMPTY,this.right=s??lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new lr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return lr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1,lr.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(n,e,t,r,i){return this}insert(n,e,t){return new lr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ct{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tZ(this.data.getIterator())}getIteratorFrom(e){return new tZ(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class tZ{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class nZ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nZ("Invalid base64 string: "+i):i}}(e);return new Rn(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function Jt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}Rn.EMPTY_BYTE_STRING=new Rn("");class h2e{constructor(e,t,r,i,s,o,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Bu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}class Qo{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}var yn,We;new Et(J.comparator),new Et(J.comparator),new Et(J.comparator),new Ct(J.comparator),new Ct(we),(We=yn||(yn={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS",new MNe([4294967295,4294967295],0);class Qu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Jt(e.integerValue));else if("doubleValue"in e){const r=Jt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),function o_(n){return 0===n&&1/n==-1/0}(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(function Ko(n){return"string"==typeof n?Rn.fromBase64String(n):Rn.fromUint8Array(n)}(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?function oZ(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):oe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),J.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Qu.Ve=new Qu,new Uint8Array(0);class Pr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Pr(e,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ZT(){return typeof document<"u"?document:null}Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(41943040,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);class _L{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class LL{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new LL(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new N(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class TFe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=zn.UNAUTHENTICATED,this.clientId=BJ.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){B("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(B("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new N(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function tf(n,e){if(ln("AsyncQueue",`${e}: ${n}`),tc(n))return new N(P.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Ite(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Tte=new Map;function bte(n){if(!J.isDocumentKey(n))throw new N(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}class Dte{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new N(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new N(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function MFe(n,e,t,r){if(!0===e&&!0===r)throw new N(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ite(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new N(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new N(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new N(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class N_{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dte({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new N(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new N(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dte(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new kNe;switch(t.type){case"firstParty":return new FNe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new N(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Tte.get(e);t&&(B("ComponentProvider","Removing Datastore"),Tte.delete(e),t.terminate())}(this),Promise.resolve()}}class fn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class hr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hr(this.firestore,e,this._query)}}class eo extends hr{constructor(e,t,r){super(e,t,function jh(n){return new Qo(n)}(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new J(e))}withConverter(e){return new eo(this.firestore,e,this._path)}}function Ste(n,e,...t){if(n=rt(n),1===arguments.length&&(e=BJ.A()),function IF(n,e,t){if(!t)throw new N(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}("doc","path",e),n instanceof N_){const r=qe.fromString(e,...t);return bte(r),new fn(n,null,new J(r))}{if(!(n instanceof fn||n instanceof eo))throw new N(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return bte(r),new fn(n.firestore,n instanceof eo?n.converter:null,new J(r))}}class OFe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new _L(this,"async_queue_retry"),this.Xc=()=>{const t=ZT();t&&B("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=ZT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ZT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Pn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!tc(t))throw t;B("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ln("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=LL.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&oe()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Dt extends N_{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new OFe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function Pte(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new h2e(n._databaseId,a,n._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Ite(u.experimentalLongPollingOptions),u.useFetchStreams));var a,u;n._firestoreClient=new TFe(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}!function(n,e=!0){n_=NI,Ah(new Rt("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Dt(new NNe(t.getProvider("auth-internal")),new VNe(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new N(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Hi(FJ,"3.13.0",n),Hi(FJ,"3.13.0","esm2017")}();const lVe=wX(Ste,!0);function dVe(n,e){if(1&n){const t=vo();y(0,"form",2),Q(1,"input",3)(2,"input",4),y(3,"input",5),ut("click",function(){return Li(t),Fi(lt().loginUser())}),E(),y(4,"p",6),ut("click",function(){return Li(t),Fi(lt().show())}),T(5,"or if you don't have an account you can sign up"),E()()}}function hVe(n,e){if(1&n){const t=vo();y(0,"form",2),Q(1,"input",7)(2,"input",8)(3,"input",9)(4,"input",10),y(5,"input",11),ut("click",function(){return Li(t),Fi(lt().signUp())}),E(),y(6,"p",6),ut("click",function(){return Li(t),Fi(lt().show())}),T(7,"if you already have an account you can login"),E()()}}let fVe=(()=>{class n{constructor(t){this.router=t,this.showSignUp=!1,this.firebaseApp=Aa(),this.auth=mg(),this.db=ym(this.firebaseApp)}loginUser(){const t={email:document.querySelector(".email").value,password:document.querySelector(".password").value};this.login(t.email,t.password)}login(t,r){var i=this;return _(function*(){let s;(function XTe(n,e,t){return Qx(rt(n),p6.credential(e,t)).catch(function(){var r=_(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&iP(n),i});return function(i){return r.apply(this,arguments)}}())})(i.auth,t,r).then(function(){var o=_(function*(a){const c=a.user;console.log("user",c.email),s=c.email,yield i.get();for(let u=0;u<i.users.length;u++)console.log("this.users[i]",i.users[u]),s===i.users[u].email&&(console.log(i.users[u]),localStorage.setItem("currentUser",JSON.stringify(i.users[u])),"USER"===i.users[u].role&&i.router.navigate(["/cabinet"]),"ADMIN"===i.users[u].role&&i.router.navigate(["/admin"]))});return function(a){return o.apply(this,arguments)}}()).catch(o=>{console.log(`error code: ${o.code}, error message: ${o.message}`)})})()}signUp(){var t=this;return _(function*(){const r={email:document.querySelector(".email-sign-up").value,firstName:document.querySelector(".first-name").value,lastName:document.querySelector(".last-name").value,password:document.querySelector(".password-sign-up").value,role:"USER"};(function lxe(n,e,t){n=Ve(n,cn);const r=Ve(n.firestore,wt),i=ak(n.converter,e,t);return Cm(r,[tk(yh(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Ot.none())])})(lVe(t.db,"user","test1234"),{name:"test1234",country:"Ukraine",message:"we sure miss Ukraine."}).then(()=>{console.log("Document created successfully with custom ID")}).catch(s=>{console.error("Error creating document with custom ID: ",s)}),function YTe(n,e,t){return dP.apply(this,arguments)}(t.auth,document.querySelector(".email-sign-up").value,document.querySelector(".password-sign-up").value).then(function(){var s=_(function*(o){const a=o.user;console.log(a);const c={id:a.uid,...r};console.log(c),localStorage.setItem("currentUser",JSON.stringify(c))});return function(o){return s.apply(this,arguments)}}()).catch(s=>{})})()}get(){var t=this;return _(function*(){const r=[],i=Im(mh(t.db,"users"));(yield bm(i)).forEach(o=>{const a=o.data();a.id=o.id,r.push(a)}),t.users=r})()}show(){this.showSignUp=!this.showSignUp}static#e=this.\u0275fac=function(r){return new(r||n)($(tr))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-login-modal"]],decls:3,vars:2,consts:[[1,"container"],["action","",4,"ngIf"],["action",""],["type","text","placeholder","Enter your email",1,"email"],["type","text","placeholder","Enter your password",1,"password"],["type","button","value","Sign in",1,"sign-in-btn",3,"click"],[1,"sign-up-text",3,"click"],["type","text","placeholder","Enter your first name",1,"first-name"],["type","text","placeholder","Enter your last name",1,"last-name"],["type","text","placeholder","Enter your email",1,"email-sign-up"],["type","text","placeholder","Enter your password",1,"password-sign-up"],["type","button","value","Sign up",1,"sign-in-btn",3,"click"]],template:function(r,i){1&r&&(y(0,"div",0),Ke(1,dVe,6,0,"form",1),Ke(2,hVe,8,0,"form",1),E()),2&r&&(x(1),Le("ngIf",!i.showSignUp),x(1),Le("ngIf",i.showSignUp))},dependencies:[zc],styles:[".container[_ngcontent-%COMP%]{padding:30px 70px;background-image:url(https://noa.ua/wp-content/themes/tomatina/img/bg-w-o3.png);font-family:Varela Round,sans-serif;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:40px;width:400px;border-radius:5px;border:1px solid #000;display:block;padding-left:20px;margin-bottom:20px}.container[_ngcontent-%COMP%]   .sign-in-btn[_ngcontent-%COMP%]{border:1px solid #000;background-color:transparent}.container[_ngcontent-%COMP%]   .sign-up-text[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-width: 600px){.container[_ngcontent-%COMP%]{padding:30px}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}"]})}return n})();function Jte(n,e=0){return function pVe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function y0(n){return Array.isArray(n)?n:[n]}function wn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ff(n){return n instanceof ei?n.nativeElement:n}const gVe=["addListener","removeListener"],mVe=["addEventListener","removeEventListener"],_Ve=["on","off"];function kF(n,e,t,r){if(Ue(t)&&(r=t,t=void 0),r)return kF(n,e,t).pipe(lS(r));const[i,s]=function wVe(n){return Ue(n.addEventListener)&&Ue(n.removeEventListener)}(n)?mVe.map(o=>a=>n[o](e,a,t)):function yVe(n){return Ue(n.addListener)&&Ue(n.removeListener)}(n)?gVe.map(Zte(n,e)):function vVe(n){return Ue(n.on)&&Ue(n.off)}(n)?_Ve.map(Zte(n,e)):[];if(!i&&Rb(n))return Mn(o=>kF(o,e,t))(kr(n));if(!i)throw new TypeError("Invalid event target");return new ht(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function Zte(n,e){return t=>r=>n[t](e,r)}const $_={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=$_;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Qn(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=$_;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=$_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class IVe extends GI{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class EVe extends zI{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=$_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&($_.cancelAnimationFrame(t),e._scheduled=void 0)}});let OF,bVe=1;const v0={};function ene(n){return n in v0&&(delete v0[n],!0)}const CVe={setImmediate(n){const e=bVe++;return v0[e]=!0,OF||(OF=Promise.resolve()),OF.then(()=>ene(e)&&n()),e},clearImmediate(n){ene(n)}},{setImmediate:AVe,clearImmediate:DVe}=CVe,w0={setImmediate(...n){const{delegate:e}=w0;return(e?.setImmediate||AVe)(...n)},clearImmediate(n){const{delegate:e}=w0;return(e?.clearImmediate||DVe)(n)},delegate:void 0};new class xVe extends GI{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class SVe extends zI{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=w0.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(w0.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function tne(n,e=HI){return function RVe(n){return tn((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const u=i;i=null,t.next(u)}o&&t.complete()},c=()=>{s=null,o&&t.complete()};e.subscribe(Ft(t,u=>{r=!0,i=u,s||kr(n(u)).subscribe(s=Ft(t,a,c))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function kVe(n=0,e,t=wOe){let r=-1;return null!=e&&(bU(e)?t=e:r=e),new ht(i=>{let s=function MVe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}let NF;try{NF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{NF=!1}let z_,nl,LF,to=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function K_e(n){return n===RH}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!NF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(C(Is))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function E0(n){return function OVe(){if(null==z_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>z_=!0}))}finally{z_=z_||!1}return z_}()?n:!!n.capture}function NVe(){if(null==nl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return nl=!1,nl;if("scrollBehavior"in document.documentElement.style)nl=!0;else{const n=Element.prototype.scrollTo;nl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return nl}function FF(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function gc(n){return n.composedPath?n.composedPath()[0]:n.target}function VF(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const VVe=new j("cdk-dir-doc",{providedIn:"root",factory:function UVe(){return Y(Me)}}),BVe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let UF=(()=>{class n{constructor(t){this.value="ltr",this.change=new Pt,t&&(this.value=function jVe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?BVe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(C(VVe,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({})}return n})(),zVe=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new ke,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ht(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(tne(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):le()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(wr(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=ff(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>kF(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)(C(ye),C(to),C(Me,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rne=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new ke,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(tne(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(C(to),C(ye),C(Me,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ine=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({})}return n})(),sne=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({imports:[G_,ine,G_,ine]})}return n})();class BF{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class jF extends BF{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class one extends BF{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class HVe extends BF{constructor(e){super(),this.element=e instanceof ei?e.nativeElement:e}}class $F{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof jF?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof one?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof HVe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qVe extends $F{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Bt.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let zF=(()=>{class n extends $F{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Pt,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(r){return new(r||n)($(Nc),$(Bi),$(Me))};static#t=this.\u0275dir=pr({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Kl]})}return n})(),T0=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({})}return n})();const ane=NVe();class WVe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=wn(-this._previousScrollPosition.left),e.style.top=wn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),ane&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ane&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class KVe{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(wr(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class cne{enable(){}disable(){}attach(){}}function GF(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function une(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class QVe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();GF(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let YVe=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new cne,this.close=o=>new KVe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new WVe(this._viewportRuler,this._document),this.reposition=o=>new QVe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(r){return new(r||n)(C(zVe),C(rne),C(ye),C(Me))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class lne{constructor(e){if(this.scrollStrategy=new cne,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class XVe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let dne=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)(C(Me))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JVe=(()=>{class n extends dne{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)(C(Me),C(ye,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZVe=(()=>{class n extends dne{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=gc(s)},this._clickListener=s=>{const o=gc(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let u=c.length-1;u>-1;u--){const l=c[u];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(l.overlayElement.contains(o)||l.overlayElement.contains(a))break;const d=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)(C(Me),C(to),C(ye,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b0=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||VF()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),VF()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)(C(Me),C(to))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class H_{constructor(e,t,r,i,s,o,a,c,u,l=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=l,this._backdropElement=null,this._backdropClick=new ke,this._attachments=new ke,this._detachments=new ke,this._locationChanges=Qn.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new ke,this._outsidePointerEvents=new ke,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(vr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=wn(this._config.width),e.height=wn(this._config.height),e.minWidth=wn(this._config.minWidth),e.minHeight=wn(this._config.minHeight),e.maxWidth=wn(this._config.maxWidth),e.maxHeight=wn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=y0(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(mw(kb(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const hne="cdk-overlay-connected-position-bounding-box",e3e=/([A-Za-z%]+)$/;class t3e{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ke,this._resizeSubscription=Qn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(hne),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),u=this._getOverlayPoint(c,t,a),l=this._getOverlayFit(u,t,r,a);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(l,u,r)?s.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!o||o.overlayFit.visibleArea<l.visibleArea)&&(o={overlayFit:l,overlayPoint:u,originPoint:c,position:a,overlayRect:t})}if(s.length){let a=null,c=-1;for(const u of s){const l=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);l>c&&(c=l,a=u)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hne),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=pne(t);let{x:o,y:a}=e,c=this._getOffset(i,"x"),u=this._getOffset(i,"y");c&&(o+=c),u&&(a+=u);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),g=this._subtractOverflows(s.height,h,f),m=p*g;return{visibleArea:m,isCompletelyWithinViewport:s.width*s.height===m,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=fne(this._overlayRef.getConfig().minHeight),a=fne(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=pne(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),c=Math.max(s.top-r.top-e.y,0),u=Math.max(s.left-r.left-e.x,0);let l=0,d=0;return l=i.width<=s.width?u||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?c||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:l,y:d},{x:e.x+l,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new XVe(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,l,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,l=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,l=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;l=2*f,d=e.x-f,l>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:l,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=wn(r.height),i.top=wn(r.top),i.bottom=wn(r.bottom),i.width=wn(r.width),i.left=wn(r.left),i.right=wn(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=wn(s)),o&&(i.maxWidth=wn(o))}this._lastBoundingBoxSize=r,rl(this._boundingBox.style,i)}_resetBoundingBoxStyles(){rl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const l=this._viewportRuler.getViewportScrollPosition();rl(r,this._getExactOverlayY(t,e,l)),rl(r,this._getExactOverlayX(t,e,l))}else r.position="static";let a="",c=this._getOffset(t,"x"),u=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=wn(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=wn(o.maxWidth):s&&(r.maxWidth="")),rl(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=wn(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=wn(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:une(e,r),isOriginOutsideView:GF(e,r),isOverlayClipped:une(t,r),isOverlayOutsideView:GF(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&y0(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ei)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function rl(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function fne(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(e3e);return t&&"px"!==t?null:parseFloat(e)}return n||null}function pne(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const gne="cdk-global-overlay-wrapper";class n3e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(gne),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,c=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),l=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",g="";c?g="flex-start":"center"===l?(g="center",h?p=d:f=d):h?"left"===l||"end"===l?(g="flex-end",f=d):("right"===l||"start"===l)&&(g="flex-start",p=d):"left"===l||"start"===l?(g="flex-start",f=d):("right"===l||"end"===l)&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":p,t.justifyContent=g,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(gne),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let r3e=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new n3e}flexibleConnectedTo(t){return new t3e(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)(C(rne),C(Me),C(to),C(b0))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),i3e=0,gf=(()=>{class n{constructor(t,r,i,s,o,a,c,u,l,d,h,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=c,this._document=u,this._directionality=l,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new lne(t);return o.direction=o.direction||this._directionality.value,new H_(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+i3e++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(xs)),new qVe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(C(YVe),C(b0),C(Nc),C(r3e),C(JVe),C(Bt),C(ye),C(Me),C(UF),C(Pp),C(ZVe),C(np,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const a3e={provide:new j("cdk-connected-overlay-scroll-strategy"),deps:[gf],useFactory:function o3e(n){return()=>n.scrollStrategies.reposition()}};let mne=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({providers:[gf,a3e],imports:[G_,T0,sne,sne]})}return n})();function yne(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function vne(n){return wr((e,t)=>n<=t)}let f3e=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),p3e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({providers:[f3e]})}return n})();const wne=new Set;let il,m3e=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):y3e}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function _3e(n,e){if(!wne.has(n))try{il||(il=document.createElement("style"),e&&(il.nonce=e),il.setAttribute("type","text/css"),document.head.appendChild(il)),il.sheet&&(il.sheet.insertRule(`@media ${n} {body{ }}`,0),wne.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)(C(to),C(eA,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function y3e(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let v3e=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new ke}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Ene(y0(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=hw(Ene(y0(t)).map(o=>this._registerQuery(o).observable));return s=fd(s.pipe(vr(1)),s.pipe(vne(1),function g3e(n,e=HI){return tn((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=s;s=null,r.next(u)}};function c(){const u=o+n,l=e.now();if(l<u)return i=this.schedule(void 0,u-l),void r.add(i);a()}t.subscribe(Ft(r,u=>{s=u,o=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(je(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new ht(o=>{const a=c=>this._zone.run(()=>o.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(pw(r),je(({matches:o})=>({query:t,matches:o})),mw(this._destroySubject)),mql:r};return this._queries.set(t,s),s}static#e=this.\u0275fac=function(r){return new(r||n)(C(m3e),C(ye))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ene(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let C0=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function T3e(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function I3e(n){try{return n.frameElement}catch{return null}}(function R3e(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===Cne(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=Cne(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function x3e(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function P3e(n){return!function C3e(n){return function D3e(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function b3e(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function A3e(n){return function S3e(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||bne(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(r){return new(r||n)(C(to))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bne(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Cne(n){if(!bne(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class M3e{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(vr(1)).subscribe(e)}}let HF=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new M3e(t,this._checker,this._ngZone,this._document,r)}static#e=this.\u0275fac=function(r){return new(r||n)(C(C0),C(ye),C(Me))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ane(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Dne(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const k3e=new j("cdk-input-modality-detector-options"),O3e={ignoreKeys:[18,17,224,91,16]},mf=E0({passive:!0,capture:!0});let N3e=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new hi(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=gc(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ane(o)?"keyboard":"mouse"),this._mostRecentTarget=gc(o))},this._onTouchstart=o=>{Dne(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=gc(o))},this._options={...O3e,...s},this.modalityDetected=this._modality.pipe(vne(1)),this.modalityChanged=this.modalityDetected.pipe(DU()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,mf),i.addEventListener("mousedown",this._onMousedown,mf),i.addEventListener("touchstart",this._onTouchstart,mf)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,mf),document.removeEventListener("mousedown",this._onMousedown,mf),document.removeEventListener("touchstart",this._onTouchstart,mf))}static#e=this.\u0275fac=function(r){return new(r||n)(C(to),C(ye),C(Me),C(k3e,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const F3e=new j("cdk-focus-monitor-default-options"),A0=E0({passive:!0,capture:!0});let qF=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ke,this._rootNodeFocusAndBlurListener=a=>{for(let u=gc(a);u;u=u.parentElement)"focus"===a.type?this._onFocus(a,u):this._onBlur(a,u)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=ff(t);if(!this._platform.isBrowser||1!==i.nodeType)return le();const s=function FVe(n){if(function LVe(){if(null==LF){const n=typeof document<"u"?document.head:null;LF=!(!n||!n.createShadowRoot&&!n.attachShadow)}return LF}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new ke,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=ff(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=ff(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=gc(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,A0),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,A0)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(mw(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,A0),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,A0),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||n)(C(ye),C(to),C(N3e),C(Me,8),C(F3e,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const xne="cdk-high-contrast-black-on-white",Pne="cdk-high-contrast-white-on-black",WF="cdk-high-contrast-active";let Rne=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=Y(v3e).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(WF,xne,Pne),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(WF,xne):2===r&&t.add(WF,Pne)}}static#e=this.\u0275fac=function(r){return new(r||n)(C(to),C(Me))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),V3e=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(r){return new(r||n)(C(Rne))};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({imports:[p3e]})}return n})();function U3e(n,e){}class D0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Mne=(()=>{class n extends $F{constructor(t,r,i,s,o,a,c,u){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=o,this._ngZone=a,this._overlayRef=c,this._focusMonitor=u,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=l=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(l);return this._contentAttached(),d},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=FF(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=FF();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=FF())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(r){return new(r||n)($(ei),$(HF),$(Me,8),$(D0),$(C0),$(ye),$(H_),$(qF))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(1&r&&uG(zF,7),2&r){let s;hD(s=function fD(){return function Ype(n,e){return n[gs].queries[e].queryList}(k(),PB())}())&&(i._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){2&r&&yo("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[Kl],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){1&r&&Ke(0,U3e,0,0,"ng-template",0)},dependencies:[zF],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class KF{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new ke,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!yne(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const kne=new j("DialogScrollStrategy"),B3e=new j("DialogData"),j3e=new j("DefaultDialogConfig"),z3e={provide:kne,deps:[gf],useFactory:function $3e(n){return()=>n.scrollStrategies.block()}};let G3e=0,One=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,i,s,o,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ke,this._afterOpenedAtThisLevel=new ke,this._ariaHiddenElements=new Map,this.afterAllClosed=pd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(pw(void 0))),this._scrollStrategy=a}open(t,r){(r={...this._defaultOptions||new D0,...r}).id=r.id||"cdk-dialog-"+G3e++,r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),o=this._overlay.create(s),a=new KF(o,r),c=this._attachContainer(o,a,r);return a.containerInstance=c,this._attachDialogContent(t,a,c,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){QF(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){QF(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),QF(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new lne({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const s=i.injector||i.viewContainerRef?.injector,o=[{provide:D0,useValue:i},{provide:KF,useValue:r},{provide:H_,useValue:t}];let a;i.container?"function"==typeof i.container?a=i.container:(a=i.container.type,o.push(...i.container.providers(i))):a=Mne;const c=new jF(a,i.viewContainerRef,Bt.create({parent:s||this._injector,providers:o}),i.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,r,i,s){if(t instanceof Ds){const o=this._createInjector(s,r,i,void 0);let a={$implicit:s.data,dialogRef:r};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),i.attachTemplatePortal(new one(t,null,a,o))}else{const o=this._createInjector(s,r,i,this._injector),a=i.attachComponentPortal(new jF(t,s.viewContainerRef,o,s.componentFactoryResolver));r.componentRef=a,r.componentInstance=a.instance}}_createInjector(t,r,i,s){const o=t.injector||t.viewContainerRef?.injector,a=[{provide:B3e,useValue:t.data},{provide:KF,useValue:r}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!o||!o.get(UF,null,{optional:!0}))&&a.push({provide:UF,useValue:{value:t.direction,change:le()}}),Bt.create({parent:o||s,providers:a})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(r){return new(r||n)(C(gf),C(Bt),C(j3e,8),C(n,12),C(b0),C(kne))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function QF(n,e){let t=n.length;for(;t--;)e(n[t])}let H3e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({providers:[One,z3e],imports:[mne,T0,V3e,T0]})}return n})();const W3e=new j("mat-sanity-checks",{providedIn:"root",factory:function q3e(){return!0}});let Fne=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!VF()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(r){return new(r||n)(C(Rne),C(W3e,8),C(Me))};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({imports:[G_,G_]})}return n})();const Vne=E0({passive:!0,capture:!0});class Y3e{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=gc(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Vne)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Vne)))}}class YF{static#e=this._eventManager=new Y3e;constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ff(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...Une,...r.animation},o=r.radius||function J3e(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,c=t-i.top,u=s.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=a-o+"px",l.style.top=c-o+"px",l.style.height=2*o+"px",l.style.width=2*o+"px",null!=r.color&&(l.style.backgroundColor=r.color),l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l);const d=window.getComputedStyle(l),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,g=new Q3e(this,l,r,p);l.style.transform="scale3d(1, 1, 1)",g.state=0,r.persistent||(this._mostRecentTransientRipple=g);return!p&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const w=()=>this._finishRippleTransition(g),v=()=>this._destroyRipple(g);l.addEventListener("transitionend",w),l.addEventListener("transitioncancel",v)}),this._activeRipples.set(g,null),(p||!u)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...Une,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ff(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,jne.forEach(r=>{YF._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$ne.forEach(t=>{this._triggerElement.addEventListener(t,this,Bne)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=Ane(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Dne(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(jne.forEach(t=>YF._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&$ne.forEach(t=>e.removeEventListener(t,this,Bne)))}}class zne{}class Z3e{}const ea="*";function Gne(n,e){return{type:7,name:n,definitions:e,options:{}}}function S0(n,e=null){return{type:4,styles:e,timings:n}}function qne(n,e=null){return{type:2,steps:n,options:e}}function ta(n){return{type:6,styles:n,offset:null}}function W_(n,e,t){return{type:0,name:n,styles:e,options:t}}function x0(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class K_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Qne{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function e4e(n,e){}class P0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const JF="mdc-dialog--open",Yne="mdc-dialog--opening",Xne="mdc-dialog--closing";let r4e=(()=>{class n extends Mne{constructor(t,r,i,s,o,a,c,u){super(t,r,i,s,o,a,c,u),this._animationStateChanged=new Pt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}static#e=this.\u0275fac=function(r){return new(r||n)($(ei),$(HF),$(Me,8),$(P0),$(C0),$(ye),$(H_),$(qF))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["ng-component"]],features:[Kl],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return n})();const Jne="--mat-dialog-transition-duration";function Zne(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Jte(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Jte(n.substring(0,n.length-1)):"0"===n?0:null}let i4e=(()=>{class n extends r4e{constructor(t,r,i,s,o,a,c,u,l){super(t,r,i,s,o,a,c,l),this._animationMode=u,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Zne(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Zne(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Jne,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Yne,JF)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(JF),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(JF),this._animationsEnabled?(this._hostElement.style.setProperty(Jne,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Xne)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Yne,Xne)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}static#e=this.\u0275fac=function(r){return new(r||n)($(ei),$(HF),$(Me,8),$(P0),$(C0),$(ye),$(H_),$(np,8),$(qF))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(r,i){2&r&&(qA("id",i._config.id),yo("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),zA("_mat-animation-noopable",!i._animationsEnabled))},features:[Kl],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div",1),Ke(2,e4e,0,0,"ng-template",2),E()())},dependencies:[zF],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();class s4e{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new ke,this._beforeClosed=new ke,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(wr(i=>"opened"===i.state),vr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(wr(i=>"closed"===i.state),vr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),kb(this.backdropClick(),this.keydownEvents().pipe(wr(i=>27===i.keyCode&&!this.disableClose&&!yne(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function o4e(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(wr(t=>"closing"===t.state),vr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const a4e=new j("MatMdcDialogData"),c4e=new j("mat-mdc-dialog-default-options"),ere=new j("mat-mdc-dialog-scroll-strategy"),l4e={provide:ere,deps:[gf],useFactory:function u4e(n){return()=>n.scrollStrategies.block()}};let d4e=0,h4e=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,i,s,o,a,c,u,l,d){this._overlay=t,this._defaultOptions=i,this._parentDialog=s,this._dialogRefConstructor=c,this._dialogContainerType=u,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ke,this._afterOpenedAtThisLevel=new ke,this._idPrefix="mat-dialog-",this.dialogConfigClass=P0,this.afterAllClosed=pd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(pw(void 0))),this._scrollStrategy=a,this._dialog=r.get(One)}open(t,r){let i;(r={...this._defaultOptions||new P0,...r}).id=r.id||`${this._idPrefix}${d4e++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:D0,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(o,a,c)=>(i=new this._dialogRefConstructor(o,r,c),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentRef=s.componentRef,i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}static#e=this.\u0275fac=function(r){vA()};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),tre=(()=>{class n extends h4e{constructor(t,r,i,s,o,a,c,u){super(t,r,s,a,c,o,s4e,i4e,a4e,u),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(r){return new(r||n)(C(gf),C(Bt),C(Pp,8),C(c4e,8),C(ere),C(n,12),C(b0),C(np,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),f4e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({providers:[tre,l4e],imports:[H3e,mne,T0,Fne,Fne]})}return n})();function p4e(n,e){1&n&&Q(0,"div")}function g4e(n,e){1&n&&T(0),2&n&&U(lt().loginText)}function m4e(n,e){if(1&n&&(y(0,"a",68),T(1),E()),2&n){const t=lt();Le("href",t.loginText,Es),x(1),U(t.loginText)}}function _4e(n,e){1&n&&Q(0,"div")}function y4e(n,e){1&n&&T(0),2&n&&U(lt().loginText)}function v4e(n,e){if(1&n&&(y(0,"a",68),T(1),E()),2&n){const t=lt();Le("href",t.loginText,Es),x(1),U(t.loginText)}}let w4e=(()=>{class n{constructor(t,r){this.dialogRef=t,this.translate=r,this.loginText="\u0412\u0445\u0456\u0434";const i=localStorage.getItem("language")||"{}";this.translate.setDefaultLang(i)}ngOnInit(){this.changeText(),console.log(this.loginText)}switchLanguage(t){this.translate.use(t.target.value),localStorage.setItem("language",t.target.value)}openDialog(){this.dialogRef.open(fVe)}changeText(){const t=JSON.parse(`${localStorage.getItem("currentUser")}`);console.log(t),t&&"ADMIN"===t.role?(this.loginText="admin",this.login="/admin"):t&&"USER"===t.role&&(this.loginText="cabinet",this.login="/cabinet")}menuOnClick(){document.getElementById("menu-bar")?.classList.toggle("change"),document.getElementById("nav")?.classList.toggle("change"),document.getElementById("menu-bg")?.classList.toggle("change-bg")}static#e=this.\u0275fac=function(r){return new(r||n)($(tre),$(MI))};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-header"]],decls:140,vars:18,consts:[[1,"container-logo"],["href","/",1,"logo"],["src","https://noa.ua/wp-content/uploads/2020/10/logo_one-1.svg","alt",""],["id","menu-bg",1,"menu-bg"],[1,"container-menu"],[1,"menu-text"],[1,"menu"],[1,"top-menu"],[1,"category"],["href","/product/culinasia-special"],["src","https://noa.ua/wp-content/uploads/2023/01/ramen-kari-z-krevetkamy-4-110x110.webp","alt",""],["href","/product/breakfast-18"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtsnidanky-110x110.png","alt",""],["href","/product/starters"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtstartery-110x110.png","alt",""],["href","/product/ramen"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtramen-110x110.png","alt",""],["href","/product/asian-wok"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtasian-wok-110x110.png","alt",""],["href","/product/asian-poke"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtasian-poke-110x110.png","alt",""],[1,"bottom-menu"],["href","/product/sushi-burger"],["src","https://noa.ua/wp-content/uploads/2023/04/tuna-sushi-burger-110x110.png","alt",""],["href","/product/rols"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtroly-110x110.png","alt",""],["href","/product/sets"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtsushi-sety-110x110.png","alt",""],["href","/product/deserts"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtdeserty-110x110.png","alt",""],["href","/product/drinks"],["src","https://noa.ua/wp-content/uploads/2023/08/rubryky-na-sajtnapoyi-110x110.png","alt",""],["href","/product/drinks-18"],["src","https://noa.ua/wp-content/uploads/2022/10/gin-tonic-pink-site-110x110.png","alt",""],[2,"text-align","center"],[1,"bottom2-menu"],["href","product/sushi-burger"],["href","/delivery"],[1,"persona-info-container"],[1,"switch-language"],["name","","id","",1,"select-test","input-language",3,"change"],["value","ua"],["value","en"],[1,"basket"],["href","/basket"],["src","/assets/images/shopping-cart-outline-svgrepo-com.svg","alt",""],[1,"leave-review"],["href","https://go.expirenza.com/review?code=8H8A0","target","_blank",2,"text-decoration","none","color","white"],[1,"heart"],["src","https://noa.ua/wp-content/themes/tomatina/img/heart.png","alt",""],[1,"phone"],["src","https://noa.ua/wp-content/themes/tomatina/img/phone.png","alt",""],[1,"login",3,"click"],["src","https://noa.ua/wp-content/themes/tomatina/img/icons/user.svg","alt","",1,"profile-image"],[1,"login-text"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"click"],["thenBlock",""],["elseBlock",""],["role","navigation"],["id","menuToggle"],["type","checkbox"],["id","menu"],[1,"",2,"display","flex","justify-content","space-between"],["height","40px","width","40px","src","/assets/images/shopping-cart-outline-svgrepo-com.svg","alt","",2,"filter","invert(1)"],[1,"select-test",2,"color","black",3,"change"],[1,"",2,"display","flex","justify-content","center"],[1,"leave-review",2,"margin-top","20px"],[3,"href"]],template:function(r,i){if(1&r&&(y(0,"header")(1,"div",0)(2,"a",1),Q(3,"img",2),E(),Q(4,"div",3),E(),y(5,"div",4)(6,"p",5),T(7),G(8,"translate"),E(),y(9,"div",6)(10,"div",7)(11,"div",8)(12,"a",9),Q(13,"img",10),y(14,"p"),T(15,"Culinasia special"),E()()(),y(16,"div",8)(17,"a",11),Q(18,"img",12),y(19,"p"),T(20,"\u0421\u043d\u0456\u0434\u0430\u043d\u043a\u0438 \u0434\u043e 18:00"),E()()(),y(21,"div",8)(22,"a",13),Q(23,"img",14),y(24,"p"),T(25,"\u0421\u0442\u0430\u0440\u0442\u0435\u0440\u0438"),E()()(),y(26,"div",8)(27,"a",15),Q(28,"img",16),y(29,"p"),T(30,"\u0420\u0430\u043c\u0435\u043d"),E()()(),y(31,"div",8)(32,"a",17),Q(33,"img",18),y(34,"p"),T(35,"Asian Wok"),E()()(),y(36,"div",8)(37,"a",19),Q(38,"img",20),y(39,"p"),T(40,"Asian Poke"),E()()()(),y(41,"div",21)(42,"div",8)(43,"a",22),Q(44,"img",23),y(45,"p"),T(46,"\u0421\u0443\u0448\u0456-\u0431\u0443\u0440\u0433\u0435\u0440\u0438"),E()()(),y(47,"div",8)(48,"a",24),Q(49,"img",25),y(50,"p"),T(51,"\u0420\u043e\u043b\u0438"),E()()(),y(52,"div",8)(53,"a",26),Q(54,"img",27),y(55,"p"),T(56,"\u0421\u0423\u0428\u0406 \u0421\u0415\u0422\u0418"),E()()(),y(57,"div",8)(58,"a",28),Q(59,"img",29),y(60,"p"),T(61,"\u0414\u0415\u0421\u0415\u0420\u0422\u0418"),E()()(),y(62,"div",8)(63,"a",30),Q(64,"img",31),y(65,"p"),T(66,"\u041d\u0410\u041f\u041e\u0407"),E()()(),y(67,"div",8)(68,"a",32),Q(69,"img",33),y(70,"p",34),T(71,"\u0410\u041b\u041a\u041e\u0413\u041e\u041b\u042c\u041d\u0406 \u041d\u0410\u041f\u041e\u0407 18+"),E()()()(),y(72,"div",35)(73,"div",8)(74,"a",36),Q(75,"img",23),y(76,"p"),T(77,"\u0421\u0443\u0448\u0456-\u0431\u0443\u0440\u0433\u0435\u0440\u0438"),E()()()()(),y(78,"p",5)(79,"a",37),T(80),G(81,"translate"),E()()(),y(82,"div",38)(83,"div",39)(84,"select",40),ut("change",function(o){return i.switchLanguage(o)}),y(85,"option",41),T(86,"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"),E(),y(87,"option",42),T(88,"English"),E()()(),y(89,"div",43)(90,"a",44),Q(91,"img",45),E()(),y(92,"div",46)(93,"a",47)(94,"p"),T(95),G(96,"translate"),E()()(),y(97,"div",48),Q(98,"img",49),E(),y(99,"div",50),Q(100,"img",51),E(),y(101,"div",52),ut("click",function(){return i.openDialog()}),Q(102,"img",53),y(103,"span",54),Ke(104,p4e,1,0,"div",55),Ke(105,g4e,1,1,"ng-template",56,57,Ap),ut("click",function(){return i.openDialog()}),Ke(107,m4e,2,2,"ng-template",null,58,Ap),E()()(),y(109,"nav",59)(110,"div",60),Q(111,"input",61)(112,"span")(113,"span")(114,"span"),y(115,"ul",62)(116,"div",63)(117,"div",52),ut("click",function(){return i.openDialog()}),Q(118,"img",53),y(119,"span",54),Ke(120,_4e,1,0,"div",55),Ke(121,y4e,1,1,"ng-template",56,57,Ap),ut("click",function(){return i.openDialog()}),Ke(123,v4e,2,2,"ng-template",null,58,Ap),E()(),y(125,"div",43)(126,"a",44),Q(127,"img",64),E()(),y(128,"div",39)(129,"select",65),ut("change",function(o){return i.switchLanguage(o)}),y(130,"option",41),T(131,"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"),E(),y(132,"option",42),T(133,"English"),E()()()(),y(134,"div",66)(135,"div",67)(136,"a",47)(137,"p"),T(138),G(139,"translate"),E()()()()()()()()),2&r){const s=FA(106),o=FA(108);x(7),An(" ",H(8,10,"menu")," "),x(73),U(H(81,12,"delivery")),x(15),U(H(96,14,"leave-review")),x(9),Le("ngIf","\u0412\u0445\u0456\u0434"==i.loginText)("ngIfThen",s)("ngIfElse",o),x(16),Le("ngIf","\u0412\u0445\u0456\u0434"==i.loginText)("ngIfThen",s)("ngIfElse",o),x(18),U(H(139,16,"leave-review"))}},dependencies:[zc,Ch],styles:['header[_ngcontent-%COMP%]{background-image:url(https://noa.ua/wp-content/themes/tomatina/img/bg-header.jpg);width:100%;height:105px;display:flex;align-items:center;justify-content:space-between;padding-right:20px}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-left:20px;width:9.4%}header[_ngcontent-%COMP%]   .container-menu[_ngcontent-%COMP%]{width:20%;height:100%;color:#fff;display:flex;align-items:center;font-family:Varela Round,sans-serif;text-transform:uppercase;font-size:14px;position:relative}header[_ngcontent-%COMP%]   .container-menu[_ngcontent-%COMP%]   .menu-text[_ngcontent-%COMP%]{margin:0 10px;transition:.4s;cursor:pointer}header[_ngcontent-%COMP%]   .container-menu[_ngcontent-%COMP%]   .menu-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;transition:.4s}header[_ngcontent-%COMP%]   .container-menu[_ngcontent-%COMP%]   .menu-text[_ngcontent-%COMP%]:hover{color:#2d7d7d}header[_ngcontent-%COMP%]   .container-menu[_ngcontent-%COMP%]   .menu-text[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#2d7d7d}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]{width:45%;display:flex;align-items:center}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .basket[_ngcontent-%COMP%]{color:#fff;padding-right:20px}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .basket[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:41px;padding-top:10px}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .leave-review[_ngcontent-%COMP%]{width:223px;height:60px;background-color:#323232;display:flex;justify-content:center;align-items:center;border-radius:6px;font-family:Varela Round,sans-serif;color:#fff;font-weight:500;font-size:13px;letter-spacing:.15em;margin-right:30px;transition:.4s;cursor:pointer}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .leave-review[_ngcontent-%COMP%]:hover{background-color:#2d7d7d}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:47px;width:47px}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .phone[_ngcontent-%COMP%]{margin-left:30px}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{width:16px;height:20px;margin-left:30px}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .login-text[_ngcontent-%COMP%]{color:#fff;font-family:Varela Round,sans-serif;font-size:14px}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .burger-menu[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;margin-left:30px;position:relative}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .burger-menu[_ngcontent-%COMP%]:before{position:absolute;top:13px;content:"| | |";transform:rotate(90deg);color:#fff}@media screen and (max-width: 900px){header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]{width:23%}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .leave-review[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]   .phone[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]   .menu-text[_ngcontent-%COMP%]:nth-child(2){display:none}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{width:500px;left:-100px;padding-top:30px;padding-left:10px;padding-right:10px}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{width:70px;height:70px}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .top-menu[_ngcontent-%COMP%]{margin-bottom:50px}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .bottom-menu[_ngcontent-%COMP%]{margin-bottom:50px}.profile-image[_ngcontent-%COMP%]{width:16px;height:20px;margin-left:0!important}.login-text[_ngcontent-%COMP%]{display:none}}.select-test[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;margin-right:10px;margin-top:5px}.container-menu[_ngcontent-%COMP%]:hover   .menu[_ngcontent-%COMP%]{top:100px;height:542px;opacity:1;z-index:2}.menu[_ngcontent-%COMP%]{width:943px;height:542px;background-color:#f5f5f5;box-shadow:0 3px 6px #0000000d;position:absolute;top:80px;transition:.4s;opacity:0;z-index:-1;color:#6d6d6d;padding-bottom:150px}.category[_ngcontent-%COMP%]{height:160px;width:160px;transition:.4s;display:flex;align-items:center;text-align:center;justify-content:center;flex-direction:column;margin:0 auto 10px}.category[_ngcontent-%COMP%]:hover{background-color:#fff;color:#2d7d7d}.top-menu[_ngcontent-%COMP%], .bottom-menu[_ngcontent-%COMP%]{display:flex;width:100%}.bottom2-menu[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:left;align-items:left}@media screen and (max-width: 500px){header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{width:95vw;left:-141px!important;position:absolute;font-size:10px}}body[_ngcontent-%COMP%]{margin:0;padding:0;background:#232323;color:#cdcdcd;font-family:Avenir Next,Avenir,sans-serif;overflow-x:hidden}a[_ngcontent-%COMP%]{text-decoration:none;color:#232323;transition:color .3s ease}a[_ngcontent-%COMP%]:hover{color:tomato}#menuToggle[_ngcontent-%COMP%]{display:none;position:absolute;top:50px;right:50px;z-index:1;-webkit-user-select:none;user-select:none}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:40px;height:32px;position:absolute;top:-7px;left:-5px;cursor:pointer;opacity:0;z-index:2;-webkit-touch-callout:none}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:33px;height:4px;margin-bottom:5px;position:relative;background:#cdcdcd;border-radius:3px;z-index:1;transform-origin:4px 0px;transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{transform-origin:0% 0%}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-last-child(2){transform-origin:0% 100%}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]{opacity:1;transform:rotate(45deg) translate(-2px,-1px);background:#232323}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(3){opacity:0;transform:rotate(0) scale(.2)}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(2){opacity:1;transform:rotate(-45deg) translateY(-1px)}#menu[_ngcontent-%COMP%]{position:absolute;width:96vw;margin:-100px 0 0;padding:125px 50px 50px;right:-19px;display:none;background:#ededed;list-style-type:none;-webkit-font-smoothing:antialiased;transform-origin:0% 0%;transform:translate(100%);transition:transform .5s cubic-bezier(.77,.2,.05,1)}#menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0;font-size:22px}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ ul[_ngcontent-%COMP%]{transform:none;opacity:1;display:block!important}@media screen and (max-width: 768px){#menu[_ngcontent-%COMP%]{transform:none;opacity:0;display:none;transition:opacity .5s cubic-bezier(.77,.2,.05,1)}#menu[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{display:flex}#menu[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .login-text[_ngcontent-%COMP%]{background:none}#menuToggle[_ngcontent-%COMP%]{display:block;top:42px;right:25px}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]{width:23%}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .basket[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .switch-language[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]   .persona-info-container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{display:none}}.leave-review[_ngcontent-%COMP%]{width:223px;height:60px;background-color:#323232;display:flex;justify-content:center;align-items:center;border-radius:6px;font-family:Varela Round,sans-serif;color:#fff;font-weight:500;font-size:13px;letter-spacing:.15em;margin-right:30px;transition:.4s;cursor:pointer}.leave-review[_ngcontent-%COMP%]:hover{background-color:#2d7d7d}']})}return n})(),E4e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-footer"]],decls:92,vars:36,consts:[[1,"footer1-footer2-container",2,"display","flex","justify-content","space-between","width","22%"],[1,"footer-1"],[1,"footer-2"],[1,"footer-3"],[1,"top"],[1,"location-container"],["src","/assets/images/test.svg","alt","",1,"top-svg"],["src","/assets/images/arrow-down.svg","alt","",1,"arrow-down"],[1,"address"],[1,"city"],[1,"footer-4"],[1,"phone"],["src","/assets/images/phone.svg","alt","",1,"phone-icon"],[1,"phone-number"],[1,"bottom"],[1,"clock"],[1,"left"],["src","/assets/images/clock.svg","alt","",1,"clock-icon"],[1,"right"],[1,"from"],[1,"to"],[1,"footer-5"],[1,"facebook"],["src","/assets/images/facebook-circle.svg","alt",""],["src","/assets/images/facebook-icon.svg","alt","",1,"facebook-icon"],[1,"instagram"],["src","/assets/images/instagram-circle.svg","alt",""],["src","/assets/images/instagram-icon.svg","alt","",1,"instagram-icon"]],template:function(r,i){1&r&&(y(0,"footer")(1,"div",0)(2,"div",1)(3,"p"),T(4),G(5,"translate"),E(),y(6,"p"),T(7),G(8,"translate"),E(),y(9,"p"),T(10),G(11,"translate"),E(),y(12,"p"),T(13,"ASIAN POKE"),E(),y(14,"p"),T(15,"ASIAN WOK"),E(),y(16,"p"),T(17),G(18,"translate"),E()(),y(19,"div",2)(20,"p"),T(21),G(22,"translate"),E(),y(23,"p"),T(24),G(25,"translate"),E(),y(26,"p"),T(27),G(28,"translate"),E(),y(29,"p"),T(30),G(31,"translate"),E()()(),y(32,"div",3)(33,"div",4)(34,"div",5),Q(35,"img",6)(36,"img",7),E(),y(37,"p",8)(38,"span",9),T(39,"\u043c. \u041b\u044c\u0432\u0456\u0432"),E(),Q(40,"br"),T(41," \u0422\u0420\u0426 Victoria Gardens, \u041a\u0443\u043b\u044c\u043f\u0430\u0440\u043a\u0456\u0432\u0441\u044c\u043a\u0430 226 \u0410 "),Q(42,"br"),T(43," \u0422\u0420\u0426 Spartak, \u041c\u0430\u0437\u0435\u043f\u0438 1\u0411 "),Q(44,"br"),T(45," \u0421\u0442\u0430\u0440\u043e\u0454\u0432\u0440\u0435\u0439\u0441\u044c\u043a\u0430 4 "),Q(46,"br"),T(47," \u041a\u0440\u0438\u0432\u0430 \u041b\u0438\u043f\u0430 8 "),Q(48,"br"),y(49,"span",9),T(50," \u0441. \u0421\u043e\u043a\u0456\u043b\u044c\u043d\u0438\u043a\u0438"),E(),Q(51,"br"),T(52," \u0422\u0420\u0426 King Cross, \u0421\u0442\u0440\u0438\u0439\u0441\u044c\u043a\u0430 30"),E(),Q(53,"p")(54,"p"),E()(),y(55,"div",10)(56,"div",4)(57,"div",11),Q(58,"img",6)(59,"img",12),E(),y(60,"p",13),T(61,"+38 (067) 792 90 90"),E()(),y(62,"div",14)(63,"div",15)(64,"div",16),Q(65,"img",6)(66,"img",17),E(),y(67,"div",18)(68,"p"),T(69),G(70,"translate"),E(),y(71,"p"),T(72),G(73,"translate"),y(74,"span",19),T(75,"10:00"),E(),T(76),G(77,"translate"),y(78,"span",20),T(79,"22:55"),E()()()()()(),y(80,"div",21)(81,"div",16)(82,"p"),T(83),G(84,"translate"),E()(),y(85,"div",18)(86,"div",22),Q(87,"img",23)(88,"img",24),E(),y(89,"div",25),Q(90,"img",26)(91,"img",27),E()()()()),2&r&&(x(4),U(H(5,12,"deserts-footer")),x(3),U(H(8,14,"sets-footer")),x(3),U(H(11,16,"rols-footer")),x(7),U(H(18,18,"ramen-footer")),x(4),U(H(22,20,"oferta-footer")),x(3),U(H(25,22,"contacts-footer")),x(3),U(H(28,24,"about-us-footer")),x(3),U(H(31,26,"delivery-footer")),x(39),U(H(70,28,"work-time")),x(3),An("",H(73,30,"from")," "),x(4),An(" ",H(77,32,"to")," "),x(7),U(H(84,34,"follow-us")))},dependencies:[Ch],styles:["footer[_ngcontent-%COMP%]{padding-top:100px;padding-left:40px;padding-right:40px;font-family:Varela Round,sans-serif!important;font-size:14px;display:flex;justify-content:space-between;font-weight:300}footer[_ngcontent-%COMP%]   .footer-1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}footer[_ngcontent-%COMP%]   .footer-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px;color:#6d6d6d}footer[_ngcontent-%COMP%]   .footer-3[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex}footer[_ngcontent-%COMP%]   .footer-3[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{margin-left:20px;line-height:20px;color:#2d2c2c;line-height:25px}footer[_ngcontent-%COMP%]   .footer-3[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]   .city[_ngcontent-%COMP%]{font-weight:600}footer[_ngcontent-%COMP%]   .footer-3[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .top-svg[_ngcontent-%COMP%]{width:47px;height:47px}footer[_ngcontent-%COMP%]   .footer-3[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .location-container[_ngcontent-%COMP%]{position:relative}footer[_ngcontent-%COMP%]   .footer-3[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .arrow-down[_ngcontent-%COMP%]{position:absolute;left:18px;top:14px}footer[_ngcontent-%COMP%]   .footer-4[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex}footer[_ngcontent-%COMP%]   .footer-4[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .phone[_ngcontent-%COMP%]{position:relative}footer[_ngcontent-%COMP%]   .footer-4[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .phone[_ngcontent-%COMP%]   .phone-icon[_ngcontent-%COMP%]{position:absolute;top:12px;left:17px}footer[_ngcontent-%COMP%]   .footer-4[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .phone-number[_ngcontent-%COMP%]{margin-top:14px;margin-left:10px;font-weight:500}footer[_ngcontent-%COMP%]   .footer-4[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .clock[_ngcontent-%COMP%]{display:flex;margin-top:10px;position:relative}footer[_ngcontent-%COMP%]   .footer-4[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .clock[_ngcontent-%COMP%]   .clock-icon[_ngcontent-%COMP%]{top:13px;left:15px;position:absolute}footer[_ngcontent-%COMP%]   .footer-4[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding-top:5px;margin-left:10px;line-height:20px;font-weight:400;color:#6d6d6d}footer[_ngcontent-%COMP%]   .footer-4[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]{color:#2d2c2c;font-weight:600}footer[_ngcontent-%COMP%]   .footer-4[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .to[_ngcontent-%COMP%]{color:#2d2c2c;font-weight:600}footer[_ngcontent-%COMP%]   .footer-5[_ngcontent-%COMP%]{display:flex}footer[_ngcontent-%COMP%]   .footer-5[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]{position:relative}footer[_ngcontent-%COMP%]   .footer-5[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]   .facebook-icon[_ngcontent-%COMP%]{top:15px;left:20px;position:absolute}footer[_ngcontent-%COMP%]   .footer-5[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{font-weight:500;padding-top:15px}footer[_ngcontent-%COMP%]   .footer-5[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-left:10px;display:flex}footer[_ngcontent-%COMP%]   .footer-5[_ngcontent-%COMP%]   .instagram[_ngcontent-%COMP%]{position:relative;margin-left:10px}footer[_ngcontent-%COMP%]   .footer-5[_ngcontent-%COMP%]   .instagram[_ngcontent-%COMP%]   .instagram-icon[_ngcontent-%COMP%]{top:15px;left:16px;position:absolute}@media screen and (max-width: 500px){footer[_ngcontent-%COMP%]{display:flex;flex-direction:column}footer[_ngcontent-%COMP%]   .footer-1[_ngcontent-%COMP%]{float:left}footer[_ngcontent-%COMP%]   .footer-2[_ngcontent-%COMP%]{float:left}.footer1-footer2-container[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})(),I4e=(()=>{class n{constructor(){this.title="homework"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tn({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&Q(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[CS,w4e,E4e]})}return n})();const T4e=function rre(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ire=new ri("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),R0=new Ao("@firebase/auth");function M0(n,...e){R0.logLevel<=Re.ERROR&&R0.error(`Auth (${NI}): ${n}`,...e)}function di(n,...e){throw ZF(n,...e)}function no(n,...e){return ZF(n,...e)}function ZF(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ire.create(n,...e)}function W(n,e,...t){if(!n)throw ZF(e,...t)}function ro(n){const e="INTERNAL ASSERTION FAILED: "+n;throw M0(e),new Error(e)}function mc(n,e){n||ro(e)}function ore(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Y_{constructor(e,t){this.shortDelay=e,this.longDelay=t,mc(t>e,"Short delay should be less than long delay!"),this.isMobile=m7()||y7()}get(){return function C4e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function eV(){return"http:"===ore()||"https:"===ore()}()||Fw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class are{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ro("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ro("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ro("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const D4e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},S4e=new Y_(3e4,6e4);function Zt(n,e,t,r){return nV.apply(this,arguments)}function nV(){return nV=_(function*(n,e,t,r,i={}){return cre(n,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ad(Object.assign({key:n.config.apiKey},o)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),are.fetch()(ure(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))}),nV.apply(this,arguments)}function cre(n,e,t){return rV.apply(this,arguments)}function rV(){return rV=_(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},D4e),e);try{const i=new x4e(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw X_(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw X_(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw X_(n,"email-already-in-use",o);if("USER_DISABLED"===c)throw X_(n,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function sre(n,e,t){const r=Object.assign(Object.assign({},T4e()),{[e]:t});return new ri("auth","Firebase",r).create(e,{appName:n.name})}(n,l,u);di(n,l)}}catch(i){if(i instanceof On)throw i;di(n,"network-request-failed",{message:String(i)})}}),rV.apply(this,arguments)}function ure(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function tV(n,e){mc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class x4e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(no(this.auth,"network-request-failed")),S4e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function X_(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=no(n,e,r);return i.customData._tokenResponse=t,i}function sV(){return sV=_(function*(n,e){return Zt(n,"POST","/v1/accounts:delete",e)}),sV.apply(this,arguments)}function aV(){return aV=_(function*(n,e){return Zt(n,"POST","/v1/accounts:lookup",e)}),aV.apply(this,arguments)}function J_(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cV(){return cV=_(function*(n,e=!1){const t=rt(n),r=yield t.getIdToken(e),i=k0(r);W(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:J_(uV(i.auth_time)),issuedAtTime:J_(uV(i.iat)),expirationTime:J_(uV(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}),cV.apply(this,arguments)}function uV(n){return 1e3*Number(n)}function k0(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return M0("JWT malformed, contained fewer than 3 sections"),null;try{const i=Zp(t);return i?JSON.parse(i):(M0("Failed to decode base64 JWT payload"),null)}catch(i){return M0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ra(n,e){return lV.apply(this,arguments)}function lV(){return lV=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof On&&function N4e({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),lV.apply(this,arguments)}class L4e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class lre{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=J_(this.lastLoginAt),this.creationTime=J_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Z_(n){return dV.apply(this,arguments)}function dV(){return dV=_(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ra(n,function M4e(n,e){return aV.apply(this,arguments)}(t,{idToken:r}));W(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function U4e(n){return n.map(e=>{var{providerId:t}=e,r=Af(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function V4e(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lre(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),dV.apply(this,arguments)}function hV(){return hV=_(function*(n){const e=rt(n);yield Z_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),hV.apply(this,arguments)}function fV(){return fV=_(function*(n,e){const t=yield cre(n,{},_(function*(){const r=Ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=ure(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",are.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),fV.apply(this,arguments)}class ey{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function O4e(n){const e=k0(n);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return _(function*(){return W(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function B4e(n,e){return fV.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new ey;return r&&(W("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(W("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(W("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ey,this.toJSON())}_performRefresh(){return ro("not implemented")}}function _c(n,e){W("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class sl{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Af(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L4e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lre(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const r=yield ra(t,t.stsTokenManager.getToken(t.auth,e));return W(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function k4e(n){return cV.apply(this,arguments)}(this,e)}reload(){return function F4e(n){return hV.apply(this,arguments)}(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Z_(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield ra(e,function P4e(n,e){return sV.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,w=null!==(u=t.createdAt)&&void 0!==u?u:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:I,emailVerified:S,isAnonymous:O,providerData:V,stsTokenManager:ie}=t;W(I&&ie,e,"internal-error");const Ee=ey.fromJSON(this.name,ie);W("string"==typeof I,e,"internal-error"),_c(d,e.name),_c(h,e.name),W("boolean"==typeof S,e,"internal-error"),W("boolean"==typeof O,e,"internal-error"),_c(f,e.name),_c(p,e.name),_c(g,e.name),_c(m,e.name),_c(w,e.name),_c(v,e.name);const et=new sl({uid:I,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Ee,createdAt:w,lastLoginAt:v});return V&&Array.isArray(V)&&(et.providerData=V.map(Wn=>Object.assign({},Wn))),m&&(et._redirectEventId=m),et}static _fromIdTokenResponse(e,t,r=!1){return _(function*(){const i=new ey;i.updateFromServerResponse(t);const s=new sl({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Z_(s),s})()}}const dre=new Map;function ia(n){mc(n instanceof Function,"Expected a class definition");let e=dre.get(n);return e?(mc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,dre.set(n,e),e)}const hre=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,r){var i=this;return _(function*(){i.storage[t]=r})()}_get(t){var r=this;return _(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return _(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function O0(n,e,t){return`firebase:${n}:${e}:${t}`}class yf{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=O0(this.userKey,i.apiKey,s),this.fullPersistenceKey=O0("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?sl._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(function*(){if(!t.length)return new yf(ia(hre),e,r);const i=(yield Promise.all(t.map(function(){var u=_(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||ia(hre);const o=O0(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const l=yield u._get(o);if(l){const d=sl._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var u=_(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return u.apply(this,arguments)}}())),new yf(s,e,r)):new yf(s,e,r)})()}}function fre(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function mre(n=pt()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function pre(n=pt()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function yre(n=pt()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function vre(n=pt()){return/webos/i.test(n)}(e))return"Webos";if(function pV(n=pt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function gre(n=pt()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function _re(n=pt()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function wre(n,e=[]){let t;switch(n){case"Browser":t=fre(pt());break;case"Worker":t=`${fre(pt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${NI}/${r}`}function Ere(n,e){return mV.apply(this,arguments)}function mV(){return mV=_(function*(n,e){return Zt(n,"GET","/v2/recaptchaConfig",function Ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))}),mV.apply(this,arguments)}function Tre(n){return void 0!==n&&void 0!==n.enterprise}class bre{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class Are{constructor(e){this.type="recaptcha-enterprise",this.auth=qn(e)}verify(e="verify",t=!1){var r=this;return _(function*(){function s(){return s=_(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=_(function*(u,l){Ere(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new bre(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,u){const l=window.grecaptcha;Tre(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!t&&Tre(window.grecaptcha))o(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));(function _V(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=no("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function G4e(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{o(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}class K4e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Q4e{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dre(this),this.idTokenSubscription=new Dre(this),this.beforeStateQueue=new K4e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ire,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ia(t)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield yf.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(s=u.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return W(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield Z_(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function A4e(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const r=e?rt(e):null;return r&&W(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return _(function*(){if(!r._deleted)return e&&W(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(ia(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const t=yield Ere(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new bre(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new Are(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ri("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const r=e&&ia(e)||t._popupRedirectResolver;W(r,t,"argument-error"),t.redirectPersistenceManager=yield yf.create(t,[ia(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var r,i;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return W(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wre(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return _(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function b4e(n,...e){R0.logLevel<=Re.WARN&&R0.warn(`Auth (${NI}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function qn(n){return rt(n)}class Dre{constructor(e){this.auth=e,this.observer=null,this.addObserver=E7(t=>this.observer=t)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Cre(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Y_(3e4,6e4),new Y_(2e3,1e4),new Y_(3e4,6e4),new Y_(5e3,15e3),encodeURIComponent("fac");var nie="@firebase/auth";class jBe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}LS("authIdTokenMaxAge"),function zBe(n){Ah(new Rt("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wre(n)},u=new Q4e(r,i,s,c);return function X4e(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ia);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ah(new Rt("auth-internal",e=>{const t=qn(e.getProvider("auth").getImmediate());return new jBe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(nie,"0.23.2",function $Be(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Hi(nie,"0.23.2","esm2017")}("Browser");class oie{constructor(){return WI("auth")}}const o4=new Map,aie={activated:!1,tokenObservers:[]},YBe={initialized:!1,enabled:!1};function en(n){return o4.get(n)||Object.assign({},aie)}function W0(){return YBe}const a4="https://content-firebaseappcheck.googleapis.com/v1",eje="exchangeDebugToken",cie={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class nje{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return _(function*(){t.stop();try{t.pending=new Lw,yield function rje(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Lw,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fr=new ri("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function c4(n){if(!en(n).activated)throw fr.create("use-before-activation",{appName:n.name})}function Y0(n,e){return l4.apply(this,arguments)}function l4(){return l4=_(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw fr.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw fr.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw fr.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}),l4.apply(this,arguments)}function uie(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${a4}/projects/${t}/apps/${r}:${eje}?key=${i}`,body:{debug_token:e}}}const aje="firebase-app-check-database",cje=1,sy="firebase-app-check-store";let X0=null;function d4(){return d4=_(function*(n,e){const r=(yield function die(){return X0||(X0=new Promise((n,e)=>{try{const t=indexedDB.open(aje,cje);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(fr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(sy,{keyPath:"compositeKey"})}}catch(t){e(fr.create("storage-open",{originalErrorMessage:t?.message}))}}),X0)}()).transaction(sy,"readwrite"),s=r.objectStore(sy).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(fr.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})}),d4.apply(this,arguments)}const oy=new Ao("@firebase/app-check");function p4(n,e){return Ta()?function lje(n,e){return function hie(n,e){return d4.apply(this,arguments)}(function pie(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{oy.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function m4(){return W0().enabled}function _4(){return y4.apply(this,arguments)}function y4(){return y4=_(function*(){const n=W0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),y4.apply(this,arguments)}const mje={error:"UNKNOWN_ERROR"};function _je(n){return NS.encodeString(JSON.stringify(n),!1)}function J0(n){return v4.apply(this,arguments)}function v4(){return v4=_(function*(n,e=!1){const t=n.app;c4(t);const r=en(t);let s,i=r.token;if(i&&!wf(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(wf(c)?i=c:yield p4(t,void 0))}if(!e&&i&&wf(i))return{token:i.token};let a,o=!1;if(m4()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Y0(uie(t,yield _4()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield p4(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield en(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?oy.warn(c.message):oy.error(c),s=c}return i?s?a=wf(i)?{token:i.token,internalError:s}:yie(s):(a={token:i.token},r.token=i,yield p4(t,i)):a=yie(s),o&&function _ie(n,e){const t=en(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a}),v4.apply(this,arguments)}function w4(){return w4=_(function*(n){const e=n.app;c4(e);const{provider:t}=en(e);if(m4()){const r=yield _4(),{token:i}=yield Y0(uie(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),w4.apply(this,arguments)}function I4(n,e){const t=en(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function mie(n){const{app:e}=n,t=en(e);let r=t.tokenRefresher;r||(r=function yje(n){const{app:e}=n;return new nje(_(function*(){let r;if(r=en(e).token?yield J0(n,!0):yield J0(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=en(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},cie.RETRIAL_MIN_WAIT,cie.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function wf(n){return n.expireTimeMillis-Date.now()>0}function yie(n){return{token:_je(mje),error:n}}class vje{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=en(this.app);for(const t of e)I4(this.app,t.next);return Promise.resolve()}}const Aie="app-check-internal";!function kje(){Er(new Rt("app-check",n=>function wje(n,e){return new vje(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Aie).initialize()})),Er(new Rt(Aie,n=>function Eje(n){return{getToken:e=>J0(n,e),getLimitedUseToken:()=>function gie(n){return w4.apply(this,arguments)}(n),addTokenListener:e=>function E4(n,e,t,r){const{app:i}=n,s=en(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&wf(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),mie(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>mie(n))}(n,"INTERNAL",e),removeTokenListener:e=>I4(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Dn("@firebase/app-check","0.8.0")}();class Sie{constructor(){return WI("app-check")}}typeof window<"u"&&window;class D4{constructor(e){return e}}const S4=new j("angularfire2.storage-instances");function Bje(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new D4(r)}}const jje={provide:class Vje{constructor(){return WI("storage")}},deps:[[new mr,S4]]},$je={provide:D4,useFactory:function Uje(n,e){const t=function qI(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}("storage",n,e);return t&&new D4(t)},deps:[[new mr,S4],ku]};let zje=(()=>{class n{constructor(){Hi("angularfire",bN.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vt({type:n}),n.\u0275inj=St({providers:[$je,jje]}),n})();function Gje(n,...e){return{ngModule:zje,providers:[{provide:S4,useFactory:Bje(n),multi:!0,deps:[ye,Bt,vX,EX,[new mr,oie],[new mr,Sie],...e]}]}}const Hje=wX(ZQ,!0),Pie=["toast-component",""];function qje(n,e){if(1&n){const t=vo();y(0,"button",5),ut("click",function(){return Li(t),Fi(lt().remove())}),y(1,"span",6),T(2,"\xd7"),E()()}}function Wje(n,e){if(1&n&&(gp(0),T(1),mp()),2&n){const t=lt(2);x(1),An("[",t.duplicatesCount+1,"]")}}function Kje(n,e){if(1&n&&(y(0,"div"),T(1),Ke(2,Wje,2,1,"ng-container",4),E()),2&n){const t=lt();wo(t.options.titleClass),yo("aria-label",t.title),x(1),An(" ",t.title," "),x(1),Le("ngIf",t.duplicatesCount)}}function Qje(n,e){if(1&n&&Q(0,"div",7),2&n){const t=lt();wo(t.options.messageClass),Le("innerHTML",t.message,qC)}}function Yje(n,e){if(1&n&&(y(0,"div",8),T(1),E()),2&n){const t=lt();wo(t.options.messageClass),yo("aria-label",t.message),x(1),An(" ",t.message," ")}}function Xje(n,e){if(1&n&&(y(0,"div"),Q(1,"div",9),E()),2&n){const t=lt();x(1),sd("width",t.width+"%")}}class i5e{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class s5e{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class o5e{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ke;_activate=new ke;_manualClose=new ke;_resetTimeout=new ke;_countDuplicate=new ke;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class eb{toastId;config;message;title;toastType;toastRef;_onTap=new ke;_onAction=new ke;constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const Mie=new j("ToastConfig");class a5e extends s5e{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let c5e=(()=>{class n{_document=Y(Me);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class u5e{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let l5e=(()=>{class n{_overlayContainer=Y(c5e);_componentFactoryResolver=Y(Nc);_appRef=Y(xs);_document=Y(Me);_paneElements=new Map;create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new a5e(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new u5e(this._createPortalHost(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kie=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===t)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&s.enableHtml&&(u=this.sanitizer.sanitize(vi.HTML,r));const l=new o5e(c),d=new eb(this.index,s,u,i,t,l),f=Bt.create({providers:[{provide:eb,useValue:d}],parent:this._injector}),p=new i5e(s.toastComponent,f),g=c.attach(p,s.newestOnTop);l.componentInstance=g.instance;const m={toastId:this.index,title:i||"",message:r||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:g};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{m.toastRef.activate()})),this.toasts.push(m),m}static \u0275fac=function(r){return new(r||n)(C(Mie),C(l5e),C(Bt),C(eq),C(ye))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const d5e={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(r){return new(r||n)($(kie),$(eb),$(ye))};static \u0275cmp=Tn({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&ut("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(WA("@flyInOut",i.state),wo(i.toastClasses),sd("display",i.displayStyle))},standalone:!0,features:[Bv],attrs:Pie,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(Ke(0,qje,3,0,"button",0),Ke(1,Kje,3,5,"div",1),Ke(2,Qje,1,3,"div",2),Ke(3,Yje,2,4,"div",3),Ke(4,Xje,2,2,"div",4)),2&r&&(Le("ngIf",i.options.closeButton),x(1),Le("ngIf",i.title),x(1),Le("ngIf",i.message&&i.options.enableHtml),x(1),Le("ngIf",i.message&&!i.options.enableHtml),x(1),Le("ngIf",i.options.progressBar))},dependencies:[zc],encapsulation:2,data:{animation:[Gne("flyInOut",[W_("inactive",ta({opacity:0})),W_("active",ta({opacity:1})),W_("removed",ta({opacity:0})),x0("inactive => active",S0("{{ easeTime }}ms {{ easing }}")),x0("active => removed",S0("{{ easeTime }}ms {{ easing }}"))])]}})}return n})()},h5e=(n={})=>uv([{provide:Mie,useValue:{default:d5e,config:n}}]);let f5e=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[h5e(t)]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vt({type:n});static \u0275inj=St({})}return n})();function Oie(n){return new M(3e3,!1)}function vc(n){switch(n.length){case 0:return new K_;case 1:return n[0];default:return new Qne(n)}}function Nie(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(c=>{const u=c.get("offset"),l=u==o,d=l&&a||new Map;c.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,i),g){case"!":g=t.get(f);break;case ea:g=r.get(f);break;default:g=n.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),l||s.push(d),a=d,o=u}),i.length)throw function L5e(n){return new M(3502,!1)}();return s}function x4(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&P4(t,"start",n)));break;case"done":n.onDone(()=>r(t&&P4(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&P4(t,"destroy",n)))}}function P4(n,e,t){const s=R4(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function R4(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Pi(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Lie(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const K5e=(()=>typeof document>"u"?null:document.documentElement)();function M4(n){const e=n.parentNode||n.host||null;return e===K5e?null:e}let ul=null,Fie=!1;function Vie(n,e){for(;e;){if(e===n)return!0;e=M4(e)}return!1}function Uie(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let Bie=(()=>{class n{validateStyleProperty(t){return function Y5e(n){ul||(ul=function X5e(){return typeof document<"u"?document.body:null}()||{},Fie=!!ul.style&&"WebkitAppearance"in ul.style);let e=!0;return ul.style&&!function Q5e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ul.style,!e&&Fie&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ul.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Vie(t,r)}getParentElement(t){return M4(t)}query(t,r,i){return Uie(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new K_(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),k4=(()=>{class n{static#e=this.NOOP=new Bie}return n})();const J5e=1e3,O4="ng-enter",tb="ng-leave",nb="ng-trigger",rb=".ng-trigger",$ie="ng-animating",N4=".ng-animating";function oa(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:L4(parseFloat(e[1]),e[2])}function L4(n,e){return"s"===e?n*J5e:n}function ib(n,e,t){return n.hasOwnProperty("duration")?n:function e$e(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Oie()),{duration:0,delay:0,easing:""};i=L4(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=L4(parseFloat(c),a[4]));const u=a[5];u&&(o=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function p5e(){return new M(3100,!1)}()),a=!0),s<0&&(e.push(function g5e(){return new M(3101,!1)}()),a=!0),a&&e.splice(c,0,Oie())}return{duration:i,delay:s,easing:o}}(n,e,t)}function ay(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function zie(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function wc(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function io(n,e,t){e.forEach((r,i)=>{const s=V4(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function ll(n,e){e.forEach((t,r)=>{const i=V4(r);n.style[i]=""})}function cy(n){return Array.isArray(n)?1==n.length?n[0]:qne(n):n}const F4=new RegExp("{{\\s*(.+?)\\s*}}","g");function Hie(n){let e=[];if("string"==typeof n){let t;for(;t=F4.exec(n);)e.push(t[1]);F4.lastIndex=0}return e}function uy(n,e,t){const r=n.toString(),i=r.replace(F4,(s,o)=>{let a=e[o];return null==a&&(t.push(function _5e(n){return new M(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function sb(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const r$e=/-+([a-z0-9])/g;function V4(n){return n.replace(r$e,(...e)=>e[1].toUpperCase())}function Ri(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function y5e(n){return new M(3004,!1)}()}}function qie(n,e){return window.getComputedStyle(n)[e]}const ob="*";function o$e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function a$e(n,e,t){if(":"==n[0]){const c=function c$e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function M5e(n){return new M(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function R5e(n){return new M(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(Wie(i,o));"<"==s[0]&&!(i==ob&&o==ob)&&e.push(Wie(o,i))}(r,t,e)):t.push(n),t}const ab=new Set(["true","1"]),cb=new Set(["false","0"]);function Wie(n,e){const t=ab.has(n)||cb.has(n),r=ab.has(e)||cb.has(e);return(i,s)=>{let o=n==ob||n==i,a=e==ob||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?ab.has(n):cb.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?ab.has(e):cb.has(e)),o&&a}}const u$e=new RegExp("s*:selfs*,?","g");function U4(n,e,t,r){return new l$e(n).build(e,t,r)}class l$e{constructor(e){this._driver=e}build(e,t,r){const i=new f$e(t);return this._resetContextStyleTimingState(i),Ri(this,cy(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function w5e(){return new M(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(l=>{c.name=l,s.push(this.visitState(c,t))}),c.name=u}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(function E5e(){return new M(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{Hie(c).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(sb(s.values()),t.errors.push(function I5e(n,e){return new M(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ri(this,cy(e.animation),t);return{type:1,matchers:o$e(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:dl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ri(this,r,t)),options:dl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Ri(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:dl(e.options)}}visitAnimate(e,t){const r=function g$e(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return B4(ib(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=B4(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=ib(t,e);return B4(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:ta({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=ta(u)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ea?r.push(a):t.errors.push(new M(3002,!1)):r.push(zie(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let c of a.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const u=t.collectedStyles.get(t.currentQuerySelector),l=u.get(c);let d=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(t.errors.push(function b5e(n,e,t,r,i){return new M(3010,!1)}()),d=!1),s=l.startTime),d&&u.set(c,{startTime:s,endTime:i}),t.options&&function n$e(n,e,t){const r=e.params||{},i=Hie(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function m5e(n){return new M(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function C5e(){return new M(3011,!1)}()),r;let s=0;const o=[];let a=!1,c=!1,u=0;const l=e.steps.map(w=>{const v=this._makeStyleAst(w,t);let I=null!=v.offset?v.offset:function p$e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(v.styles),S=0;return null!=I&&(s++,S=v.offset=I),c=c||S<0||S>1,a=a||S<u,u=S,o.push(S),v});c&&t.errors.push(function A5e(){return new M(3012,!1)}()),a&&t.errors.push(function D5e(){return new M(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function S5e(){return new M(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return l.forEach((w,v)=>{const I=h>0?v==f?1:h*v:o[v],S=I*m;t.currentTime=p+g.delay+S,g.duration=S,this._validateStyleAst(w,t),w.offset=I,r.styles.push(w)}),r}visitReference(e,t){return{type:8,animation:Ri(this,cy(e.animation),t),options:dl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:dl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:dl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function d$e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(u$e,"")),n=n.replace(/@\*/g,rb).replace(/@\w+/g,t=>rb+"-"+t.slice(1)).replace(/:animating/g,N4),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Pi(t.collectedStyles,t.currentQuerySelector,new Map);const a=Ri(this,cy(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:dl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function x5e(){return new M(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ib(e.timings,t.errors,!0);return{type:12,animation:Ri(this,cy(e.animation),t),timings:r,options:null}}}class f$e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dl(n){return n?(n=ay(n)).params&&(n.params=function h$e(n){return n?ay(n):null}(n.params)):n={},n}function B4(n,e,t){return{duration:n,delay:e,easing:t}}function j4(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ub{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const y$e=new RegExp(":enter","g"),w$e=new RegExp(":leave","g");function $4(n,e,t,r,i,s=new Map,o=new Map,a,c,u=[]){return(new E$e).buildKeyframes(n,e,t,r,i,s,o,a,c,u)}class E$e{buildKeyframes(e,t,r,i,s,o,a,c,u,l=[]){u=u||new ub;const d=new z4(e,t,u,i,s,l,[]);d.options=c;const h=c.delay?oa(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,c),Ri(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[j4(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:oa(uy(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?oa(r.duration):null,a=null!=r.delay?oa(r.delay):null;return 0!==o&&e.forEach(c=>{const u=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ri(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=lb);const o=oa(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ri(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?oa(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Ri(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ib(t.params?uy(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?oa(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=lb);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,l)=>{t.currentQueryIndex=l;const d=t.createSubContext(e.options,u);s&&d.delayNextStep(s),u===t.element&&(c=d.currentTimeline),Ri(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const l=t.currentTimeline;c&&l.delayNextStep(c);const d=l.currentTime;Ri(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const lb={};class z4{constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new db(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=oa(r.duration)),null!=r.delay&&(i.delay=oa(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=uy(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new z4(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=lb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new I$e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(y$e,"."+this._enterClassName)).replace(w$e,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function P5e(n){return new M(3014,!1)}()),a}}class db{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new db(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ea),this._currentKeyframe.set(t,ea);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function T$e(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ea)}else wc(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of o){const u=uy(c,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ea),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const u=wc(a,new Map,this._backFill);u.forEach((l,d)=>{"!"===l?e.add(d):l===ea&&t.add(d)}),r||u.set("offset",c/this.duration),i.push(u)});const s=e.size?sb(e.values()):[],o=t.size?sb(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return j4(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class I$e extends db{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,c=wc(e[0]);c.set("offset",0),s.push(c);const u=wc(e[0]);u.set("offset",Yie(a)),s.push(u);const l=e.length-1;for(let d=1;d<=l;d++){let h=wc(e[d]);const f=h.get("offset");h.set("offset",Yie((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return j4(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Yie(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class G4{}const b$e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class C$e extends G4{normalizePropertyName(e,t){return V4(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(b$e.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function v5e(n,e){return new M(3005,!1)}())}return o+s}}function Xie(n,e,t,r,i,s,o,a,c,u,l,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:d,errors:h}}const H4={};class Jie{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function A$e(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,u,l){const d=[],h=this.ast.options&&this.ast.options.params||H4,p=this.buildStyles(r,a&&a.params||H4,d),g=c&&c.params||H4,m=this.buildStyles(i,g,d),w=new Set,v=new Map,I=new Map,S="void"===i,O={params:D$e(g,h),delay:this.ast.options?.delay},V=l?[]:$4(e,t,this.ast.animation,s,o,p,m,O,u,d);let ie=0;if(V.forEach(et=>{ie=Math.max(et.duration+et.delay,ie)}),d.length)return Xie(t,this._triggerName,r,i,S,p,m,[],[],v,I,ie,d);V.forEach(et=>{const Wn=et.element,vb=Pi(v,Wn,new Set);et.preStyleProps.forEach(fl=>vb.add(fl));const fy=Pi(I,Wn,new Set);et.postStyleProps.forEach(fl=>fy.add(fl)),Wn!==t&&w.add(Wn)});const Ee=sb(w.values());return Xie(t,this._triggerName,r,i,S,p,m,V,Ee,v,I,ie)}}function D$e(n,e){const t=ay(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class S$e{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=ay(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=uy(o,i,t));const c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}}class P$e{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new S$e(i.style,i.options&&i.options.params||{},r))}),Zie(this.states,"true","1"),Zie(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Jie(e,i,this.states))}),this.fallbackTransition=function R$e(n,e,t){return new Jie(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Zie(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const M$e=new ub;class k$e{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=U4(this._driver,t,r,[]);if(r.length)throw function F5e(n){return new M(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=Nie(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=$4(this._driver,t,s,O4,tb,new Map,new Map,r,M$e,i),o.forEach(l=>{const d=Pi(a,l.element,new Map);l.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function V5e(){return new M(3300,!1)}()),o=[]),i.length)throw function U5e(n){return new M(3504,!1)}();a.forEach((l,d)=>{l.forEach((h,f)=>{l.set(f,this._driver.computeStyle(d,f,ea))})});const u=vc(o.map(l=>{const d=a.get(l.element);return this._buildPlayer(l,new Map,d)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function B5e(n){return new M(3301,!1)}();return t}listen(e,t,r,i){const s=R4(t,"","","");return x4(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const ese="ng-animate-queued",q4="ng-animate-disabled",V$e=[],tse={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},U$e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hs="__ng_removed";class W4{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function z$e(n){return n??null}(r?e.value:e),r){const s=ay(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const ly="void",K4=new W4(ly);class B$e{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ki(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function j5e(n,e){return new M(3302,!1)}();if(null==r||0==r.length)throw function $5e(n){return new M(3303,!1)}();if(!function G$e(n){return"start"==n||"done"==n}(r))throw function z5e(n,e){return new M(3400,!1)}();const s=Pi(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Pi(this._engine.statesByElement,e,new Map);return a.has(t)||(Ki(e,nb),Ki(e,nb+"-"+t),a.set(t,K4)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function G5e(n){return new M(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new Q4(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Ki(e,nb),Ki(e,nb+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const u=new W4(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=K4),u.value!==ly&&c.value===u.value){if(!function W$e(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,u.params)){const g=[],m=s.matchStyles(c.value,c.params,g),w=s.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{ll(e,m),io(e,w)})}return}const h=Pi(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(c.value,u.value,e,u.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:u,player:o,isFallbackTransition:p}),p||(Ki(e,ese),o.onStart(()=>{Ef(e,ese)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let w=m.indexOf(o);w>=0&&m.splice(w,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,rb,!0);r.forEach(i=>{if(i[hs])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((c,u)=>{if(o.set(u,c.value),this._triggers.has(u)){const l=this.trigger(e,u,ly,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&vc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers.get(o).fallbackTransition,u=r.get(o)||K4,l=new W4(ly),d=new Q4(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:u,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[hs];(!s||s===tse)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ki(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const c=R4(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,x4(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class j$e{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new B$e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const u=r.indexOf(c);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(hb(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!hb(t))return;const s=t[hs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ki(e,q4)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ef(e,q4))}removeNode(e,t,r){if(hb(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[hs]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return hb(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,rb,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,N4,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return vc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[hs];if(t&&t.setForRemoval){if(e[hs]=tse,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(q4)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ki(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?vc(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function H5e(n){return new M(3402,!1)}()}_flushAnimations(e,t){const r=new ub,i=[],s=new Map,o=[],a=new Map,c=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(ae=>{l.add(ae);const fe=this.driver.query(ae,".ng-animate-queued",!0);for(let pe=0;pe<fe.length;pe++)l.add(fe[pe])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=ise(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((ae,fe)=>{const pe=O4+g++;p.set(fe,pe),ae.forEach(Qe=>Ki(Qe,pe))});const m=[],w=new Set,v=new Set;for(let ae=0;ae<this.collectedLeaveElements.length;ae++){const fe=this.collectedLeaveElements[ae],pe=fe[hs];pe&&pe.setForRemoval&&(m.push(fe),w.add(fe),pe.hasAnimation?this.driver.query(fe,".ng-star-inserted",!0).forEach(Qe=>w.add(Qe)):v.add(fe))}const I=new Map,S=ise(h,Array.from(w));S.forEach((ae,fe)=>{const pe=tb+g++;I.set(fe,pe),ae.forEach(Qe=>Ki(Qe,pe))}),e.push(()=>{f.forEach((ae,fe)=>{const pe=p.get(fe);ae.forEach(Qe=>Ef(Qe,pe))}),S.forEach((ae,fe)=>{const pe=I.get(fe);ae.forEach(Qe=>Ef(Qe,pe))}),m.forEach(ae=>{this.processLeaveNode(ae)})});const O=[],V=[];for(let ae=this._namespaceList.length-1;ae>=0;ae--)this._namespaceList[ae].drainQueuedTransitions(t).forEach(pe=>{const Qe=pe.player,Kn=pe.element;if(O.push(Qe),this.collectedEnterElements.length){const Mr=Kn[hs];if(Mr&&Mr.setForMove){if(Mr.previousTriggersValues&&Mr.previousTriggersValues.has(pe.triggerName)){const pl=Mr.previousTriggersValues.get(pe.triggerName),Qi=this.statesByElement.get(pe.element);if(Qi&&Qi.has(pe.triggerName)){const wb=Qi.get(pe.triggerName);wb.value=pl,Qi.set(pe.triggerName,wb)}}return void Qe.destroy()}}const oo=!d||!this.driver.containsElement(d,Kn),Mi=I.get(Kn),Tc=p.get(Kn),qt=this._buildInstruction(pe,r,Tc,Mi,oo);if(qt.errors&&qt.errors.length)return void V.push(qt);if(oo)return Qe.onStart(()=>ll(Kn,qt.fromStyles)),Qe.onDestroy(()=>io(Kn,qt.toStyles)),void i.push(Qe);if(pe.isFallbackTransition)return Qe.onStart(()=>ll(Kn,qt.fromStyles)),Qe.onDestroy(()=>io(Kn,qt.toStyles)),void i.push(Qe);const kse=[];qt.timelines.forEach(Mr=>{Mr.stretchStartingKeyframe=!0,this.disabledNodes.has(Mr.element)||kse.push(Mr)}),qt.timelines=kse,r.append(Kn,qt.timelines),o.push({instruction:qt,player:Qe,element:Kn}),qt.queriedElements.forEach(Mr=>Pi(a,Mr,[]).push(Qe)),qt.preStyleProps.forEach((Mr,pl)=>{if(Mr.size){let Qi=c.get(pl);Qi||c.set(pl,Qi=new Set),Mr.forEach((wb,nU)=>Qi.add(nU))}}),qt.postStyleProps.forEach((Mr,pl)=>{let Qi=u.get(pl);Qi||u.set(pl,Qi=new Set),Mr.forEach((wb,nU)=>Qi.add(nU))})});if(V.length){const ae=[];V.forEach(fe=>{ae.push(function q5e(n,e){return new M(3505,!1)}())}),O.forEach(fe=>fe.destroy()),this.reportError(ae)}const ie=new Map,Ee=new Map;o.forEach(ae=>{const fe=ae.element;r.has(fe)&&(Ee.set(fe,fe),this._beforeAnimationBuild(ae.player.namespaceId,ae.instruction,ie))}),i.forEach(ae=>{const fe=ae.element;this._getPreviousPlayers(fe,!1,ae.namespaceId,ae.triggerName,null).forEach(Qe=>{Pi(ie,fe,[]).push(Qe),Qe.destroy()})});const et=m.filter(ae=>ose(ae,c,u)),Wn=new Map;rse(Wn,this.driver,v,u,ea).forEach(ae=>{ose(ae,c,u)&&et.push(ae)});const fy=new Map;f.forEach((ae,fe)=>{rse(fy,this.driver,new Set(ae),c,"!")}),et.forEach(ae=>{const fe=Wn.get(ae),pe=fy.get(ae);Wn.set(ae,new Map([...fe?.entries()??[],...pe?.entries()??[]]))});const fl=[],Rse=[],Mse={};o.forEach(ae=>{const{element:fe,player:pe,instruction:Qe}=ae;if(r.has(fe)){if(l.has(fe))return pe.onDestroy(()=>io(fe,Qe.toStyles)),pe.disabled=!0,pe.overrideTotalTime(Qe.totalTime),void i.push(pe);let Kn=Mse;if(Ee.size>1){let Mi=fe;const Tc=[];for(;Mi=Mi.parentNode;){const qt=Ee.get(Mi);if(qt){Kn=qt;break}Tc.push(Mi)}Tc.forEach(qt=>Ee.set(qt,Kn))}const oo=this._buildAnimation(pe.namespaceId,Qe,ie,s,fy,Wn);if(pe.setRealPlayer(oo),Kn===Mse)fl.push(pe);else{const Mi=this.playersByElement.get(Kn);Mi&&Mi.length&&(pe.parentPlayer=vc(Mi)),i.push(pe)}}else ll(fe,Qe.fromStyles),pe.onDestroy(()=>io(fe,Qe.toStyles)),Rse.push(pe),l.has(fe)&&i.push(pe)}),Rse.forEach(ae=>{const fe=s.get(ae.element);if(fe&&fe.length){const pe=vc(fe);ae.setRealPlayer(pe)}}),i.forEach(ae=>{ae.parentPlayer?ae.syncPlayerEvents(ae.parentPlayer):ae.destroy()});for(let ae=0;ae<m.length;ae++){const fe=m[ae],pe=fe[hs];if(Ef(fe,tb),pe&&pe.hasAnimation)continue;let Qe=[];if(a.size){let oo=a.get(fe);oo&&oo.length&&Qe.push(...oo);let Mi=this.driver.query(fe,N4,!0);for(let Tc=0;Tc<Mi.length;Tc++){let qt=a.get(Mi[Tc]);qt&&qt.length&&Qe.push(...qt)}}const Kn=Qe.filter(oo=>!oo.destroyed);Kn.length?H$e(this,fe,Kn):this.processLeaveNode(fe)}return m.length=0,fl.forEach(ae=>{this.players.push(ae),ae.onDone(()=>{ae.destroy();const fe=this.players.indexOf(ae);this.players.splice(fe,1)}),ae.play()}),fl}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!s||s==ly;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const u=c.element,l=u!==s,d=Pi(r,u,[]);this._getPreviousPlayers(u,l,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}ll(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,c=t.element,u=[],l=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;l.add(g);const m=g[hs];if(m&&m.removedBeforeQueried)return new K_(p.duration,p.delay);const w=g!==c,v=function q$e(n){const e=[];return sse(n,e),e}((r.get(g)||V$e).map(ie=>ie.getRealPlayer())).filter(ie=>!!ie.element&&ie.element===g),I=s.get(g),S=o.get(g),O=Nie(this._normalizer,p.keyframes,I,S),V=this._buildPlayer(p,O,v);if(p.subTimeline&&i&&d.add(g),w){const ie=new Q4(e,a,g);ie.setRealPlayer(V),u.push(ie)}return V});u.forEach(p=>{Pi(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function $$e(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),l.forEach(p=>Ki(p,$ie));const f=vc(h);return f.onDestroy(()=>{l.forEach(p=>Ef(p,$ie)),io(c,t.toStyles)}),d.forEach(p=>{Pi(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new K_(e.duration,e.delay)}}class Q4{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new K_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>x4(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Pi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function hb(n){return n&&1===n.nodeType}function nse(n,e){const t=n.style.display;return n.style.display=e??"none",t}function rse(n,e,t,r,i){const s=[];t.forEach(c=>s.push(nse(c)));const o=[];r.forEach((c,u)=>{const l=new Map;c.forEach(d=>{const h=e.computeStyle(u,d,i);l.set(d,h),(!h||0==h.length)&&(u[hs]=U$e,o.push(u))}),n.set(u,l)});let a=0;return t.forEach(c=>nse(c,s[a++])),o}function ise(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let c=s.get(a);if(c)return c;const u=a.parentNode;return c=t.has(u)?u:i.has(u)?1:o(u),s.set(a,c),c}return e.forEach(a=>{const c=o(a);1!==c&&t.get(c).push(a)}),t}function Ki(n,e){n.classList?.add(e)}function Ef(n,e){n.classList?.remove(e)}function H$e(n,e,t){vc(t).onDone(()=>n.processLeaveNode(e))}function sse(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Qne?sse(r.players,e):e.push(r)}}function ose(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class fb{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new j$e(e,t,r),this._timelineEngine=new k$e(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const c=[],l=U4(this._driver,s,c,[]);if(c.length)throw function N5e(n,e){return new M(3404,!1)}();a=function x$e(n,e,t){return new P$e(n,e,t)}(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=Lie(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=Lie(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Q$e=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&io(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(io(this._element,this._initialStyles),this._endStyles&&(io(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ll(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ll(this._element,this._endStyles),this._endStyles=null),io(this._element,this._initialStyles),this._state=3)}}return n})();function Y4(n){let e=null;return n.forEach((t,r)=>{(function Y$e(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class ase{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:qie(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class X$e{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Vie(e,t)}getParentElement(e){return M4(e)}query(e,t,r){return Uie(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const u=new Map,l=o.filter(f=>f instanceof ase);(function i$e(n,e){return 0===n||0===e})(r,i)&&l.forEach(f=>{f.currentSnapshot.forEach((p,g)=>u.set(g,p))});let d=function t$e(n){return n.length?n[0]instanceof Map?n:n.map(e=>zie(e)):[]}(t).map(f=>wc(f));d=function s$e(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,qie(n,a)))}}return e}(e,d,u);const h=function K$e(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Y4(e[0]),e.length>1&&(r=Y4(e[e.length-1]))):e instanceof Map&&(t=Y4(e)),t||r?new Q$e(n,t,r):null}(e,d);return new ase(e,d,c,h)}}let J$e=(()=>{class n extends zne{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Oi.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?qne(t):t;return cse(this._renderer,null,r,"register",[i]),new Z$e(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(C(sp),C(Me))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class Z$e extends Z3e{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new eze(this._id,e,t||{},this._renderer)}}class eze{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return cse(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function cse(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const use="@.disabled";let tze=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let l=this._rendererCache.get(s);return l||(l=new lse("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,l)),l}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=l=>{Array.isArray(l)?l.forEach(c):this.engine.registerTrigger(o,a,t,l.name,l)};return r.data.animation.forEach(c),new nze(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(C(sp),C(fb),C(ye))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class lse{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==use?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class nze extends lse{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==use?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function rze(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function ize(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let sze=(()=>{class n extends fb{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(C(Me),C(k4),C(G4),C(xs))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const dse=[{provide:zne,useClass:J$e},{provide:G4,useFactory:function oze(){return new C$e}},{provide:fb,useClass:sze},{provide:sp,useFactory:function aze(n,e,t){return new tze(n,e,t)},deps:[oS,fb,ye]}],X4=[{provide:k4,useFactory:()=>new X$e},{provide:np,useValue:"BrowserAnimations"},...dse],hse=[{provide:k4,useClass:Bie},{provide:np,useValue:"NoopAnimations"},...dse];let cze=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?hse:X4}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({providers:X4,imports:[YH]})}return n})();class uze{http;prefix;suffix;constructor(e,t="/assets/i18n/",r=".json"){this.http=e,this.prefix=t,this.suffix=r}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}}class gb{}class mb{}class so{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof so?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new so;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof so?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class lze{encodeKey(e){return fse(e)}encodeValue(e){return fse(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const hze=/%(\d[a-f0-9])/gi,fze={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fse(n){return encodeURIComponent(n).replace(hze,(e,t)=>fze[t]??e)}function _b(n){return`${n}`}class Ec{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new lze,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function dze(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(_b):[_b(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ec({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(_b(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(_b(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class pze{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function pse(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function gse(n){return typeof Blob<"u"&&n instanceof Blob}function mse(n){return typeof FormData<"u"&&n instanceof FormData}class dy{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function gze(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new so),this.context||(this.context=new pze),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ec,this.urlWithParams=t}serializeBody(){return null===this.body?null:pse(this.body)||gse(this.body)||mse(this.body)||function mze(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ec?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mse(this.body)?null:gse(this.body)?this.body.type||null:pse(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ec?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new dy(t,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var If=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(If||{});class J4{constructor(e,t=200,r="OK"){this.headers=e.headers||new so,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Z4 extends J4{constructor(e={}){super(e),this.type=If.ResponseHeader}clone(e={}){return new Z4({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Tf extends J4{constructor(e={}){super(e),this.type=If.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Tf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _se extends J4{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function eU(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let yse=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof dy)s=t;else{let c,u;c=i.headers instanceof so?i.headers:new so(i.headers),i.params&&(u=i.params instanceof Ec?i.params:new Ec({fromObject:i.params})),s=new dy(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=le(s).pipe(Hc(c=>this.handler.handle(c)));if(t instanceof dy||"events"===i.observe)return o;const a=o.pipe(wr(c=>c instanceof Tf));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(je(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(je(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(je(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(je(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ec).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,eU(i,r))}post(t,r,i={}){return this.request("POST",t,eU(i,r))}put(t,r,i={}){return this.request("PUT",t,eU(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(C(gb))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function Ese(n,e){return e(n)}function yze(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const wze=new j(""),hy=new j(""),Ise=new j("");function Eze(){let n=null;return(e,t)=>{null===n&&(n=(Y(wze,{optional:!0})??[]).reduceRight(yze,Ese));const r=Y(Gv),i=r.add();return n(e,t).pipe(Fp(()=>r.remove(i)))}}let Tse=(()=>{class n extends gb{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Y(Gv)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(hy),...this.injector.get(Ise,[])]));this.chain=i.reduceRight((s,o)=>function vze(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(s,o,this.injector),Ese)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Fp(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(C(mb),C(wi))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const Cze=/^\)\]\}',?\n/;let Cse=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new M(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?kn(r.\u0275loadImpl()):le(null)).pipe(fi(()=>new ht(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((g,m)=>o.setRequestHeader(g,m.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const g=t.detectContentTypeHeader();null!==g&&o.setRequestHeader("Content-Type",g)}if(t.responseType){const g=t.responseType.toLowerCase();o.responseType="json"!==g?g:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const g=o.statusText||"OK",m=new so(o.getAllResponseHeaders()),w=function Aze(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return c=new Z4({headers:m,status:o.status,statusText:g,url:w}),c},l=()=>{let{headers:g,status:m,statusText:w,url:v}=u(),I=null;204!==m&&(I=typeof o.response>"u"?o.responseText:o.response),0===m&&(m=I?200:0);let S=m>=200&&m<300;if("json"===t.responseType&&"string"==typeof I){const O=I;I=I.replace(Cze,"");try{I=""!==I?JSON.parse(I):null}catch(V){I=O,S&&(S=!1,I={error:V,text:I})}}S?(s.next(new Tf({body:I,headers:g,status:m,statusText:w,url:v||void 0})),s.complete()):s.error(new _se({error:I,headers:g,status:m,statusText:w,url:v||void 0}))},d=g=>{const{url:m}=u(),w=new _se({error:g,status:o.status||0,statusText:o.statusText||"Unknown Error",url:m||void 0});s.error(w)};let h=!1;const f=g=>{h||(s.next(u()),h=!0);let m={type:If.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),"text"===t.responseType&&o.responseText&&(m.partialText=o.responseText),s.next(m)},p=g=>{let m={type:If.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),s.next(m)};return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),t.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:If.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",d),t.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(C(kH))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const tU=new j("XSRF_ENABLED"),Ase=new j("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Dse=new j("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Sse{}let xze=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=bH(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(C(Me),C(Is),C(Ase))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function Pze(n,e){const t=n.url.toLowerCase();if(!Y(tU)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=Y(Sse).getToken(),i=Y(Dse);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Ic=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Ic||{});function Rze(...n){const e=[yse,Cse,Tse,{provide:gb,useExisting:Tse},{provide:mb,useExisting:Cse},{provide:hy,useValue:Pze,multi:!0},{provide:tU,useValue:!0},{provide:Sse,useClass:xze}];for(const t of n)e.push(...t.\u0275providers);return uv(e)}const xse=new j("LEGACY_INTERCEPTOR_FN");function Mze(){return function hl(n,e){return{\u0275kind:n,\u0275providers:e}}(Ic.LegacyInterceptors,[{provide:xse,useFactory:Eze},{provide:hy,useExisting:xse,multi:!0}])}let kze=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n});static#n=this.\u0275inj=St({providers:[Rze(Mze())]})}return n})();function Uze(n){return new uze(n)}const Pse=R7({apiKey:"AIzaSyD0h4s7aPUkcA9dNIK3lSOc_-i7hjAkeX4",authDomain:"noa-ua-accc9.firebaseapp.com",projectId:"noa-ua-accc9",storageBucket:"noa-ua-accc9.appspot.com",messagingSenderId:"301772426373",appId:"1:301772426373:web:7ef32c262113c1d8e2adec",measurementId:"G-HQCZBD7XPW"});mg(Pse);let Bze=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vt({type:n,bootstrap:[I4e]});static#n=this.\u0275inj=St({imports:[YH,TRe,f4e,f5e.forRoot(),ROe(()=>Pse),Gje(()=>Hje()),kze,cze,uRe.forRoot({loader:{provide:Pm,useFactory:Uze,deps:[yse]}})]})}return n})();Bye().bootstrapModule(Bze).catch(n=>console.error(n))}},Ue=>{Ue(Ue.s=652)}]);